/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-inlinesvg-smil-svg-svgclippaths-touch-webgl-shiv-mq-cssclasses-addtest-prefixed-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function D(a){j.cssText=a}function E(a,b){return D(n.join(a+";")+(b||""))}function F(a,b){return typeof a===b}function G(a,b){return!!~(""+a).indexOf(b)}function H(a,b){for(var d in a){var e=a[d];if(!G(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function I(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:F(f,"function")?f.bind(d||b):f}return!1}function J(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return F(b,"string")||F(b,"undefined")?H(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),I(e,b,c))}function K(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return y("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},A=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=F(e[d],"function"),F(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),B={}.hasOwnProperty,C;!F(B,"undefined")&&!F(B.call,"undefined")?C=function(a,b){return B.call(a,b)}:C=function(a,b){return b in a&&F(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return J("flexWrap")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!F(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!J("indexedDB",a)},s.hashchange=function(){return A("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return D("background-color:rgba(150,255,150,.5)"),G(j.backgroundColor,"rgba")},s.hsla=function(){return D("background-color:hsla(120,40%,100%,.5)"),G(j.backgroundColor,"rgba")||G(j.backgroundColor,"hsla")},s.multiplebgs=function(){return D("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return J("backgroundSize")},s.borderimage=function(){return J("borderImage")},s.borderradius=function(){return J("borderRadius")},s.boxshadow=function(){return J("boxShadow")},s.textshadow=function(){return b.createElement("div").style.textShadow===""},s.opacity=function(){return E("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return J("animationName")},s.csscolumns=function(){return J("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return D((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),G(j.backgroundImage,"gradient")},s.cssreflections=function(){return J("boxReflect")},s.csstransforms=function(){return!!J("transform")},s.csstransforms3d=function(){var a=!!J("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},s.csstransitions=function(){return J("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var L in s)C(s,L)&&(x=L.toLowerCase(),e[x]=s[L](),v.push((e[x]?"":"no-")+x));return e.input||K(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)C(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},D(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=z,e.hasEvent=A,e.testProp=function(a){return H([a])},e.testAllProps=J,e.testStyles=y,e.prefixed=function(a,b,c){return b?J(a,b,c):J(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
;/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);
;// Avoid `console` errors in browsers that lack a console.
(function() {
    var method;
    var noop = function () {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());

// Place any jQuery/helper plugins in here.
;/*! jQuery UI - v1.11.0 - 2014-06-26
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var a,n,r,o=t.nodeName.toLowerCase();return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(g.inline?t.parent()[0]:g.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function o(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),i="absolute"===t,s=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),a=isNaN(s);return(a||s>=0)&&t(i,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,n){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(n,s(this,t)+"px")})},e.fn["outer"+i]=function(t,a){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(n,s(this,t,!0,a)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i,s){var a,n=e.plugins[t];if(n&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;n.length>a;a++)e.options[n[a][0]]&&n[a][1].apply(e.element,i)}};var h=0,l=Array.prototype.slice;e.cleanData=function(t){return function(i){for(var s,a=0;null!=(s=i[a]);a++)try{e(s).triggerHandler("remove")}catch(n){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var a,n,r,o,h={},l=t.split(".")[0];return t=t.split(".")[1],a=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[l]=e[l]||{},n=e[l][t],r=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new r(e,t)},e.extend(r,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,n=this._superApply;return this._super=e,this._superApply=a,t=s.apply(this,arguments),this._super=i,this._superApply=n,t}}(),void 0):(h[t]=s,void 0)}),r.prototype=e.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||t:t},h,{constructor:r,namespace:l,widgetName:t,widgetFullName:a}),n?(e.each(n._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete n._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,s,a=l.call(arguments,1),n=0,r=a.length;r>n;n++)for(i in a[n])s=a[n][i],a[n].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var n="string"==typeof a,r=l.call(arguments,1),o=this;return a=!n&&r.length?e.widget.extend.apply(null,[a].concat(r)):a,n?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(o=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(o=i&&i.jquery?o.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))}),o}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,a,n,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},s=t.split("."),t=s.shift(),s.length){for(a=r[t]=e.widget.extend({},this.options[t]),n=0;s.length-1>n;n++)a[s[n]]=a[s[n]]||{},a=a[s[n]];if(t=s.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var a,n=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=a=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,a=this.widget()),e.each(s,function(s,r){function o(){return t||n.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+n.eventNamespace,u=h[2];u?a.delegate(u,l,o):i.bind(l,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&e.effects.effect[o]?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}}),e.widget;var u=!1;e(document).mouseup(function(){u=!1}),e.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!u){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,a="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),u=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,n,r=Math.max,o=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=s.children()[0];return e("body").append(s),t=n.offsetWidth,s.css("overflow","scroll"),i=n.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),a=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:n?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return f.apply(this,arguments);a=e.extend({},a);var p,m,g,v,y,b,_=e(a.of),x=e.position.getWithinInfo(a.within),k=e.position.getScrollInfo(x),w=(a.collision||"flip").split(" "),D={};return b=s(_),_[0].preventDefault&&(a.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(a[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),D[this]=[e?e[0]:0,t?t[0]:0],a[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===a.at[0]?y.left+=m:"center"===a.at[0]&&(y.left+=m/2),"bottom"===a.at[1]?y.top+=g:"center"===a.at[1]&&(y.top+=g/2),p=t(D.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),T=d+f+i(this,"marginRight")+k.width,S=c+b+i(this,"marginBottom")+k.height,M=e.extend({},y),N=t(D.my,u.outerWidth(),u.outerHeight());"right"===a.my[0]?M.left-=d:"center"===a.my[0]&&(M.left-=d/2),"bottom"===a.my[1]?M.top-=c:"center"===a.my[1]&&(M.top-=c/2),M.left+=N[0],M.top+=N[1],n||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:T,collisionHeight:S,offset:[p[0]+N[0],p[1]+N[1]],my:a.my,at:a.at,within:x,elem:u})}),a.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,n=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>n?"top":s>0?"bottom":"middle"};d>m&&m>o(t+i)&&(h.horizontal="center"),c>g&&g>o(s+n)&&(h.vertical="middle"),h.important=r(o(t),o(i))>r(o(s),o(n))?"horizontal":"vertical",a.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,o=e.left-t.collisionPosition.marginLeft,h=a-o,l=o+t.collisionWidth-n-a;t.collisionWidth>n?h>0&&0>=l?(i=e.left+h+t.collisionWidth-n-a,e.left+=h-i):e.left=l>0&&0>=h?a:h>l?a+n-t.collisionWidth:a:h>0?e.left+=h:l>0?e.left-=l:e.left=r(e.left-o,e.left)},top:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,n=t.within.height,o=e.top-t.collisionPosition.marginTop,h=a-o,l=o+t.collisionHeight-n-a;t.collisionHeight>n?h>0&&0>=l?(i=e.top+h+t.collisionHeight-n-a,e.top+=h-i):e.top=l>0&&0>=h?a:h>l?a+n-t.collisionHeight:a:h>0?e.top+=h:l>0?e.top-=l:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,n=a.offset.left+a.scrollLeft,r=a.width,h=a.isWindow?a.scrollLeft:a.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-r-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-r-n,(0>i||o(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>o(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,a=t.within,n=a.offset.top+a.scrollTop,r=a.height,h=a.isWindow?a.scrollTop:a.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-r-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-r-n,e.top+p+f+m>u&&(0>s||o(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,e.top+p+f+m>d&&(i>0||d>o(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,a,r,o=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in s)t.style[r]=s[r];t.appendChild(h),i=o||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",a=e(h).offset().left,n=a>10&&11>a,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.document[0],s=this.options;try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(a){}return this.helper||s.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(s.iframeFix===!0?"iframe":s.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this._removeHandleClassName(),e(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,a=this.options,n=this.document[0];return this.relative_container=null,a.containment?"window"===a.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===a.containment?(this.containment=[0,0,e(n).width()-this.helperProportions.width-this.margins.left,(e(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):a.containment.constructor===Array?(this.containment=a.containment,void 0):("parent"===a.containment&&(a.containment=this.helper[0].parentNode),i=e(a.containment),s=i[0],s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,a,n,r=this.options,o=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),r.grid&&(a=r.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,l=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-r.grid[1]:a+r.grid[1]:a,n=r.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,h=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(h=this.originalPageX),"x"===r.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var a=s.options,n=e.extend({},i,{item:s.element});s.sortables=[],e(a.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var a=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,a))})},drag:function(t,i,s){var a=this;e.each(s.sortables,function(){var n=!1,r=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(a).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var a=e("body"),n=s.options;a.css("cursor")&&(n._cursor=a.css("cursor")),a.css("cursor",n.cursor)},stop:function(t,i,s){var a=s.options;a._cursor&&e("body").css("cursor",a._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var a=e(i.helper),n=s.options;a.css("opacity")&&(n._opacity=a.css("opacity")),a.css("opacity",n.opacity)},stop:function(t,i,s){var a=s.options;a._opacity&&e(i.helper).css("opacity",a._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParent[0]!==i.document[0]&&"HTML"!==i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(t,i,s){var a=s.options,n=!1,r=s.document[0];s.scrollParent[0]!==r&&"HTML"!==s.scrollParent[0].tagName?(a.axis&&"x"===a.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?s.scrollParent[0].scrollTop=n=s.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-s.overflowOffset.top<a.scrollSensitivity&&(s.scrollParent[0].scrollTop=n=s.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?s.scrollParent[0].scrollLeft=n=s.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-s.overflowOffset.left<a.scrollSensitivity&&(s.scrollParent[0].scrollLeft=n=s.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(t.pageY-e(r).scrollTop()<a.scrollSensitivity?n=e(r).scrollTop(e(r).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<a.scrollSensitivity&&(n=e(r).scrollTop(e(r).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(t.pageX-e(r).scrollLeft()<a.scrollSensitivity?n=e(r).scrollLeft(e(r).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<a.scrollSensitivity&&(n=e(r).scrollLeft(e(r).scrollLeft()+a.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var a=s.options;s.snapElements=[],e(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var a,n,r,o,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left,l=h+s.snapElements[c].width,u=s.snapElements[c].top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(a=m>=Math.abs(u-b),n=m>=Math.abs(d-y),r=m>=Math.abs(h-v),o=m>=Math.abs(l-g),a&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top-s.margins.top),n&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top-s.margins.top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left-s.margins.left)),p=a||n||r||o,"outer"!==f.snapMode&&(a=m>=Math.abs(u-y),n=m>=Math.abs(d-b),r=m>=Math.abs(h-g),o=m>=Math.abs(l-v),a&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top-s.margins.top),n&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top-s.margins.top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[c].snapping&&(a||n||r||o||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=a||n||r||o||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var a,n=s.options,r=e.makeArray(e(n.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(a=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",a+t)}),this.css("zIndex",a+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var a=e(i.helper),n=s.options;a.css("zIndex")&&(n._zIndex=a.css("zIndex")),a.css("zIndex",n.zIndex)},stop:function(t,i,s){var a=s.options;a._zIndex&&e(i.helper).css("zIndex",a._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,a=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s){if(!i.offset)return!1;var a,n,r=(t.positionAbs||t.position.absolute).left,o=(t.positionAbs||t.position.absolute).top,h=r+t.helperProportions.width,l=o+t.helperProportions.height,u=i.offset.left,d=i.offset.top,c=u+i.proportions().width,p=d+i.proportions().height;switch(s){case"fit":return r>=u&&c>=h&&o>=d&&p>=l;case"intersect":return r+t.helperProportions.width/2>u&&c>h-t.helperProportions.width/2&&o+t.helperProportions.height/2>d&&p>l-t.helperProportions.height/2;case"pointer":return a=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,n=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(n,d,i.proportions().height)&&e(a,u,i.proportions().width);case"touch":return(o>=d&&p>=o||l>=d&&p>=l||d>o&&l>p)&&(r>=u&&c>=r||h>=u&&c>=h||u>r&&h>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,a,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;n.length>s;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(a=0;o.length>a;a++)if(o[a]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,a,n,r=e.ui.intersect(t,this,this.options.tolerance),o=!r&&this.isover?"isout":r&&!this.isover?"isover":null;o&&(this.options.greedy&&(a=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===a}),n.length&&(s=e(n[0]).droppable("instance"),s.greedyChild="isover"===o)),s&&"isover"===o&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),s&&"isout"===o&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)},_create:function(){var t,i,s,a,n,r=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),n="ui-resizable-"+s,a=e("<div class='ui-resizable-handle "+n+"'></div>"),a.css({zIndex:o.zIndex}),"se"===s&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(a);this._renderAxis=function(t){var i,s,a,n;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(a,n),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,a=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(t){var i,s,a,n=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(i+=e(n.containment).scrollLeft()||0,s+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:i,top:s},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s=this.helper,a={},n=this.originalMousePosition,r=this.axis,o=t.pageX-n.left||0,h=t.pageY-n.top||0,l=this._change[r];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},l?(i=l.apply(this,[t,o,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),s.css(a),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,a,n,r,o,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),a=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,n=s?0:u.sizeDiff.width,r={width:u.helper.width()-n,height:u.helper.height()-a},o=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(r,{top:h,left:o})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,s,a,n,r=this.options;n={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,a=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),s>n.minHeight&&(n.minHeight=s),n.maxWidth>i&&(n.maxWidth=i),n.maxHeight>a&&(n.maxHeight=a)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,n=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return n&&(e.width=t.minWidth),r&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),n&&l&&(e.left=o-t.minWidth),s&&l&&(e.left=o-t.maxWidth),r&&u&&(e.top=h-t.minHeight),a&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,a,n=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(a=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],s=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);a.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,a=this.originalPosition;return{top:a.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,a=i._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),r=n&&i._hasScroll(a[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,h={width:i.size.width-o,height:i.size.height-r},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};a&&a.length&&e(a[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,a,n,r,o,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,a=h.containerSize.height,n=h.containerSize.width,r=h._hasScroll(c,"left")?c.scrollWidth:n,o=h._hasScroll(c)?c.scrollHeight:a,h.parentData={element:c,left:s.left,top:s.top,width:r,height:o}))},resize:function(t,i){var s,a,n,r,o=e(this).resizable("instance"),h=o.options,l=o.containerOffset,u=o.position,d=o._aspectRatio||t.shiftKey,c={top:0,left:0},p=o.containerElement,f=!0;p[0]!==document&&/static/.test(p.css("position"))&&(c=l),u.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-c.left),d&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=h.helper?l.left:0),u.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,s=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-l.left)+o.sizeDiff.width),a=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-l.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),n&&r&&(s-=Math.abs(o.parentData.left)),s+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-s,d&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),a+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-a,d&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=i.prevPosition.left,o.position.top=i.prevPosition.top,o.size.width=i.prevSize.width,o.size.height=i.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,a=t.containerPosition,n=t.containerElement,r=e(t.helper),o=r.offset(),h=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,i){var s=e(this).resizable("instance"),a=s.options,n=s.originalSize,r=s.originalPosition,o={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0},h=function(t,s){e(t).each(function(){var t=e(this),a=e(this).data("ui-resizable-alsoresize"),n={},r=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(a[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?h(a.alsoResize):e.each(a.alsoResize,function(e,t){h(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size,a=t.originalSize,n=t.originalPosition,r=t.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=o[0]||1,l=o[1]||1,u=Math.round((s.width-a.width)/h)*h,d=Math.round((s.height-a.height)/l)*l,c=a.width+u,p=a.height+d,f=i.maxWidth&&c>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>c,v=i.minHeight&&i.minHeight>p;i.grid=o,g&&(c+=h),v&&(p+=l),f&&(c-=h),m&&(p-=l),/^(se|s|e)$/.test(r)?(t.size.width=c,t.size.height=p):/^(ne)$/.test(r)?(t.size.width=c,t.size.height=p,t.position.top=n.top-d):/^(sw)$/.test(r)?(t.size.width=c,t.size.height=p,t.position.left=n.left-u):(p-l>0?(t.size.height=p,t.position.top=n.top-d):(t.size.height=l,t.position.top=n.top+a.height-l),c-h>0?(t.size.width=c,t.position.left=n.left-u):(t.size.width=h,t.position.left=n.left+a.width-h))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;
this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,a=e.data(this,"selectable-item");return a?(s=!t.metaKey&&!t.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),a.unselecting=!s,a.selecting=s,a.selected=s,s?i._trigger("selecting",t,{selecting:a.element}):i._trigger("unselecting",t,{unselecting:a.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,a=this.options,n=this.opos[0],r=this.opos[1],o=t.pageX,h=t.pageY;return n>o&&(i=o,o=n,n=i),r>h&&(i=h,h=r,r=i),this.helper.css({left:n,top:r,width:o-n,height:h-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===a.tolerance?l=!(i.left>o||n>i.right||i.top>h||r>i.bottom):"fit"===a.tolerance&&(l=i.left>n&&o>i.right&&i.top>r&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,a=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")===n?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")===n&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(a=!0)}),a)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var a,n,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(n)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,a,n,r=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],a=s.item[0],n=this._intersectsWithPointer(s),n&&s.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,a=this.placeholder.offset(),n=this.options.axis,r={};n&&"x"!==n||(r.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(r.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,a=s+this.helperProportions.height,n=e.left,r=n+e.width,o=e.top,h=o+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>o&&h>s+l,c="y"===this.options.axis||t+u>n&&r>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>n&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&h>a-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return s?this.floating?n&&"right"===n||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){o.push(this)}var s,a,n,r,o=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(n=e(l[s]),a=n.length-1;a>=0;a--)r=e.data(n[a],this.widgetFullName),r&&r!==this&&!r.options.disabled&&h.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,a,n,r,o,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(a=e(c[i]),s=a.length-1;s>=0;s--)n=e.data(a[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(d.push([e.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):e(n.options.items,n.element),n]),this.containers.push(n));for(i=d.length-1;i>=0;i--)for(r=d[i][1],o=d[i][0],s=0,l=o.length;l>s;s++)h=e(o[s]),h.data(this.widgetName+"-item",r),u.push({item:h,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,a,n;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=a.outerWidth(),s.height=a.outerHeight()),n=a.offset(),s.left=n.left,s.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(a)}):"img"===s&&a.attr("src",t.currentItem.attr("src")),i||a.css("visibility","hidden"),a},update:function(e,a){(!i||s.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,a,n,r,o,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,n=null,u=c.floating||this._isFloating(this.currentItem),r=u?"left":"top",o=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[r],l=!1,t[d]-h>this.items[s][o]/2&&(l=!0),a>Math.abs(t[d]-h)&&(a=Math.abs(t[d]-h),n=this.items[s],this.direction=l?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],i=e(a.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:a.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:a.scrollLeft())*s}},_generatePosition:function(t){var i,s,a=this.options,n=t.pageX,r=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/a.grid[1])*a.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/a.grid[0])*a.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:o.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:o.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||a.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(a.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),s=0;a.length>s;s++)a[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(s=0;a.length>s;s++)a[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,a=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(a+1)%s];break;case i.LEFT:case i.UP:n=this.headers[(a-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[s-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,s=i.heightStyle,a=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),a=s.uniqueId().attr("id");
t.attr("aria-controls",a),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=a.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,a=e(t.currentTarget),n=a[0]===s[0],r=n&&i.collapsible,o=r?e():a.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:r?e():a,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=r?!1:this.headers.index(a),this.active=n?e():a,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var s,a,n,r=this,o=0,h=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=h&&l.down||l,d=function(){r._toggleComplete(i)};return"number"==typeof u&&(n=u),"string"==typeof u&&(a=u),a=a||u.easing||l.easing,n=n||u.duration||l.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:n,easing:a,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:n,easing:a,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?o+=i.now:"content"!==r.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-o),o=0)}}),void 0):t.animate(this.hideProps,n,a,d):e.animate(this.showProps,n,a,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,a,n,r,o,h=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:h=!1,a=this.previousFilter||"",n=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),n===a?r=!0:n=a+n,o=RegExp("^"+i(n),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return o.test(e(this).text())}),s=r&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(n=String.fromCharCode(t.keyCode),o=RegExp("^"+i(n),"i"),s=this.activeMenu.find(this.options.items).filter(function(){return o.test(e(this).text())})),s.length?(this.focus(t,s),s.length>1?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,a=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=n.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,a,n,r,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-i-s,n=this.activeMenu.scrollTop(),r=this.activeMenu.height(),o=t.outerHeight(),0>a?this.activeMenu.scrollTop(n+a):a+o>r&&this.activeMenu.scrollTop(n+a-r+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,a;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-a}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,a;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+a>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}}),e.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,a=this.element[0].nodeName.toLowerCase(),n="textarea"===a,r="input"===a;this.isMultiLine=n?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[n||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var n=e.ui.keyCode;switch(a.keyCode){case n.PAGE_UP:t=!0,this._move("previousPage",a);break;case n.PAGE_DOWN:t=!0,this._move("nextPage",a);break;case n.UP:t=!0,this._keyEvent("previous",a);break;case n.DOWN:t=!0,this._keyEvent("next",a);break;case n.ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case n.TAB:this.menu.active&&this.menu.select(a);break;case n.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:i=!0,this._searchTimeout(a)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var a=e.ui.keyCode;switch(s.keyCode){case a.PAGE_UP:this._move("previousPage",s);break;case a.PAGE_DOWN:this._move("nextPage",s);break;case a.UP:this._keyEvent("previous",s);break;case a.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,a;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(a=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:a})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value),s=i.item.attr("aria-label")||a.value,s&&jQuery.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,a){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){a(e)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var d,c="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},m=function(t){var i=t.name,s=t.form,a=e([]);return i&&(i=i.replace(/'/g,"\\'"),a=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),a};e.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,a=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(a)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];m(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),d=this,t.document.one("mouseup",function(){d=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?m(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(p),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,a=s.primary&&s.secondary,n=[];s.primary||s.secondary?(this.options.text&&n.push("ui-button-text-icon"+(a?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(n.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):n.push("ui-button-text-only"),t.addClass(n.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.0"}});var g;e.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,a,n;s=t.nodeName.toLowerCase(),a="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),a),n.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,n):a&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,a,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(a=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:a,title:a}):a)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,a,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,s=0,a=0;e.length>a;a++)e[a].length>i&&(i=e[a].length,s=a);return s},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,a,n){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),a=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())
},_enableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=a.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,a=e(t),n=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=a.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var a,n,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,a),null!==o&&void 0!==a.dateFormat&&void 0===a.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==a.dateFormat&&void 0===a.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,n),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,a,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),a[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,a[0]),i=e.datepicker._get(n,"onSelect"),i?(s=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[s,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(a){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(r(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,g=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var i,s=this._getNumberOfMonths(t),a=s[1],n=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&t.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",n*a+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var a=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?a-r:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>h&&h>a?Math.abs(i.left+a-h):0),i.top-=Math.min(i.top,i.top+n>l&&l>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,s=this._getInst(t),a=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,a,n,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),a=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[i]||e.effects[i])?r.dpDiv.hide(i,e.datepicker._get(r,"showOptions"),s,a):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,a),i||a(),this._datepickerShowing=!1,n=this._get(r,"onClose"),n&&n.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var a=e(t),n=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(n,i+("M"===s?this._get(n,"showCurrentAtPos"):0),s),this._updateDatepicker(n))},_gotoToday:function(t){var i,s=e(t),a=this._getInst(s[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var a=e(t),n=this._getInst(a[0]);n["selected"+("M"===s?"Month":"Year")]=n["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(a)},_selectDay:function(t,i,s,a){var n,r=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",a).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=s,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,a=e(t),n=this._getInst(a[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),s=this._get(n,"onSelect"),s?s.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,a,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),a=this.formatDate(i,s,this._getFormatConfig(t)),e(n).each(function(){e(this).val(a)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var a,n,r,o,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a=RegExp("^\\d{1,"+s+"}"),n=i.substring(h).match(a);if(!n)throw"Missing number at position "+h;return h+=n[0].length,parseInt(n[0],10)},k=function(t,s,a){var n=-1,r=e.map(_(t)?a:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(n=t[0],h+=s.length,!1):void 0}),-1!==n)return n+1;throw"Unknown name at position "+h},w=function(){if(i.charAt(h)!==t.charAt(a))throw"Unexpected literal at position "+h;h++};for(a=0;t.length>a;a++)if(b)"'"!==t.charAt(a)||_("'")?w():b=!1;else switch(t.charAt(a)){case"d":v=x("d");break;case"D":k("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=k("M",p,f);break;case"y":m=x("y");break;case"@":o=new Date(x("@")),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((x("!")-this._ticksTo1970)/1e4),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"'":_("'")?w():b=!0;break;default:w()}if(i.length>h&&(r=i.substr(h),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(n=this._getDaysInMonth(m,g-1),n>=v)break;g++,v-=n}if(o=this._daylightSavingAdjust(new Date(m,g-1,v)),o.getFullYear()!==m||o.getMonth()+1!==g||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),a,n);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),r,o);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,a=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||a("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),n=a,r=this._getFormatConfig(e);try{n=this.parseDate(i,s,r)||a}catch(o){s=t?"":s}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=s?n.getDate():0,e.currentMonth=s?n.getMonth():0,e.currentYear=s?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var a=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=a.getFullYear(),r=a.getMonth(),o=a.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}l=h.exec(i)}return new Date(n,r,o)},r=null==i||""===i?s:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?s:a(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?s:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,a=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),a===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,a,n,r,o,h,l,u,d,c,p,f,m,g,v,y,b,_,x,k,w,D,T,S,M,N,C,A,I,P,F,H,z,j,E,O,L,W=new Date,R=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),Y=this._get(e,"isRTL"),J=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),K=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),G=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-q,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=K?this.formatDate(a,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):a,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,r=K?this.formatDate(r,o,this._getFormatConfig(e)):r,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",k=0;V[0]>k;k++){for(w="",this.maxRows=4,D=0;V[1]>D;D++){if(T=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",G){if(M+="<div class='ui-datepicker-group",V[1]>1)switch(D){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case V[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===k?Y?n:s:"")+(/all|right/.test(S)&&0===k?Y?s:n:"")+this._generateMonthYearHeader(e,Z,et,X,$,k>0||D>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)C=(x+u)%7,N+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[C]+"'>"+p[C]+"</span></th>";for(M+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(et,Z)-u+7)%7,P=Math.ceil((I+A)/7),F=G?this.maxRows>P?this.maxRows:P:P,this.maxRows=F,H=this._daylightSavingAdjust(new Date(et,Z,1-I)),z=0;F>z;z++){for(M+="<tr>",j=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(H)+"</td>":"",x=0;7>x;x++)E=g?g.apply(e.input?e.input[0]:null,[H]):[!0,""],O=H.getMonth()!==Z,L=O&&!y||!E[0]||X&&X>H||$&&H>$,j+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(H.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===H.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!v?"":" "+E[1]+(H.getTime()===Q.getTime()?" "+this._currentClass:"")+(H.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(O&&!v||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(O&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+H.getDate()+"</span>":"<a class='ui-state-default"+(H.getTime()===R.getTime()?" ui-state-highlight":"")+(H.getTime()===Q.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);M+=j+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(G?"</div>"+(V[0]>0&&D===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=M}_+=w}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,a,n,r,o){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(n||!g)_+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=a&&a.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||a.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+o[u]+"</option>");_+="</select>"}if(y||(b+=_+(!n&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!n&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),a=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(s,a))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,a,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return s&&a>s?s:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var a=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,s+(0>t?t:a[0]*a[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,s,a=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=s),i[1].match(/[+\-].*/)&&(o+=s)),(!a||t.getTime()>=a.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new a,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.0",e.datepicker,e.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(a){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,a=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),n=Math.max.apply(null,a);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()
},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),a=i.filter(":last");t.target!==a[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){a.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var a,n;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),a=s.click,s.click=function(){a.apply(t.element[0],arguments)},n={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(n).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,a){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(a))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(a,n){var r=n.offset.left-i.document.scrollLeft(),o=n.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(o>=0?"+":"")+o,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",a,t(n))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,a=s.resizable,n=this.uiDialog.css("position"),r="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:r,start:function(s,a){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(a))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(a,n){var r=i.uiDialog.offset(),o=r.left-i.document.scrollLeft(),h=r.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",a,t(n))}}).css("position",n)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=e(t.target)}})},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,a={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(a[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,s,a=this.uiDialog;"dialogClass"===e&&a.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=a.is(":data(ui-draggable)"),i&&!t&&a.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=a.is(":data(ui-resizable)"),s&&!t&&a.resizable("destroy"),s&&"string"==typeof t&&a.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,a="";e.each(i,function(i,n){n.optgroup!==a&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(n.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:n.optgroup}).appendTo(t),a=n.optgroup),s._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,a=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),a+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](a).eq(-1):i[e+"All"](a).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{click:"_toggle",keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&(t||(t=this.element.outerWidth()),this.button.outerWidth(t))},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var a=e(s),n=a.parent("optgroup");i.push({element:a,index:t,value:a.attr("value"),label:a.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||a.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,a=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),n="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",r=[];for(i=s.values&&s.values.length||1,a.length>i&&(a.slice(i).remove(),a=a.slice(0,i)),t=a.length;i>t;t++)r.push(n);this.handles=a.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,a,n,r,o,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(a>i||a===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(a=i,n=e(this),r=t)}),o=this._start(t,r),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,n.addClass("ui-state-active").focus(),h=n.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-n.width()/2,top:t.pageY-h.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,a,n;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),a=this._valueMax()-this._valueMin(),n=this._valueMin()+s*a,this._trimAlignValue(n)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,a,n;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(a=this.values(),a[t]=i,n=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),s=this.values(t?0:1),n!==!1&&this.values(t,i))):i!==this.value()&&(n=this._trigger("slide",e,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,a,n;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,a=arguments[0],n=0;s.length>n;n+=1)s[n]=this._trimAlignValue(a[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,i){var s,a=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(a=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;a>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,a,n,r=this.options.range,o=this.options,h=this,l=this._animateOff?!1:o.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,o.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},o.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},o.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(s=this.value(),a=this._valueMin(),n=this._valueMax(),i=n!==a?100*((s-a)/(n-a)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(t){var i,s,a,n,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,r),i===!1))return}switch(n=this.options.step,s=a=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;a=this._trimAlignValue(s+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;a=this._trimAlignValue(s-n)}this._slide(t,r,a)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var a=i.attr(s);void 0!==a&&a.length&&(t[s]=a)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e
},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:o(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:o(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:o(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:o(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(o(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(a){}try{s=decodeURIComponent(s)}catch(a){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,a){return e(a).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),a=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:a=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,a),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>a&&(t=0),0>t&&(t=a),t}for(var a=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var a,n,r,o=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(a=s.hash,r=a.substring(1),n=t.element.find(t._sanitizeSelector(a))):(r=h.attr("aria-controls")||e({}).uniqueId()[0].id,a="#"+r,n=t.element.find(a),n.length||(n=t._createPanel(r),n.insertAfter(t.panels[i-1]||t.tablist)),n.attr("aria-live","polite")),n.length&&(t.panels=t.panels.add(n)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":r,"aria-labelledby":o}),n.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,a=e(t.currentTarget),n=a.closest("li"),r=n[0]===s[0],o=r&&i.collapsible,h=o?e():this._getPanelForTab(n),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:o?e():n,newPanel:h};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=o?!1:this.tabs.index(n),this.active=r?e():n,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(n),t),this._toggle(t,u))},_toggle:function(t,i){function s(){n.running=!1,n._trigger("activate",t,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,s):(r.show(),s())}var n=this,r=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,a=this.tabs.eq(t),n=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),o={tab:a,panel:r};this._isLocal(n[0])||(this.xhr=e.ajax(this._ajaxSettings(n,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){r.html(e),s._trigger("load",i,o)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&s.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,i,s){var a=this;return{url:t.attr("href"),beforeSend:function(t,n){return a._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:n},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),a=e.inArray(i,s);-1!==a&&s.splice(a,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var a=e.Event("blur");a.target=a.currentTarget=s[0],t.close(a,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,a=this,n=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){e.data("ui-tooltip-open")&&a._delay(function(){t&&(t.type=n),this._open(t,e,i)})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function a(e){l.of=e,n.is(":hidden")||n.position(l)}var n,r,o,h,l=e.extend({},this.options.position);if(s){if(n=this._find(i),n.length)return n.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),n=this._tooltip(i),this._addDescribedBy(i,n.attr("id")),n.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:a}),a(t)):n.position(e.extend({of:i},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){n.is(":visible")&&(a(l.of),clearInterval(o))},e.fx.interval)),this._trigger("open",t,{tooltip:n}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}},i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(n)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)}},close:function(t){var i=this,s=e(t?t.currentTarget:this.element),a=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),a.stop(!0),this._hide(a,this.options.hide,function(){i._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,s){e(s.element).attr("title",s.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var a=e.Event("blur");a.target=a.currentTarget=s[0],t.close(a,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var v="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),a=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,n){var r,o=n.re.exec(i),h=o&&n.parse(o),l=n.space||"rgba";return h?(r=s[l](h),s[u[l].cache]=r[u[l].cache],a=s._rgba=r._rgba,!1):t}),a.length?("0,0,0,0"===a.join()&&e.extend(a,n.transparent),s):n[i]}function a(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var n,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,a){return new e.Color.fn.parse(t,i,s,a)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(a,r,o,h){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(r),r=t);var d=this,c=e.type(a),p=this._rgba=[];return r!==t&&(a=[a,r,o,h],c="array"),"string"===c?this.parse(s(a)||n._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(a[t.idx],t)}),this):"object"===c?(a instanceof l?f(u,function(e,t){a[t.cache]&&(d[t.cache]=a[t.cache].slice())}):f(u,function(t,s){var n=s.cache;f(s.props,function(e,t){if(!d[n]&&s.to){if("alpha"===e||null==a[e])return;d[n]=s.to(d._rgba)}d[n][t.idx]=i(a[e],t,!0)}),d[n]&&0>e.inArray(null,d[n].slice(0,3))&&(d[n][3]=1,s.from&&(d._rgba=s.from(d[n])))}),this):t},is:function(e){var i=l(e),s=!0,a=this;return f(u,function(e,n){var r,o=i[n.cache];return o&&(r=a[n.cache]||n.to&&n.to(a._rgba)||[],f(n.props,function(e,i){return null!=o[i.idx]?s=o[i.idx]===r[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),a=s._space(),n=u[a],r=0===this.alpha()?l("transparent"):this,o=r[n.cache]||n.to(r._rgba),h=o.slice();return s=s[n.cache],f(n.props,function(e,a){var n=a.idx,r=o[n],l=s[n],u=d[a.type]||{};null!==l&&(null===r?h[n]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[n]=i((l-r)*t+r,a)))}),this[a](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),a=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*a[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,a=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(s,a,n),h=Math.min(s,a,n),l=o-h,u=o+h,d=.5*u;return t=h===o?0:s===o?60*(a-n)/l+360:a===o?60*(n-s)/l+120:60*(s-a)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],n=e[3],r=.5>=s?s*(1+i):s+i-s*i,o=2*s-r;return[Math.round(255*a(o,r,t+1/3)),Math.round(255*a(o,r,t)),Math.round(255*a(o,r,t-1/3)),n]},f(u,function(s,a){var n=a.props,r=a.cache,h=a.to,u=a.from;l.fn[s]=function(s){if(h&&!this[r]&&(this[r]=h(this._rgba)),s===t)return this[r].slice();var a,o=e.type(s),d="array"===o||"object"===o?s:arguments,c=this[r].slice();return f(n,function(e,t){var s=d["object"===o?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(a=l(u(c)),a[r]=c,a):l(c)},f(n,function(t,i){l.fn[t]||(l.fn[t]=function(a){var n,r=e.type(a),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===r?u:("function"===r&&(a=a.call(this,u),r=e.type(a)),null==a&&i.empty?this:("string"===r&&(n=o.exec(a),n&&(a=u+parseFloat(n[2])*("+"===n[1]?1:-1))),l[i.idx]=a,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,a){var n,r,o="";if("transparent"!==a&&("string"!==e.type(a)||(n=s(a)))){if(a=l(n||a),!c.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(h){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{t.style[i]=a}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function t(t){var i,s,a=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(a&&a.length&&a[0]&&a[a[0]])for(s=a.length;s--;)i=a[s],"string"==typeof a[i]&&(n[e.camelCase(i)]=a[i]);else for(i in a)"string"==typeof a[i]&&(n[i]=a[i]);return n}function i(t,i){var s,n,r={};for(s in i)n=i[s],t[s]!==n&&(a[s]||(e.fx.step[s]||!isNaN(parseFloat(n)))&&(r[s]=n));return r}var s=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(a,n,r,o){var h=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",l=h.children?r.find("*").addBack():r;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),n=function(){e.each(s,function(e,t){a[t]&&r[t+"Class"](a[t])})},n(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",o),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,s,a,n){return s?e.effects.animateClass.call(this,{add:i},s,a,n):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,a,n){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,a,n):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,a,n,r){return"boolean"==typeof s||void 0===s?a?e.effects.animateClass.call(this,s?{add:i}:{remove:i},a,n,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,a,n)}}(e.fn.toggleClass),switchClass:function(t,i,s,a,n){return e.effects.animateClass.call(this,{add:i,remove:t},s,a,n)}})}(),function(){function t(t,i,s,a){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(a=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(a=s,s=i,i={}),e.isFunction(s)&&(a=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=a||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.0",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(v+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(v+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(a),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,a){return a=a||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(a[i]=n[0]*s+n[1])}),a}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(n)&&n.call(a[0]),e.isFunction(t)&&t()}var a=e(this),n=s.complete,o=s.mode;(a.is(":hidden")?"hide"===o:"show"===o)?(a[o](),i()):r.call(a[0],s,i)}var s=t.apply(this,arguments),a=s.mode,n=s.queue,r=e.effects.effect[s.effect];return e.fx.off||!r?a?this[a](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):n===!1?this.each(i):this.queue(n||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var a=t.apply(this,arguments);return a.mode="show",this.effect.call(this,a)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var a=t.apply(this,arguments);return a.mode="hide",this.effect.call(this,a)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var a=t.apply(this,arguments);return a.mode="toggle",this.effect.call(this,a)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,a,n,r=e(this),o=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(r,t.mode||"hide"),d=t.direction||"up",c=o.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;
r.parent().is(".ui-effects-wrapper")?e.effects.save(r.parent(),l):e.effects.save(r,l),r.show(),s=e.effects.createWrapper(r).css({overflow:"hidden"}),a=s[p](),n=parseFloat(s.css(f))||0,g[p]=v?a:0,m||(r.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?n:a+n),v&&(s.css(p,0),m||s.css(f,n+a)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&r.hide(),e.effects.restore(r,l),e.effects.removeWrapper(r),i()}})},e.effects.effect.bounce=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(r,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=r.queue(),_=b.length;for((u||l)&&o.push("opacity"),e.effects.save(r,o),r.show(),e.effects.createWrapper(r),c||(c=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(n={opacity:1},n[v]=0,r.css("opacity",0).css(v,y?2*-c:2*c).animate(n,m,g)),l&&(c/=Math.pow(2,p-1)),n={},n[v]=0,s=0;p>s;s++)a={},a[v]=(y?"-=":"+=")+c,r.animate(a,m,g).animate(n,m,g),c=l?2*c:c/2;l&&(a={opacity:0},a[v]=(y?"-=":"+=")+c,r.animate(a,m,g)),r.queue(function(){l&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),r.dequeue()},e.effects.effect.clip=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(r,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(r,o),r.show(),s=e.effects.createWrapper(r).css({overflow:"hidden"}),a="IMG"===r[0].tagName?s:r,n=a[c](),l&&(a.css(c,0),a.css(p,n/2)),f[c]=l?n:0,f[p]=l?0:n/2,a.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})},e.effects.effect.drop=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(a,t.mode||"hide"),o="show"===r,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:o?1:0};e.effects.save(a,n),a.show(),e.effects.createWrapper(a),s=t.distance||a["top"===l?"outerHeight":"outerWidth"](!0)/2,o&&a.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(o?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&a()}function a(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var n,r,o,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(n=0;d>n;n++)for(h=g.top+n*y,u=n-(d-1)/2,r=0;c>r;r++)o=g.left+r*v,l=r-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-n*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:o+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:o+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),a=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:a},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,a,n=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"hide"),h="show"===o,l="hide"===o,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(n,r),n.show(),s=e.effects.createWrapper(n).css({overflow:"hidden"}),a=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*a[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?a[0]:u,v[f[1]]=h?a[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),a=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(s,t.mode||"show"),r={backgroundColor:s.css("backgroundColor")};"hide"===n&&(r.opacity=0),e.effects.save(s,a),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===n&&s.hide(),e.effects.restore(s,a),i()}})},e.effects.effect.size=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),y=f?o:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),s={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||b,r.to=t.from||s):(r.from=t.from||("show"===p?b:s),r.to=t.to||("hide"===p?b:s)),n={from:{y:r.from.height/s.height,x:r.from.width/s.width},to:{y:r.to.height/s.height,x:r.to.width/s.width}},("box"===m||"both"===m)&&(n.from.y!==n.to.y&&(y=y.concat(d),r.from=e.effects.setTransition(r,d,n.from.y,r.from),r.to=e.effects.setTransition(r,d,n.to.y,r.to)),n.from.x!==n.to.x&&(y=y.concat(c),r.from=e.effects.setTransition(r,c,n.from.x,r.from),r.to=e.effects.setTransition(r,c,n.to.x,r.to))),("content"===m||"both"===m)&&n.from.y!==n.to.y&&(y=y.concat(u).concat(l),r.from=e.effects.setTransition(r,u,n.from.y,r.from),r.to=e.effects.setTransition(r,u,n.to.y,r.to)),e.effects.save(r,y),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(a=e.effects.getBaseline(g,s),r.from.top=(s.outerHeight-r.outerHeight())*a.y,r.from.left=(s.outerWidth-r.outerWidth())*a.x,r.to.top=(s.outerHeight-r.to.outerHeight)*a.y,r.to.left=(s.outerWidth-r.to.outerWidth)*a.x),r.css(r.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=o.concat(d).concat(c),r.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},i.to={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x},n.from.y!==n.to.y&&(i.from=e.effects.setTransition(i,d,n.from.y,i.from),i.to=e.effects.setTransition(i,d,n.to.y,i.to)),n.from.x!==n.to.x&&(i.from=e.effects.setTransition(i,c,n.from.x,i.from),i.to=e.effects.setTransition(i,c,n.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,y),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var s=parseInt(i,10),a=e?r.to.left:r.to.top;return"auto"===i?a+"px":s+a+"px"})})),e.effects.removeWrapper(r),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),a=e.extend(!0,{},t),n=e.effects.setMode(s,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===n?0:100),o=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==o?r/100:1,x:"vertical"!==o?r/100:1};a.effect="size",a.queue=!1,a.complete=i,"effect"!==n&&(a.origin=h||["middle","center"],a.restore=!0),a.from=t.from||("show"===n?{height:0,width:0,outerHeight:0,outerWidth:0}:l),a.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},a.fade&&("show"===n&&(a.from.opacity=0,a.to.opacity=1),"hide"===n&&(a.from.opacity=1,a.to.opacity=0)),s.effect(a)},e.effects.effect.puff=function(t,i){var s=e(this),a=e.effects.setMode(s,t.mode||"hide"),n="hide"===a,r=parseInt(t.percent,10)||150,o=r/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:a,complete:i,percent:n?r:100,from:n?h:{height:h.height*o,width:h.width*o,outerHeight:h.outerHeight*o,outerWidth:h.outerWidth*o}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,a=e(this),n=e.effects.setMode(a,t.mode||"show"),r="show"===n,o="hide"===n,h=r||"hide"===n,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=a.queue(),p=c.length;for((r||!a.is(":visible"))&&(a.css("opacity",0).show(),d=1),s=1;l>s;s++)a.animate({opacity:d},u,t.easing),d=1-d;a.animate({opacity:d},u,t.easing),a.queue(function(){o&&a.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),a.dequeue()},e.effects.effect.shake=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"effect"),o=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},m={},g={},v=a.queue(),y=v.length;for(e.effects.save(a,n),a.show(),e.effects.createWrapper(a),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,a.animate(f,d,t.easing),s=1;l>s;s++)a.animate(m,d,t.easing).animate(g,d,t.easing);a.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),a.dequeue()},e.effects.effect.slide=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(a,t.mode||"show"),o="show"===r,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(a,n),a.show(),s=t.distance||a["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(a).css({overflow:"hidden"}),o&&a.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(o?u?"+=":"-=":u?"-=":"+=")+s,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),a=e(t.to),n="fixed"===a.css("position"),r=e("body"),o=n?r.scrollTop():0,h=n?r.scrollLeft():0,l=a.offset(),u={top:l.top-o,left:l.left-h,height:a.innerHeight(),width:a.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-o,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:n?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}});;/*
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 */

var dateFormat = function () {
	var	token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
		timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
		timezoneClip = /[^-+\dA-Z]/g,
		pad = function (val, len) {
			val = String(val);
			len = len || 2;
			while (val.length < len) val = "0" + val;
			return val;
		};

	// Regexes and supporting functions are cached through closure
	return function (date, mask, utc) {
		var dF = dateFormat;

		// You can't provide utc if you skip other args (use the "UTC:" mask prefix)
		if (arguments.length == 1 && Object.prototype.toString.call(date) == "[object String]" && !/\d/.test(date)) {
			mask = date;
			date = undefined;
		}

		// Passing date through Date applies Date.parse, if necessary
		date = date ? new Date(date) : new Date;
		if (isNaN(date)) throw SyntaxError("invalid date");

		mask = String(dF.masks[mask] || mask || dF.masks["default"]);

		// Allow setting the utc argument via the mask
		if (mask.slice(0, 4) == "UTC:") {
			mask = mask.slice(4);
			utc = true;
		}

		var	_ = utc ? "getUTC" : "get",
			d = date[_ + "Date"](),
			D = date[_ + "Day"](),
			m = date[_ + "Month"](),
			y = date[_ + "FullYear"](),
			H = date[_ + "Hours"](),
			M = date[_ + "Minutes"](),
			s = date[_ + "Seconds"](),
			L = date[_ + "Milliseconds"](),
			o = utc ? 0 : date.getTimezoneOffset(),
			flags = {
				d:    d,
				dd:   pad(d),
				ddd:  dF.i18n.dayNames[D],
				dddd: dF.i18n.dayNames[D + 7],
				m:    m + 1,
				mm:   pad(m + 1),
				mmm:  dF.i18n.monthNames[m],
				mmmm: dF.i18n.monthNames[m + 12],
				yy:   String(y).slice(2),
				yyyy: y,
				h:    H % 12 || 12,
				hh:   pad(H % 12 || 12),
				H:    H,
				HH:   pad(H),
				M:    M,
				MM:   pad(M),
				s:    s,
				ss:   pad(s),
				l:    pad(L, 3),
				L:    pad(L > 99 ? Math.round(L / 10) : L),
				t:    H < 12 ? "a"  : "p",
				tt:   H < 12 ? "am" : "pm",
				T:    H < 12 ? "A"  : "P",
				TT:   H < 12 ? "AM" : "PM",
				Z:    utc ? "UTC" : (String(date).match(timezone) || [""]).pop().replace(timezoneClip, ""),
				o:    (o > 0 ? "-" : "+") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),
				S:    ["th", "st", "nd", "rd"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]
			};

		return mask.replace(token, function ($0) {
			return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);
		});
	};
}();

// Some common format strings
dateFormat.masks = {
	"default":      "ddd mmm dd yyyy HH:MM:ss",
	shortDate:      "m/d/yy",
	mediumDate:     "mmm d, yyyy",
	longDate:       "mmmm d, yyyy",
	fullDate:       "dddd, mmmm d, yyyy",
	shortTime:      "h:MM TT",
	mediumTime:     "h:MM:ss TT",
	longTime:       "h:MM:ss TT Z",
	isoDate:        "yyyy-mm-dd",
	isoTime:        "HH:MM:ss",
	isoDateTime:    "yyyy-mm-dd'T'HH:MM:ss",
	isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
};

// Internationalization strings
dateFormat.i18n = {
	dayNames: [
		"Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat",
		"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
	],
	monthNames: [
		"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec",
		"January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
	]
};

// For convenience...
Date.prototype.format = function (mask, utc) {
	return dateFormat(this, mask, utc);
};

;/*! DataTables 1.10.0
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.10.0
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2008-2014 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*jslint evil: true, undef: true, browser: true */
/*globals $,require,jQuery,define,_selector_run,_selector_opts,_selector_first,_selector_row_indexes,_ext,_Api,_api_register,_api_registerPlural,_re_new_lines,_re_html,_re_formatted_numeric,_re_escape_regex,_empty,_intVal,_numToDecimal,_isNumber,_isHtml,_htmlNumeric,_pluck,_pluck_order,_range,_stripHtml,_unique,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidateRow,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnScrollingWidthAdjust,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnScrollBarWidth,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes*/

(/** @lends <global> */function( window, document, undefined ) {

(function( factory ) {
	"use strict";

	if ( typeof define === 'function' && define.amd ) {
		// Define as an AMD module if possible
		define( 'datatables', ['jquery'], factory );
	}
    else if ( typeof exports === 'object' ) {
        // Node/CommonJS
        factory( require( 'jquery' ) );
    }
	else if ( jQuery && !jQuery.fn.dataTable ) {
		// Define using browser globals otherwise
		// Prevent multiple instantiations if the script is loaded twice
		factory( jQuery );
	}
}
(/** @lends <global> */function( $ ) {
	"use strict";

	/**
	 * DataTables is a plug-in for the jQuery Javascript library. It is a highly
	 * flexible tool, based upon the foundations of progressive enhancement,
	 * which will add advanced interaction controls to any HTML table. For a
	 * full list of features please refer to
	 * [DataTables.net](href="http://datatables.net).
	 *
	 * Note that the `DataTable` object is not a global variable but is aliased
	 * to `jQuery.fn.DataTable` and `jQuery.fn.dataTable` through which it may
	 * be  accessed.
	 *
	 *  @class
	 *  @param {object} [init={}] Configuration object for DataTables. Options
	 *    are defined by {@link DataTable.defaults}
	 *  @requires jQuery 1.7+
	 *
	 *  @example
	 *    // Basic initialisation
	 *    $(document).ready( function {
	 *      $('#example').dataTable();
	 *    } );
	 *
	 *  @example
	 *    // Initialisation with configuration options - in this case, disable
	 *    // pagination and sorting.
	 *    $(document).ready( function {
	 *      $('#example').dataTable( {
	 *        "paginate": false,
	 *        "sort": false
	 *      } );
	 *    } );
	 */
	var DataTable;

	
	/*
	 * It is useful to have variables which are scoped locally so only the
	 * DataTables functions can access them and they don't leak into global space.
	 * At the same time these functions are often useful over multiple files in the
	 * core and API, so we list, or at least document, all variables which are used
	 * by DataTables as private variables here. This also ensures that there is no
	 * clashing of variable names and that they can easily referenced for reuse.
	 */
	
	
	// Defined else where
	//  _selector_run
	//  _selector_opts
	//  _selector_first
	//  _selector_row_indexes
	
	var _ext; // DataTable.ext
	var _Api; // DataTable.Api
	var _api_register; // DataTable.Api.register
	var _api_registerPlural; // DataTable.Api.registerPlural
	
	var _re_dic = {};
	var _re_new_lines = /[\r\n]/g;
	var _re_html = /<.*?>/g;
	var _re_date_start = /^[\d\+\-a-zA-Z]/;
	
	// Escape regular expression special characters
	var _re_escape_regex = new RegExp( '(\\' + [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\', '$', '^', '-' ].join('|\\') + ')', 'g' );
	
	// U+2009 is thin space and U+202F is narrow no-break space, both used in many
	// standards as thousands separators
	var _re_formatted_numeric = /[',$£€¥%\u2009\u202F]/g;
	
	
	var _empty = function ( d ) {
		return !d || d === '-' ? true : false;
	};
	
	
	var _intVal = function ( s ) {
		var integer = parseInt( s, 10 );
		return !isNaN(integer) && isFinite(s) ? integer : null;
	};
	
	// Convert from a formatted number with characters other than `.` as the
	// decimal place, to a Javascript number
	var _numToDecimal = function ( num, decimalPoint ) {
		// Cache created regular expressions for speed as this function is called often
		if ( ! _re_dic[ decimalPoint ] ) {
			_re_dic[ decimalPoint ] = new RegExp( _fnEscapeRegex( decimalPoint ), 'g' );
		}
		return typeof num === 'string' ?
			num.replace( /\./g, '' ).replace( _re_dic[ decimalPoint ], '.' ) :
			num;
	};
	
	
	var _isNumber = function ( d, decimalPoint, formatted ) {
		var strType = typeof d === 'string';
	
		if ( decimalPoint && strType ) {
			d = _numToDecimal( d, decimalPoint );
		}
	
		if ( formatted && strType ) {
			d = d.replace( _re_formatted_numeric, '' );
		}
	
		return !d || d==='-' || (!isNaN( parseFloat(d) ) && isFinite( d ));
	};
	
	
	// A string without HTML in it can be considered to be HTML still
	var _isHtml = function ( d ) {
		return !d || typeof d === 'string';
	};
	
	
	var _htmlNumeric = function ( d, decimalPoint, formatted ) {
		if ( _empty( d ) ) {
			return true;
		}
	
		var html = _isHtml( d );
		return ! html ?
			null :
			_isNumber( _stripHtml( d ), decimalPoint, formatted ) ?
				true :
				null;
	};
	
	
	var _pluck = function ( a, prop, prop2 ) {
		var out = [];
		var i=0, ien=a.length;
	
		// Could have the test in the loop for slightly smaller code, but speed
		// is essential here
		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				if ( a[i] && a[i][ prop ] ) {
					out.push( a[i][ prop ][ prop2 ] );
				}
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				if ( a[i] ) {
					out.push( a[i][ prop ] );
				}
			}
		}
	
		return out;
	};
	
	
	// Basically the same as _pluck, but rather than looping over `a` we use `order`
	// as the indexes to pick from `a`
	var _pluck_order = function ( a, order, prop, prop2 )
	{
		var out = [];
		var i=0, ien=order.length;
	
		// Could have the test in the loop for slightly smaller code, but speed
		// is essential here
		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				out.push( a[ order[i] ][ prop ][ prop2 ] );
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				out.push( a[ order[i] ][ prop ] );
			}
		}
	
		return out;
	};
	
	
	var _range = function ( len, start )
	{
		var out = [];
		var end;
	
		if ( start === undefined ) {
			start = 0;
			end = len;
		}
		else {
			end = start;
			start = len;
		}
	
		for ( var i=start ; i<end ; i++ ) {
			out.push( i );
		}
	
		return out;
	};
	
	
	var _stripHtml = function ( d ) {
		return d.replace( _re_html, '' );
	};
	
	
	/**
	 * Find the unique elements in a source array.
	 *
	 * @param  {array} src Source array
	 * @return {array} Array of unique items
	 * @ignore
	 */
	var _unique = function ( src )
	{
		// A faster unique method is to use object keys to identify used values,
		// but this doesn't work with arrays or objects, which we must also
		// consider. See jsperf.com/compare-array-unique-versions/4 for more
		// information.
		var
			out = [],
			val,
			i, ien=src.length,
			j, k=0;
	
		again: for ( i=0 ; i<ien ; i++ ) {
			val = src[i];
	
			for ( j=0 ; j<k ; j++ ) {
				if ( out[j] === val ) {
					continue again;
				}
			}
	
			out.push( val );
			k++;
		}
	
		return out;
	};
	
	
	
	/**
	 * Create a mapping object that allows camel case parameters to be looked up
	 * for their Hungarian counterparts. The mapping is stored in a private
	 * parameter called `_hungarianMap` which can be accessed on the source object.
	 *  @param {object} o
	 *  @memberof DataTable#oApi
	 */
	function _fnHungarianMap ( o )
	{
		var
			hungarian = 'a aa ai ao as b fn i m o s ',
			match,
			newKey,
			map = {};
	
		$.each( o, function (key, val) {
			match = key.match(/^([^A-Z]+?)([A-Z])/);
	
			if ( match && hungarian.indexOf(match[1]+' ') !== -1 )
			{
				newKey = key.replace( match[0], match[2].toLowerCase() );
				map[ newKey ] = key;
	
				//console.log( key, match );
				if ( match[1] === 'o' )
				{
					_fnHungarianMap( o[key] );
				}
			}
		} );
	
		o._hungarianMap = map;
	}
	
	
	/**
	 * Convert from camel case parameters to Hungarian, based on a Hungarian map
	 * created by _fnHungarianMap.
	 *  @param {object} src The model object which holds all parameters that can be
	 *    mapped.
	 *  @param {object} user The object to convert from camel case to Hungarian.
	 *  @param {boolean} force When set to `true`, properties which already have a
	 *    Hungarian value in the `user` object will be overwritten. Otherwise they
	 *    won't be.
	 *  @memberof DataTable#oApi
	 */
	function _fnCamelToHungarian ( src, user, force )
	{
		if ( ! src._hungarianMap ) {
			_fnHungarianMap( src );
		}
	
		var hungarianKey;
	
		$.each( user, function (key, val) {
			hungarianKey = src._hungarianMap[ key ];
	
			if ( hungarianKey !== undefined && (force || user[hungarianKey] === undefined) )
			{
				// For objects, we need to buzz down into the object to copy parameters
				if ( hungarianKey.charAt(0) === 'o' )
				{
					// Copy the camelCase options over to the hungarian
					if ( ! user[ hungarianKey ] ) {
						user[ hungarianKey ] = {};
					}
					$.extend( true, user[hungarianKey], user[key] );
	
					_fnCamelToHungarian( src[hungarianKey], user[hungarianKey], force );
				}
				else {
					user[hungarianKey] = user[ key ];
				}
			}
		} );
	}
	
	
	/**
	 * Language compatibility - when certain options are given, and others aren't, we
	 * need to duplicate the values over, in order to provide backwards compatibility
	 * with older language files.
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnLanguageCompat( lang )
	{
		var defaults = DataTable.defaults.oLanguage;
		var zeroRecords = lang.sZeroRecords;
	
		/* Backwards compatibility - if there is no sEmptyTable given, then use the same as
		 * sZeroRecords - assuming that is given.
		 */
		if ( ! lang.sEmptyTable && zeroRecords &&
			defaults.sEmptyTable === "No data available in table" )
		{
			_fnMap( lang, lang, 'sZeroRecords', 'sEmptyTable' );
		}
	
		/* Likewise with loading records */
		if ( ! lang.sLoadingRecords && zeroRecords &&
			defaults.sLoadingRecords === "Loading..." )
		{
			_fnMap( lang, lang, 'sZeroRecords', 'sLoadingRecords' );
		}
	
		// Old parameter name of the thousands separator mapped onto the new
		if ( lang.sInfoThousands ) {
			lang.sThousands = lang.sInfoThousands;
		}
	
		var decimal = lang.sDecimal;
		if ( decimal ) {
			_addNumericSort( decimal );
		}
	}
	
	
	/**
	 * Map one parameter onto another
	 *  @param {object} o Object to map
	 *  @param {*} knew The new parameter name
	 *  @param {*} old The old parameter name
	 */
	var _fnCompatMap = function ( o, knew, old ) {
		if ( o[ knew ] !== undefined ) {
			o[ old ] = o[ knew ];
		}
	};
	
	
	/**
	 * Provide backwards compatibility for the main DT options. Note that the new
	 * options are mapped onto the old parameters, so this is an external interface
	 * change only.
	 *  @param {object} init Object to map
	 */
	function _fnCompatOpts ( init )
	{
		_fnCompatMap( init, 'ordering',      'bSort' );
		_fnCompatMap( init, 'orderMulti',    'bSortMulti' );
		_fnCompatMap( init, 'orderClasses',  'bSortClasses' );
		_fnCompatMap( init, 'orderCellsTop', 'bSortCellsTop' );
		_fnCompatMap( init, 'order',         'aaSorting' );
		_fnCompatMap( init, 'orderFixed',    'aaSortingFixed' );
		_fnCompatMap( init, 'paging',        'bPaginate' );
		_fnCompatMap( init, 'pagingType',    'sPaginationType' );
		_fnCompatMap( init, 'pageLength',    'iDisplayLength' );
		_fnCompatMap( init, 'searching',     'bFilter' );
	}
	
	
	/**
	 * Provide backwards compatibility for column options. Note that the new options
	 * are mapped onto the old parameters, so this is an external interface change
	 * only.
	 *  @param {object} init Object to map
	 */
	function _fnCompatCols ( init )
	{
		_fnCompatMap( init, 'orderable',     'bSortable' );
		_fnCompatMap( init, 'orderData',     'aDataSort' );
		_fnCompatMap( init, 'orderSequence', 'asSorting' );
		_fnCompatMap( init, 'orderDataType', 'sortDataType' );
	}
	
	
	/**
	 * Browser feature detection for capabilities, quirks
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnBrowserDetect( settings )
	{
		var browser = settings.oBrowser;
	
		// Scrolling feature / quirks detection
		var n = $('<div/>')
			.css( {
				position: 'absolute',
				top: 0,
				left: 0,
				height: 1,
				width: 1,
				overflow: 'hidden'
			} )
			.append(
				$('<div/>')
					.css( {
						position: 'absolute',
						top: 1,
						left: 1,
						width: 100,
						overflow: 'scroll'
					} )
					.append(
						$('<div class="test"/>')
							.css( {
								width: '100%',
								height: 10
							} )
					)
			)
			.appendTo( 'body' );
	
		var test = n.find('.test');
	
		// IE6/7 will oversize a width 100% element inside a scrolling element, to
		// include the width of the scrollbar, while other browsers ensure the inner
		// element is contained without forcing scrolling
		browser.bScrollOversize = test[0].offsetWidth === 100;
	
		// In rtl text layout, some browsers (most, but not all) will place the
		// scrollbar on the left, rather than the right.
		browser.bScrollbarLeft = test.offset().left !== 1;
	
		n.remove();
	}
	
	
	/**
	 * Array.prototype reduce[Right] method, used for browsers which don't support
	 * JS 1.6. Done this way to reduce code size, since we iterate either way
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnReduce ( that, fn, init, start, end, inc )
	{
		var
			i = start,
			value,
			isSet = false;
	
		if ( init !== undefined ) {
			value = init;
			isSet = true;
		}
	
		while ( i !== end ) {
			if ( ! that.hasOwnProperty(i) ) {
				continue;
			}
	
			value = isSet ?
				fn( value, that[i], i, that ) :
				that[i];
	
			isSet = true;
			i += inc;
		}
	
		return value;
	}
	
	/**
	 * Add a column to the list used for the table with default values
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} nTh The th element for this column
	 *  @memberof DataTable#oApi
	 */
	function _fnAddColumn( oSettings, nTh )
	{
		// Add column to aoColumns array
		var oDefaults = DataTable.defaults.column;
		var iCol = oSettings.aoColumns.length;
		var oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {
			"nTh": nTh ? nTh : document.createElement('th'),
			"sTitle":    oDefaults.sTitle    ? oDefaults.sTitle    : nTh ? nTh.innerHTML : '',
			"aDataSort": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],
			"mData": oDefaults.mData ? oDefaults.mData : iCol,
			idx: iCol
		} );
		oSettings.aoColumns.push( oCol );
	
		// Add search object for column specific search. Note that the `searchCols[ iCol ]`
		// passed into extend can be undefined. This allows the user to give a default
		// with only some of the parameters defined, and also not give a default
		var searchCols = oSettings.aoPreSearchCols;
		searchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch, searchCols[ iCol ] );
	
		// Use the default column options function to initialise classes etc
		_fnColumnOptions( oSettings, iCol, null );
	}
	
	
	/**
	 * Apply options for a column
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iCol column index to consider
	 *  @param {object} oOptions object with sType, bVisible and bSearchable etc
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnOptions( oSettings, iCol, oOptions )
	{
		var oCol = oSettings.aoColumns[ iCol ];
		var oClasses = oSettings.oClasses;
		var th = $(oCol.nTh);
	
		// Try to get width information from the DOM. We can't get it from CSS
		// as we'd need to parse the CSS stylesheet. `width` option can override
		if ( ! oCol.sWidthOrig ) {
			// Width attribute
			oCol.sWidthOrig = th.attr('width') || null;
	
			// Style attribute
			var t = (th.attr('style') || '').match(/width:\s*(\d+[pxem%])/);
			if ( t ) {
				oCol.sWidthOrig = t[1];
			}
		}
	
		/* User specified column options */
		if ( oOptions !== undefined && oOptions !== null )
		{
			// Backwards compatibility
			_fnCompatCols( oOptions );
	
			// Map camel case parameters to their Hungarian counterparts
			_fnCamelToHungarian( DataTable.defaults.column, oOptions );
	
			/* Backwards compatibility for mDataProp */
			if ( oOptions.mDataProp !== undefined && !oOptions.mData )
			{
				oOptions.mData = oOptions.mDataProp;
			}
	
			if ( oOptions.sType )
			{
				oCol._sManualType = oOptions.sType;
			}
	
			// `class` is a reserved word in Javascript, so we need to provide
			// the ability to use a valid name for the camel case input
			if ( oOptions.className && ! oOptions.sClass )
			{
				oOptions.sClass = oOptions.className;
			}
	
			$.extend( oCol, oOptions );
			_fnMap( oCol, oOptions, "sWidth", "sWidthOrig" );
	
			/* iDataSort to be applied (backwards compatibility), but aDataSort will take
			 * priority if defined
			 */
			if ( typeof oOptions.iDataSort === 'number' )
			{
				oCol.aDataSort = [ oOptions.iDataSort ];
			}
			_fnMap( oCol, oOptions, "aDataSort" );
		}
	
		/* Cache the data get and set functions for speed */
		var mDataSrc = oCol.mData;
		var mData = _fnGetObjectDataFn( mDataSrc );
		var mRender = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;
	
		var attrTest = function( src ) {
			return typeof src === 'string' && src.indexOf('@') !== -1;
		};
		oCol._bAttrSrc = $.isPlainObject( mDataSrc ) && (
			attrTest(mDataSrc.sort) || attrTest(mDataSrc.type) || attrTest(mDataSrc.filter)
		);
	
		oCol.fnGetData = function (oData, sSpecific) {
			var innerData = mData( oData, sSpecific );
	
			if ( oCol.mRender && (sSpecific && sSpecific !== '') )
			{
				return mRender( innerData, sSpecific, oData );
			}
			return innerData;
		};
		oCol.fnSetData = _fnSetObjectDataFn( mDataSrc );
	
		/* Feature sorting overrides column specific when off */
		if ( !oSettings.oFeatures.bSort )
		{
			oCol.bSortable = false;
			th.addClass( oClasses.sSortableNone ); // Have to add class here as order event isn't called
		}
	
		/* Check that the class assignment is correct for sorting */
		var bAsc = $.inArray('asc', oCol.asSorting) !== -1;
		var bDesc = $.inArray('desc', oCol.asSorting) !== -1;
		if ( !oCol.bSortable || (!bAsc && !bDesc) )
		{
			oCol.sSortingClass = oClasses.sSortableNone;
			oCol.sSortingClassJUI = "";
		}
		else if ( bAsc && !bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableAsc;
			oCol.sSortingClassJUI = oClasses.sSortJUIAscAllowed;
		}
		else if ( !bAsc && bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableDesc;
			oCol.sSortingClassJUI = oClasses.sSortJUIDescAllowed;
		}
		else
		{
			oCol.sSortingClass = oClasses.sSortable;
			oCol.sSortingClassJUI = oClasses.sSortJUI;
		}
	}
	
	
	/**
	 * Adjust the table column widths for new data. Note: you would probably want to
	 * do a redraw after calling this function!
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnAdjustColumnSizing ( settings )
	{
		/* Not interested in doing column width calculation if auto-width is disabled */
		if ( settings.oFeatures.bAutoWidth !== false )
		{
			var columns = settings.aoColumns;
	
			_fnCalculateColumnWidths( settings );
			for ( var i=0 , iLen=columns.length ; i<iLen ; i++ )
			{
				columns[i].nTh.style.width = columns[i].sWidth;
			}
		}
	
		var scroll = settings.oScroll;
		if ( scroll.sY !== '' || scroll.sX !== '')
		{
			_fnScrollDraw( settings );
		}
	
		_fnCallbackFire( settings, null, 'column-sizing', [settings] );
	}
	
	
	/**
	 * Covert the index of a visible column to the index in the data array (take account
	 * of hidden columns)
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iMatch Visible column index to lookup
	 *  @returns {int} i the data index
	 *  @memberof DataTable#oApi
	 */
	function _fnVisibleToColumnIndex( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );
	
		return typeof aiVis[iMatch] === 'number' ?
			aiVis[iMatch] :
			null;
	}
	
	
	/**
	 * Covert the index of an index in the data array and convert it to the visible
	 *   column index (take account of hidden columns)
	 *  @param {int} iMatch Column index to lookup
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {int} i the data index
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnIndexToVisible( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );
		var iPos = $.inArray( iMatch, aiVis );
	
		return iPos !== -1 ? iPos : null;
	}
	
	
	/**
	 * Get the number of visible columns
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {int} i the number of visible columns
	 *  @memberof DataTable#oApi
	 */
	function _fnVisbleColumns( oSettings )
	{
		return _fnGetColumns( oSettings, 'bVisible' ).length;
	}
	
	
	/**
	 * Get an array of column indexes that match a given property
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sParam Parameter in aoColumns to look for - typically
	 *    bVisible or bSearchable
	 *  @returns {array} Array of indexes with matched properties
	 *  @memberof DataTable#oApi
	 */
	function _fnGetColumns( oSettings, sParam )
	{
		var a = [];
	
		$.map( oSettings.aoColumns, function(val, i) {
			if ( val[sParam] ) {
				a.push( i );
			}
		} );
	
		return a;
	}
	
	
	/**
	 * Calculate the 'type' of a column
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnColumnTypes ( settings )
	{
		var columns = settings.aoColumns;
		var data = settings.aoData;
		var types = DataTable.ext.type.detect;
		var i, ien, j, jen, k, ken;
		var col, cell, detectedType, cache;
	
		// For each column, spin over the 
		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			col = columns[i];
			cache = [];
	
			if ( ! col.sType && col._sManualType ) {
				col.sType = col._sManualType;
			}
			else if ( ! col.sType ) {
				for ( j=0, jen=types.length ; j<jen ; j++ ) {
					for ( k=0, ken=data.length ; k<ken ; k++ ) {
						// Use a cache array so we only need to get the type data
						// from the formatter once (when using multiple detectors)
						if ( cache[k] === undefined ) {
							cache[k] = _fnGetCellData( settings, k, i, 'type' );
						}
	
						detectedType = types[j]( cache[k], settings );
	
						// Doesn't match, so break early, since this type can't
						// apply to this column. Also, HTML is a special case since
						// it is so similar to `string`. Just a single match is
						// needed for a column to be html type
						if ( ! detectedType || detectedType === 'html' ) {
							break;
						}
					}
	
					// Type is valid for all data points in the column - use this
					// type
					if ( detectedType ) {
						col.sType = detectedType;
						break;
					}
				}
	
				// Fall back - if no type was detected, always use string
				if ( ! col.sType ) {
					col.sType = 'string';
				}
			}
		}
	}
	
	
	/**
	 * Take the column definitions and static columns arrays and calculate how
	 * they relate to column indexes. The callback function will then apply the
	 * definition found for a column to a suitable configuration object.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {array} aoColDefs The aoColumnDefs array that is to be applied
	 *  @param {array} aoCols The aoColumns array that defines columns individually
	 *  @param {function} fn Callback function - takes two parameters, the calculated
	 *    column index and the definition for that column.
	 *  @memberof DataTable#oApi
	 */
	function _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, fn )
	{
		var i, iLen, j, jLen, k, kLen, def;
		var columns = oSettings.aoColumns;
	
		// Column definitions with aTargets
		if ( aoColDefs )
		{
			/* Loop over the definitions array - loop in reverse so first instance has priority */
			for ( i=aoColDefs.length-1 ; i>=0 ; i-- )
			{
				def = aoColDefs[i];
	
				/* Each definition can target multiple columns, as it is an array */
				var aTargets = def.targets !== undefined ?
					def.targets :
					def.aTargets;
	
				if ( ! $.isArray( aTargets ) )
				{
					aTargets = [ aTargets ];
				}
	
				for ( j=0, jLen=aTargets.length ; j<jLen ; j++ )
				{
					if ( typeof aTargets[j] === 'number' && aTargets[j] >= 0 )
					{
						/* Add columns that we don't yet know about */
						while( columns.length <= aTargets[j] )
						{
							_fnAddColumn( oSettings );
						}
	
						/* Integer, basic index */
						fn( aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'number' && aTargets[j] < 0 )
					{
						/* Negative integer, right to left column counting */
						fn( columns.length+aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'string' )
					{
						/* Class name matching on TH element */
						for ( k=0, kLen=columns.length ; k<kLen ; k++ )
						{
							if ( aTargets[j] == "_all" ||
							     $(columns[k].nTh).hasClass( aTargets[j] ) )
							{
								fn( k, def );
							}
						}
					}
				}
			}
		}
	
		// Statically defined columns array
		if ( aoCols )
		{
			for ( i=0, iLen=aoCols.length ; i<iLen ; i++ )
			{
				fn( i, aoCols[i] );
			}
		}
	}
	
	/**
	 * Add a data array to the table, creating DOM node etc. This is the parallel to
	 * _fnGatherData, but for adding rows from a Javascript source, rather than a
	 * DOM source.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {array} aData data array to be added
	 *  @param {node} [nTr] TR element to add to the table - optional. If not given,
	 *    DataTables will create a row automatically
	 *  @param {array} [anTds] Array of TD|TH elements for the row - must be given
	 *    if nTr is.
	 *  @returns {int} >=0 if successful (index of new aoData entry), -1 if failed
	 *  @memberof DataTable#oApi
	 */
	function _fnAddData ( oSettings, aDataIn, nTr, anTds )
	{
		/* Create the object for storing information about this new row */
		var iRow = oSettings.aoData.length;
		var oData = $.extend( true, {}, DataTable.models.oRow, {
			src: nTr ? 'dom' : 'data'
		} );
	
		oData._aData = aDataIn;
		oSettings.aoData.push( oData );
	
		/* Create the cells */
		var nTd, sThisType;
		var columns = oSettings.aoColumns;
		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			// When working with a row, the data source object must be populated. In
			// all other cases, the data source object is already populated, so we
			// don't overwrite it, which might break bindings etc
			if ( nTr ) {
				_fnSetCellData( oSettings, iRow, i, _fnGetCellData( oSettings, iRow, i ) );
			}
			columns[i].sType = null;
		}
	
		/* Add to the display array */
		oSettings.aiDisplayMaster.push( iRow );
	
		/* Create the DOM information */
		if ( !oSettings.oFeatures.bDeferRender )
		{
			_fnCreateTr( oSettings, iRow, nTr, anTds );
		}
	
		return iRow;
	}
	
	
	/**
	 * Add one or more TR elements to the table. Generally we'd expect to
	 * use this for reading data from a DOM sourced table, but it could be
	 * used for an TR element. Note that if a TR is given, it is used (i.e.
	 * it is not cloned).
	 *  @param {object} settings dataTables settings object
	 *  @param {array|node|jQuery} trs The TR element(s) to add to the table
	 *  @returns {array} Array of indexes for the added rows
	 *  @memberof DataTable#oApi
	 */
	function _fnAddTr( settings, trs )
	{
		var row;
	
		// Allow an individual node to be passed in
		if ( ! (trs instanceof $) ) {
			trs = $(trs);
		}
	
		return trs.map( function (i, el) {
			row = _fnGetRowElements( settings, el );
			return _fnAddData( settings, row.data, el, row.cells );
		} );
	}
	
	
	/**
	 * Take a TR element and convert it to an index in aoData
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} n the TR element to find
	 *  @returns {int} index if the node is found, null if not
	 *  @memberof DataTable#oApi
	 */
	function _fnNodeToDataIndex( oSettings, n )
	{
		return (n._DT_RowIndex!==undefined) ? n._DT_RowIndex : null;
	}
	
	
	/**
	 * Take a TD element and convert it into a column data index (not the visible index)
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow The row number the TD/TH can be found in
	 *  @param {node} n The TD/TH element to find
	 *  @returns {int} index if the node is found, -1 if not
	 *  @memberof DataTable#oApi
	 */
	function _fnNodeToColumnIndex( oSettings, iRow, n )
	{
		return $.inArray( n, oSettings.aoData[ iRow ].anCells );
	}
	
	
	/**
	 * Get the data for a given cell from the internal cache, taking into account data mapping
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow aoData row id
	 *  @param {int} iCol Column index
	 *  @param {string} sSpecific data get type ('display', 'type' 'filter' 'sort')
	 *  @returns {*} Cell data
	 *  @memberof DataTable#oApi
	 */
	function _fnGetCellData( oSettings, iRow, iCol, sSpecific )
	{
		var oCol = oSettings.aoColumns[iCol];
		var oData = oSettings.aoData[iRow]._aData;
		var sData = oCol.fnGetData( oData, sSpecific );
	
		if ( sData === undefined )
		{
			if ( oSettings.iDrawError != oSettings.iDraw && oCol.sDefaultContent === null )
			{
				_fnLog( oSettings, 0, "Requested unknown parameter "+
					(typeof oCol.mData=='function' ? '{function}' : "'"+oCol.mData+"'")+
					" for row "+iRow, 4 );
				oSettings.iDrawError = oSettings.iDraw;
			}
			return oCol.sDefaultContent;
		}
	
		/* When the data source is null, we can use default column data */
		if ( (sData === oData || sData === null) && oCol.sDefaultContent !== null )
		{
			sData = oCol.sDefaultContent;
		}
		else if ( typeof sData === 'function' )
		{
			// If the data source is a function, then we run it and use the return
			return sData();
		}
	
		if ( sData === null && sSpecific == 'display' )
		{
			return '';
		}
		return sData;
	}
	
	
	/**
	 * Set the value for a specific cell, into the internal data cache
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow aoData row id
	 *  @param {int} iCol Column index
	 *  @param {*} val Value to set
	 *  @memberof DataTable#oApi
	 */
	function _fnSetCellData( oSettings, iRow, iCol, val )
	{
		var oCol = oSettings.aoColumns[iCol];
		var oData = oSettings.aoData[iRow]._aData;
	
		oCol.fnSetData( oData, val );
	}
	
	
	// Private variable that is used to match action syntax in the data property object
	var __reArray = /\[.*?\]$/;
	var __reFn = /\(\)$/;
	
	/**
	 * Split string on periods, taking into account escaped periods
	 * @param  {string} str String to split
	 * @return {array} Split string
	 */
	function _fnSplitObjNotation( str )
	{
		return $.map( str.match(/(\\.|[^\.])+/g), function ( s ) {
			return s.replace('\\.', '.');
		} );
	}
	
	
	/**
	 * Return a function that can be used to get data from a source object, taking
	 * into account the ability to use nested objects as a source
	 *  @param {string|int|function} mSource The data source for the object
	 *  @returns {function} Data get function
	 *  @memberof DataTable#oApi
	 */
	function _fnGetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{
			/* Build an object of get functions, and wrap them in a single call */
			var o = {};
			$.each( mSource, function (key, val) {
				if ( val ) {
					o[key] = _fnGetObjectDataFn( val );
				}
			} );
	
			return function (data, type, extra) {
				var t = o[type] || o._;
				return t !== undefined ?
					t(data, type, extra) :
					data;
			};
		}
		else if ( mSource === null )
		{
			/* Give an empty string for rendering / sorting etc */
			return function (data, type) {
				return data;
			};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, type, extra) {
				return mSource( data, type, extra );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{
			/* If there is a . in the source string then the data source is in a
			 * nested object so we loop over the data for each level to get the next
			 * level down. On each loop we test for undefined, and if found immediately
			 * return. This allows entire objects to be missing and sDefaultContent to
			 * be used if defined, rather than throwing an error
			 */
			var fetchData = function (data, type, src) {
				var arrayNotation, funcNotation, out, innerSrc;
	
				if ( src !== "" )
				{
					var a = _fnSplitObjNotation( src );
	
					for ( var i=0, iLen=a.length ; i<iLen ; i++ )
					{
						// Check if we are dealing with special notation
						arrayNotation = a[i].match(__reArray);
						funcNotation = a[i].match(__reFn);
	
						if ( arrayNotation )
						{
							// Array notation
							a[i] = a[i].replace(__reArray, '');
	
							// Condition allows simply [] to be passed in
							if ( a[i] !== "" ) {
								data = data[ a[i] ];
							}
							out = [];
	
							// Get the remainder of the nested object to get
							a.splice( 0, i+1 );
							innerSrc = a.join('.');
	
							// Traverse each entry in the array getting the properties requested
							for ( var j=0, jLen=data.length ; j<jLen ; j++ ) {
								out.push( fetchData( data[j], type, innerSrc ) );
							}
	
							// If a string is given in between the array notation indicators, that
							// is used to join the strings together, otherwise an array is returned
							var join = arrayNotation[0].substring(1, arrayNotation[0].length-1);
							data = (join==="") ? out : out.join(join);
	
							// The inner call to fetchData has already traversed through the remainder
							// of the source requested, so we exit from the loop
							break;
						}
						else if ( funcNotation )
						{
							// Function call
							a[i] = a[i].replace(__reFn, '');
							data = data[ a[i] ]();
							continue;
						}
	
						if ( data === null || data[ a[i] ] === undefined )
						{
							return undefined;
						}
						data = data[ a[i] ];
					}
				}
	
				return data;
			};
	
			return function (data, type) {
				return fetchData( data, type, mSource );
			};
		}
		else
		{
			/* Array or flat object mapping */
			return function (data, type) {
				return data[mSource];
			};
		}
	}
	
	
	/**
	 * Return a function that can be used to set data from a source object, taking
	 * into account the ability to use nested objects as a source
	 *  @param {string|int|function} mSource The data source for the object
	 *  @returns {function} Data set function
	 *  @memberof DataTable#oApi
	 */
	function _fnSetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{
			/* Unlike get, only the underscore (global) option is used for for
			 * setting data since we don't know the type here. This is why an object
			 * option is not documented for `mData` (which is read/write), but it is
			 * for `mRender` which is read only.
			 */
			return _fnSetObjectDataFn( mSource._ );
		}
		else if ( mSource === null )
		{
			/* Nothing to do when the data source is null */
			return function (data, val) {};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, val) {
				mSource( data, 'set', val );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{
			/* Like the get, we need to get data from a nested object */
			var setData = function (data, val, src) {
				var a = _fnSplitObjNotation( src ), b;
				var aLast = a[a.length-1];
				var arrayNotation, funcNotation, o, innerSrc;
	
				for ( var i=0, iLen=a.length-1 ; i<iLen ; i++ )
				{
					// Check if we are dealing with an array notation request
					arrayNotation = a[i].match(__reArray);
					funcNotation = a[i].match(__reFn);
	
					if ( arrayNotation )
					{
						a[i] = a[i].replace(__reArray, '');
						data[ a[i] ] = [];
	
						// Get the remainder of the nested object to set so we can recurse
						b = a.slice();
						b.splice( 0, i+1 );
						innerSrc = b.join('.');
	
						// Traverse each entry in the array setting the properties requested
						for ( var j=0, jLen=val.length ; j<jLen ; j++ )
						{
							o = {};
							setData( o, val[j], innerSrc );
							data[ a[i] ].push( o );
						}
	
						// The inner call to setData has already traversed through the remainder
						// of the source and has set the data, thus we can exit here
						return;
					}
					else if ( funcNotation )
					{
						// Function call
						a[i] = a[i].replace(__reFn, '');
						data = data[ a[i] ]( val );
					}
	
					// If the nested object doesn't currently exist - since we are
					// trying to set the value - create it
					if ( data[ a[i] ] === null || data[ a[i] ] === undefined )
					{
						data[ a[i] ] = {};
					}
					data = data[ a[i] ];
				}
	
				// Last item in the input - i.e, the actual set
				if ( aLast.match(__reFn ) )
				{
					// Function call
					data = data[ aLast.replace(__reFn, '') ]( val );
				}
				else
				{
					// If array notation is used, we just want to strip it and use the property name
					// and assign the value. If it isn't used, then we get the result we want anyway
					data[ aLast.replace(__reArray, '') ] = val;
				}
			};
	
			return function (data, val) {
				return setData( data, val, mSource );
			};
		}
		else
		{
			/* Array or flat object mapping */
			return function (data, val) {
				data[mSource] = val;
			};
		}
	}
	
	
	/**
	 * Return an array with the full table data
	 *  @param {object} oSettings dataTables settings object
	 *  @returns array {array} aData Master data array
	 *  @memberof DataTable#oApi
	 */
	function _fnGetDataMaster ( settings )
	{
		return _pluck( settings.aoData, '_aData' );
	}
	
	
	/**
	 * Nuke the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnClearTable( settings )
	{
		settings.aoData.length = 0;
		settings.aiDisplayMaster.length = 0;
		settings.aiDisplay.length = 0;
	}
	
	
	 /**
	 * Take an array of integers (index array) and remove a target integer (value - not
	 * the key!)
	 *  @param {array} a Index array to target
	 *  @param {int} iTarget value to find
	 *  @memberof DataTable#oApi
	 */
	function _fnDeleteIndex( a, iTarget, splice )
	{
		var iTargetIndex = -1;
	
		for ( var i=0, iLen=a.length ; i<iLen ; i++ )
		{
			if ( a[i] == iTarget )
			{
				iTargetIndex = i;
			}
			else if ( a[i] > iTarget )
			{
				a[i]--;
			}
		}
	
		if ( iTargetIndex != -1 && splice === undefined )
		{
			a.splice( iTargetIndex, 1 );
		}
	}
	
	
	/**
	 * Mark cached data as invalid such that a re-read of the data will occur when
	 * the cached data is next requested. Also update from the data source object.
	 *
	 * @param {object} settings DataTables settings object
	 * @param  {int}    rowIdx   Row index to invalidate
	 * @memberof DataTable#oApi
	 *
	 * @todo For the modularisation of v1.11 this will need to become a callback, so
	 *   the sort and filter methods can subscribe to it. That will required
	 *   initialisation options for sorting, which is why it is not already baked in
	 */
	function _fnInvalidateRow( settings, rowIdx, src, column )
	{
		var row = settings.aoData[ rowIdx ];
		var i, ien;
	
		// Are we reading last data from DOM or the data object?
		if ( src === 'dom' || ((! src || src === 'auto') && row.src === 'dom') ) {
			// Read the data from the DOM
			row._aData = _fnGetRowElements( settings, row ).data;
		}
		else {
			// Reading from data object, update the DOM
			var cells = row.anCells;
	
			if ( cells ) {
				for ( i=0, ien=cells.length ; i<ien ; i++ ) {
					cells[i].innerHTML = _fnGetCellData( settings, rowIdx, i, 'display' );
				}
			}
		}
	
		row._aSortData = null;
		row._aFilterData = null;
	
		// Invalidate the type for a specific column (if given) or all columns since
		// the data might have changed
		var cols = settings.aoColumns;
		if ( column !== undefined ) {
			cols[ column ].sType = null;
		}
		else {
			for ( i=0, ien=cols.length ; i<ien ; i++ ) {
				cols[i].sType = null;
			}
		}
	
		// Update DataTables special `DT_*` attributes for the row
		_fnRowAttributes( row );
	}
	
	
	/**
	 * Build a data source object from an HTML row, reading the contents of the
	 * cells that are in the row.
	 *
	 * @param {object} settings DataTables settings object
	 * @param {node|object} TR element from which to read data or existing row
	 *   object from which to re-read the data from the cells
	 * @returns {object} Object with two parameters: `data` the data read, in
	 *   document order, and `cells` and array of nodes (they can be useful to the
	 *   caller, so rather than needing a second traversal to get them, just return
	 *   them from here).
	 * @memberof DataTable#oApi
	 */
	function _fnGetRowElements( settings, row )
	{
		var
			d = [],
			tds = [],
			td = row.firstChild,
			name, col, o, i=0, contents,
			columns = settings.aoColumns;
	
		var attr = function ( str, data, td  ) {
			if ( typeof str === 'string' ) {
				var idx = str.indexOf('@');
	
				if ( idx !== -1 ) {
					var src = str.substring( idx+1 );
					o[ '@'+src ] = td.getAttribute( src );
				}
			}
		};
	
		var cellProcess = function ( cell ) {
			col = columns[i];
			contents = $.trim(cell.innerHTML);
	
			if ( col && col._bAttrSrc ) {
				o = {
					display: contents
				};
	
				attr( col.mData.sort, o, cell );
				attr( col.mData.type, o, cell );
				attr( col.mData.filter, o, cell );
	
				d.push( o );
			}
			else {
				d.push( contents );
			}
	
			tds.push( cell );
			i++;
		};
	
		if ( td ) {
			// `tr` element passed in
			while ( td ) {
				name = td.nodeName.toUpperCase();
	
				if ( name == "TD" || name == "TH" ) {
					cellProcess( td );
				}
	
				td = td.nextSibling;
			}
		}
		else {
			// Existing row object passed in
			tds = row.anCells;
			
			for ( var j=0, jen=tds.length ; j<jen ; j++ ) {
				cellProcess( tds[j] );
			}
		}
	
		return {
			data: d,
			cells: tds
		};
	}
	/**
	 * Create a new TR element (and it's TD children) for a row
	 *  @param {object} oSettings dataTables settings object
	 *  @param {int} iRow Row to consider
	 *  @param {node} [nTrIn] TR element to add to the table - optional. If not given,
	 *    DataTables will create a row automatically
	 *  @param {array} [anTds] Array of TD|TH elements for the row - must be given
	 *    if nTr is.
	 *  @memberof DataTable#oApi
	 */
	function _fnCreateTr ( oSettings, iRow, nTrIn, anTds )
	{
		var
			row = oSettings.aoData[iRow],
			rowData = row._aData,
			cells = [],
			nTr, nTd, oCol,
			i, iLen;
	
		if ( row.nTr === null )
		{
			nTr = nTrIn || document.createElement('tr');
	
			row.nTr = nTr;
			row.anCells = cells;
	
			/* Use a private property on the node to allow reserve mapping from the node
			 * to the aoData array for fast look up
			 */
			nTr._DT_RowIndex = iRow;
	
			/* Special parameters can be given by the data source to be used on the row */
			_fnRowAttributes( row );
	
			/* Process each column */
			for ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )
			{
				oCol = oSettings.aoColumns[i];
	
				nTd = nTrIn ? anTds[i] : document.createElement( oCol.sCellType );
				cells.push( nTd );
	
				// Need to create the HTML if new, or if a rendering function is defined
				if ( !nTrIn || oCol.mRender || oCol.mData !== i )
				{
					nTd.innerHTML = _fnGetCellData( oSettings, iRow, i, 'display' );
				}
	
				/* Add user defined class */
				if ( oCol.sClass )
				{
					nTd.className += ' '+oCol.sClass;
				}
	
				// Visibility - add or remove as required
				if ( oCol.bVisible && ! nTrIn )
				{
					nTr.appendChild( nTd );
				}
				else if ( ! oCol.bVisible && nTrIn )
				{
					nTd.parentNode.removeChild( nTd );
				}
	
				if ( oCol.fnCreatedCell )
				{
					oCol.fnCreatedCell.call( oSettings.oInstance,
						nTd, _fnGetCellData( oSettings, iRow, i, 'display' ), rowData, iRow, i
					);
				}
			}
	
			_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [nTr, rowData, iRow] );
		}
	
		// Remove once webkit bug 131819 and Chromium bug 365619 have been resolved
		// and deployed
		row.nTr.setAttribute( 'role', 'row' );
	}
	
	
	/**
	 * Add attributes to a row based on the special `DT_*` parameters in a data
	 * source object.
	 *  @param {object} DataTables row object for the row to be modified
	 *  @memberof DataTable#oApi
	 */
	function _fnRowAttributes( row )
	{
		var tr = row.nTr;
		var data = row._aData;
	
		if ( tr ) {
			if ( data.DT_RowId ) {
				tr.id = data.DT_RowId;
			}
	
			if ( data.DT_RowClass ) {
				// Remove any classes added by DT_RowClass before
				var a = data.DT_RowClass.split(' ');
				row.__rowc = row.__rowc ?
					_unique( row.__rowc.concat( a ) ) :
					a;
	
				$(tr)
					.removeClass( row.__rowc.join(' ') )
					.addClass( data.DT_RowClass );
			}
	
			if ( data.DT_RowData ) {
				$(tr).data( data.DT_RowData );
			}
		}
	}
	
	
	/**
	 * Create the HTML header for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnBuildHead( oSettings )
	{
		var i, ien, cell, row, column;
		var thead = oSettings.nTHead;
		var tfoot = oSettings.nTFoot;
		var createHeader = $('th, td', thead).length === 0;
		var classes = oSettings.oClasses;
		var columns = oSettings.aoColumns;
	
		if ( createHeader ) {
			row = $('<tr/>').appendTo( thead );
		}
	
		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			column = columns[i];
			cell = $( column.nTh ).addClass( column.sClass );
	
			if ( createHeader ) {
				cell.appendTo( row );
			}
	
			// 1.11 move into sorting
			if ( oSettings.oFeatures.bSort ) {
				cell.addClass( column.sSortingClass );
	
				if ( column.bSortable !== false ) {
					cell
						.attr( 'tabindex', oSettings.iTabIndex )
						.attr( 'aria-controls', oSettings.sTableId );
	
					_fnSortAttachListener( oSettings, column.nTh, i );
				}
			}
	
			if ( column.sTitle != cell.html() ) {
				cell.html( column.sTitle );
			}
	
			_fnRenderer( oSettings, 'header' )(
				oSettings, cell, column, classes
			);
		}
	
		if ( createHeader ) {
			_fnDetectHeader( oSettings.aoHeader, thead );
		}
		
		/* ARIA role for the rows */
	 	$(thead).find('>tr').attr('role', 'row');
	
		/* Deal with the footer - add classes if required */
		$(thead).find('>tr>th, >tr>td').addClass( classes.sHeaderTH );
		$(tfoot).find('>tr>th, >tr>td').addClass( classes.sFooterTH );
	
		// Cache the footer cells. Note that we only take the cells from the first
		// row in the footer. If there is more than one row the user wants to
		// interact with, they need to use the table().foot() method. Note also this
		// allows cells to be used for multiple columns using colspan
		if ( tfoot !== null ) {
			var cells = oSettings.aoFooter[0];
	
			for ( i=0, ien=cells.length ; i<ien ; i++ ) {
				column = columns[i];
				column.nTf = cells[i].cell;
	
				if ( column.sClass ) {
					$(column.nTf).addClass( column.sClass );
				}
			}
		}
	}
	
	
	/**
	 * Draw the header (or footer) element based on the column visibility states. The
	 * methodology here is to use the layout array from _fnDetectHeader, modified for
	 * the instantaneous column visibility, to construct the new layout. The grid is
	 * traversed over cell at a time in a rows x columns grid fashion, although each
	 * cell insert can cover multiple elements in the grid - which is tracks using the
	 * aApplied array. Cell inserts in the grid will only occur where there isn't
	 * already a cell in that position.
	 *  @param {object} oSettings dataTables settings object
	 *  @param array {objects} aoSource Layout array from _fnDetectHeader
	 *  @param {boolean} [bIncludeHidden=false] If true then include the hidden columns in the calc,
	 *  @memberof DataTable#oApi
	 */
	function _fnDrawHead( oSettings, aoSource, bIncludeHidden )
	{
		var i, iLen, j, jLen, k, kLen, n, nLocalTr;
		var aoLocal = [];
		var aApplied = [];
		var iColumns = oSettings.aoColumns.length;
		var iRowspan, iColspan;
	
		if ( ! aoSource )
		{
			return;
		}
	
		if (  bIncludeHidden === undefined )
		{
			bIncludeHidden = false;
		}
	
		/* Make a copy of the master layout array, but without the visible columns in it */
		for ( i=0, iLen=aoSource.length ; i<iLen ; i++ )
		{
			aoLocal[i] = aoSource[i].slice();
			aoLocal[i].nTr = aoSource[i].nTr;
	
			/* Remove any columns which are currently hidden */
			for ( j=iColumns-1 ; j>=0 ; j-- )
			{
				if ( !oSettings.aoColumns[j].bVisible && !bIncludeHidden )
				{
					aoLocal[i].splice( j, 1 );
				}
			}
	
			/* Prep the applied array - it needs an element for each row */
			aApplied.push( [] );
		}
	
		for ( i=0, iLen=aoLocal.length ; i<iLen ; i++ )
		{
			nLocalTr = aoLocal[i].nTr;
	
			/* All cells are going to be replaced, so empty out the row */
			if ( nLocalTr )
			{
				while( (n = nLocalTr.firstChild) )
				{
					nLocalTr.removeChild( n );
				}
			}
	
			for ( j=0, jLen=aoLocal[i].length ; j<jLen ; j++ )
			{
				iRowspan = 1;
				iColspan = 1;
	
				/* Check to see if there is already a cell (row/colspan) covering our target
				 * insert point. If there is, then there is nothing to do.
				 */
				if ( aApplied[i][j] === undefined )
				{
					nLocalTr.appendChild( aoLocal[i][j].cell );
					aApplied[i][j] = 1;
	
					/* Expand the cell to cover as many rows as needed */
					while ( aoLocal[i+iRowspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i+iRowspan][j].cell )
					{
						aApplied[i+iRowspan][j] = 1;
						iRowspan++;
					}
	
					/* Expand the cell to cover as many columns as needed */
					while ( aoLocal[i][j+iColspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i][j+iColspan].cell )
					{
						/* Must update the applied array over the rows for the columns */
						for ( k=0 ; k<iRowspan ; k++ )
						{
							aApplied[i+k][j+iColspan] = 1;
						}
						iColspan++;
					}
	
					/* Do the actual expansion in the DOM */
					$(aoLocal[i][j].cell)
						.attr('rowspan', iRowspan)
						.attr('colspan', iColspan);
				}
			}
		}
	}
	
	
	/**
	 * Insert the required TR nodes into the table for display
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnDraw( oSettings )
	{
		/* Provide a pre-callback function which can be used to cancel the draw is false is returned */
		var aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );
		if ( $.inArray( false, aPreDraw ) !== -1 )
		{
			_fnProcessingDisplay( oSettings, false );
			return;
		}
	
		var i, iLen, n;
		var anRows = [];
		var iRowCount = 0;
		var asStripeClasses = oSettings.asStripeClasses;
		var iStripes = asStripeClasses.length;
		var iOpenRows = oSettings.aoOpenRows.length;
		var oLang = oSettings.oLanguage;
		var iInitDisplayStart = oSettings.iInitDisplayStart;
		var bServerSide = _fnDataSource( oSettings ) == 'ssp';
		var aiDisplay = oSettings.aiDisplay;
	
		oSettings.bDrawing = true;
	
		/* Check and see if we have an initial draw position from state saving */
		if ( iInitDisplayStart !== undefined && iInitDisplayStart !== -1 )
		{
			oSettings._iDisplayStart = bServerSide ?
				iInitDisplayStart :
				iInitDisplayStart >= oSettings.fnRecordsDisplay() ?
					0 :
					iInitDisplayStart;
	
			oSettings.iInitDisplayStart = -1;
		}
	
		var iDisplayStart = oSettings._iDisplayStart;
		var iDisplayEnd = oSettings.fnDisplayEnd();
	
		/* Server-side processing draw intercept */
		if ( oSettings.bDeferLoading )
		{
			oSettings.bDeferLoading = false;
			oSettings.iDraw++;
			_fnProcessingDisplay( oSettings, false );
		}
		else if ( !bServerSide )
		{
			oSettings.iDraw++;
		}
		else if ( !oSettings.bDestroying && !_fnAjaxUpdate( oSettings ) )
		{
			return;
		}
	
		if ( aiDisplay.length !== 0 )
		{
			var iStart = bServerSide ? 0 : iDisplayStart;
			var iEnd = bServerSide ? oSettings.aoData.length : iDisplayEnd;
	
			for ( var j=iStart ; j<iEnd ; j++ )
			{
				var iDataIndex = aiDisplay[j];
				var aoData = oSettings.aoData[ iDataIndex ];
				if ( aoData.nTr === null )
				{
					_fnCreateTr( oSettings, iDataIndex );
				}
	
				var nRow = aoData.nTr;
	
				/* Remove the old striping classes and then add the new one */
				if ( iStripes !== 0 )
				{
					var sStripe = asStripeClasses[ iRowCount % iStripes ];
					if ( aoData._sRowStripe != sStripe )
					{
						$(nRow).removeClass( aoData._sRowStripe ).addClass( sStripe );
						aoData._sRowStripe = sStripe;
					}
				}
	
				/* Row callback functions - might want to manipulate the row */
				_fnCallbackFire( oSettings, 'aoRowCallback', null,
					[nRow, aoData._aData, iRowCount, j] );
	
				anRows.push( nRow );
				iRowCount++;
			}
		}
		else
		{
			/* Table is empty - create a row with an empty message in it */
			var sZero = oLang.sZeroRecords;
			if ( oSettings.iDraw == 1 &&  _fnDataSource( oSettings ) == 'ajax' )
			{
				sZero = oLang.sLoadingRecords;
			}
			else if ( oLang.sEmptyTable && oSettings.fnRecordsTotal() === 0 )
			{
				sZero = oLang.sEmptyTable;
			}
	
			anRows[ 0 ] = $( '<tr/>', { 'class': iStripes ? asStripeClasses[0] : '' } )
				.append( $('<td />', {
					'valign':  'top',
					'colSpan': _fnVisbleColumns( oSettings ),
					'class':   oSettings.oClasses.sRowEmpty
				} ).html( sZero ) )[0];
		}
	
		/* Header and footer callbacks */
		_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );
	
		_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );
	
		var body = $(oSettings.nTBody);
	
		body.children().detach();
		body.append( $(anRows) );
	
		/* Call all required callback functions for the end of a draw */
		_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings] );
	
		/* Draw is complete, sorting and filtering must be as well */
		oSettings.bSorted = false;
		oSettings.bFiltered = false;
		oSettings.bDrawing = false;
	}
	
	
	/**
	 * Redraw the table - taking account of the various features which are enabled
	 *  @param {object} oSettings dataTables settings object
	 *  @param {boolean} [holdPosition] Keep the current paging position. By default
	 *    the paging is reset to the first page
	 *  @memberof DataTable#oApi
	 */
	function _fnReDraw( settings, holdPosition )
	{
		var
			features = settings.oFeatures,
			sort     = features.bSort,
			filter   = features.bFilter;
	
		if ( sort ) {
			_fnSort( settings );
		}
	
		if ( filter ) {
			_fnFilterComplete( settings, settings.oPreviousSearch );
		}
		else {
			// No filtering, so we want to just use the display master
			settings.aiDisplay = settings.aiDisplayMaster.slice();
		}
	
		if ( holdPosition !== true ) {
			settings._iDisplayStart = 0;
		}
	
		_fnDraw( settings );
	}
	
	
	/**
	 * Add the options to the page HTML for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnAddOptionsHtml ( oSettings )
	{
		var classes = oSettings.oClasses;
		var table = $(oSettings.nTable);
		var holding = $('<div/>').insertBefore( table ); // Holding element for speed
		var features = oSettings.oFeatures;
	
		// All DataTables are wrapped in a div
		var insert = $('<div/>', {
			id:      oSettings.sTableId+'_wrapper',
			'class': classes.sWrapper + (oSettings.nTFoot ? '' : ' '+classes.sNoFooter)
		} );
	
		oSettings.nHolding = holding[0];
		oSettings.nTableWrapper = insert[0];
		oSettings.nTableReinsertBefore = oSettings.nTable.nextSibling;
	
		/* Loop over the user set positioning and place the elements as needed */
		var aDom = oSettings.sDom.split('');
		var featureNode, cOption, nNewNode, cNext, sAttr, j;
		for ( var i=0 ; i<aDom.length ; i++ )
		{
			featureNode = null;
			cOption = aDom[i];
	
			if ( cOption == '<' )
			{
				/* New container div */
				nNewNode = $('<div/>')[0];
	
				/* Check to see if we should append an id and/or a class name to the container */
				cNext = aDom[i+1];
				if ( cNext == "'" || cNext == '"' )
				{
					sAttr = "";
					j = 2;
					while ( aDom[i+j] != cNext )
					{
						sAttr += aDom[i+j];
						j++;
					}
	
					/* Replace jQuery UI constants @todo depreciated */
					if ( sAttr == "H" )
					{
						sAttr = classes.sJUIHeader;
					}
					else if ( sAttr == "F" )
					{
						sAttr = classes.sJUIFooter;
					}
	
					/* The attribute can be in the format of "#id.class", "#id" or "class" This logic
					 * breaks the string into parts and applies them as needed
					 */
					if ( sAttr.indexOf('.') != -1 )
					{
						var aSplit = sAttr.split('.');
						nNewNode.id = aSplit[0].substr(1, aSplit[0].length-1);
						nNewNode.className = aSplit[1];
					}
					else if ( sAttr.charAt(0) == "#" )
					{
						nNewNode.id = sAttr.substr(1, sAttr.length-1);
					}
					else
					{
						nNewNode.className = sAttr;
					}
	
					i += j; /* Move along the position array */
				}
	
				insert.append( nNewNode );
				insert = $(nNewNode);
			}
			else if ( cOption == '>' )
			{
				/* End container div */
				insert = insert.parent();
			}
			// @todo Move options into their own plugins?
			else if ( cOption == 'l' && features.bPaginate && features.bLengthChange )
			{
				/* Length */
				featureNode = _fnFeatureHtmlLength( oSettings );
			}
			else if ( cOption == 'f' && features.bFilter )
			{
				/* Filter */
				featureNode = _fnFeatureHtmlFilter( oSettings );
			}
			else if ( cOption == 'r' && features.bProcessing )
			{
				/* pRocessing */
				featureNode = _fnFeatureHtmlProcessing( oSettings );
			}
			else if ( cOption == 't' )
			{
				/* Table */
				featureNode = _fnFeatureHtmlTable( oSettings );
			}
			else if ( cOption ==  'i' && features.bInfo )
			{
				/* Info */
				featureNode = _fnFeatureHtmlInfo( oSettings );
			}
			else if ( cOption == 'p' && features.bPaginate )
			{
				/* Pagination */
				featureNode = _fnFeatureHtmlPaginate( oSettings );
			}
			else if ( DataTable.ext.feature.length !== 0 )
			{
				/* Plug-in features */
				var aoFeatures = DataTable.ext.feature;
				for ( var k=0, kLen=aoFeatures.length ; k<kLen ; k++ )
				{
					if ( cOption == aoFeatures[k].cFeature )
					{
						featureNode = aoFeatures[k].fnInit( oSettings );
						break;
					}
				}
			}
	
			/* Add to the 2D features array */
			if ( featureNode )
			{
				var aanFeatures = oSettings.aanFeatures;
	
				if ( ! aanFeatures[cOption] )
				{
					aanFeatures[cOption] = [];
				}
	
				aanFeatures[cOption].push( featureNode );
				insert.append( featureNode );
			}
		}
	
		/* Built our DOM structure - replace the holding div with what we want */
		holding.replaceWith( insert );
	}
	
	
	/**
	 * Use the DOM source to create up an array of header cells. The idea here is to
	 * create a layout grid (array) of rows x columns, which contains a reference
	 * to the cell that that point in the grid (regardless of col/rowspan), such that
	 * any column / row could be removed and the new grid constructed
	 *  @param array {object} aLayout Array to store the calculated layout in
	 *  @param {node} nThead The header/footer element for the table
	 *  @memberof DataTable#oApi
	 */
	function _fnDetectHeader ( aLayout, nThead )
	{
		var nTrs = $(nThead).children('tr');
		var nTr, nCell;
		var i, k, l, iLen, jLen, iColShifted, iColumn, iColspan, iRowspan;
		var bUnique;
		var fnShiftCol = function ( a, i, j ) {
			var k = a[i];
	                while ( k[j] ) {
				j++;
			}
			return j;
		};
	
		aLayout.splice( 0, aLayout.length );
	
		/* We know how many rows there are in the layout - so prep it */
		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			aLayout.push( [] );
		}
	
		/* Calculate a layout array */
		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			nTr = nTrs[i];
			iColumn = 0;
	
			/* For every cell in the row... */
			nCell = nTr.firstChild;
			while ( nCell ) {
				if ( nCell.nodeName.toUpperCase() == "TD" ||
				     nCell.nodeName.toUpperCase() == "TH" )
				{
					/* Get the col and rowspan attributes from the DOM and sanitise them */
					iColspan = nCell.getAttribute('colspan') * 1;
					iRowspan = nCell.getAttribute('rowspan') * 1;
					iColspan = (!iColspan || iColspan===0 || iColspan===1) ? 1 : iColspan;
					iRowspan = (!iRowspan || iRowspan===0 || iRowspan===1) ? 1 : iRowspan;
	
					/* There might be colspan cells already in this row, so shift our target
					 * accordingly
					 */
					iColShifted = fnShiftCol( aLayout, i, iColumn );
	
					/* Cache calculation for unique columns */
					bUnique = iColspan === 1 ? true : false;
	
					/* If there is col / rowspan, copy the information into the layout grid */
					for ( l=0 ; l<iColspan ; l++ )
					{
						for ( k=0 ; k<iRowspan ; k++ )
						{
							aLayout[i+k][iColShifted+l] = {
								"cell": nCell,
								"unique": bUnique
							};
							aLayout[i+k].nTr = nTr;
						}
					}
				}
				nCell = nCell.nextSibling;
			}
		}
	}
	
	
	/**
	 * Get an array of unique th elements, one for each column
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} nHeader automatically detect the layout from this node - optional
	 *  @param {array} aLayout thead/tfoot layout from _fnDetectHeader - optional
	 *  @returns array {node} aReturn list of unique th's
	 *  @memberof DataTable#oApi
	 */
	function _fnGetUniqueThs ( oSettings, nHeader, aLayout )
	{
		var aReturn = [];
		if ( !aLayout )
		{
			aLayout = oSettings.aoHeader;
			if ( nHeader )
			{
				aLayout = [];
				_fnDetectHeader( aLayout, nHeader );
			}
		}
	
		for ( var i=0, iLen=aLayout.length ; i<iLen ; i++ )
		{
			for ( var j=0, jLen=aLayout[i].length ; j<jLen ; j++ )
			{
				if ( aLayout[i][j].unique &&
					 (!aReturn[j] || !oSettings.bSortCellsTop) )
				{
					aReturn[j] = aLayout[i][j].cell;
				}
			}
		}
	
		return aReturn;
	}
	
	
	
	/**
	 * Create an Ajax call based on the table's settings, taking into account that
	 * parameters can have multiple forms, and backwards compatibility.
	 *
	 * @param {object} oSettings dataTables settings object
	 * @param {array} data Data to send to the server, required by
	 *     DataTables - may be augmented by developer callbacks
	 * @param {function} fn Callback function to run when data is obtained
	 */
	function _fnBuildAjax( oSettings, data, fn )
	{
		// Compatibility with 1.9-, allow fnServerData and event to manipulate
		_fnCallbackFire( oSettings, 'aoServerParams', 'serverParams', [data] );
	
		// Convert to object based for 1.10+ if using the old array scheme which can
		// come from server-side processing or serverParams
		if ( data && $.isArray(data) ) {
			var tmp = {};
			var rbracket = /(.*?)\[\]$/;
	
			$.each( data, function (key, val) {
				var match = val.name.match(rbracket);
	
				if ( match ) {
					// Support for arrays
					var name = match[0];
	
					if ( ! tmp[ name ] ) {
						tmp[ name ] = [];
					}
					tmp[ name ].push( val.value );
				}
				else {
					tmp[val.name] = val.value;
				}
			} );
			data = tmp;
		}
	
		var ajaxData;
		var ajax = oSettings.ajax;
		var instance = oSettings.oInstance;
	
		if ( $.isPlainObject( ajax ) && ajax.data )
		{
			ajaxData = ajax.data;
	
			var newData = $.isFunction( ajaxData ) ?
				ajaxData( data ) :  // fn can manipulate data or return an object
				ajaxData;           // object or array to merge
	
			// If the function returned an object, use that alone
			data = $.isFunction( ajaxData ) && newData ?
				newData :
				$.extend( true, data, newData );
	
			// Remove the data property as we've resolved it already and don't want
			// jQuery to do it again (it is restored at the end of the function)
			delete ajax.data;
		}
	
		var baseAjax = {
			"data": data,
			"success": function (json) {
				var error = json.error || json.sError;
				if ( error ) {
					oSettings.oApi._fnLog( oSettings, 0, error );
				}
	
				oSettings.json = json;
				_fnCallbackFire( oSettings, null, 'xhr', [oSettings, json] );
				fn( json );
			},
			"dataType": "json",
			"cache": false,
			"type": oSettings.sServerMethod,
			"error": function (xhr, error, thrown) {
				var log = oSettings.oApi._fnLog;
	
				if ( error == "parsererror" ) {
					log( oSettings, 0, 'Invalid JSON response', 1 );
				}
				else if ( xhr.readyState === 4 ) {
					log( oSettings, 0, 'Ajax error', 7 );
				}
	
				_fnProcessingDisplay( oSettings, false );
			}
		};
	
		// Store the data submitted for the API
		oSettings.oAjaxData = data;
	
		// Allow plug-ins and external processes to modify the data
		_fnCallbackFire( oSettings, null, 'preXhr', [oSettings, data] );
	
		if ( oSettings.fnServerData )
		{
			// DataTables 1.9- compatibility
			oSettings.fnServerData.call( instance,
				oSettings.sAjaxSource,
				$.map( data, function (val, key) { // Need to convert back to 1.9 trad format
					return { name: key, value: val };
				} ),
				fn,
				oSettings
			);
		}
		else if ( oSettings.sAjaxSource || typeof ajax === 'string' )
		{
			// DataTables 1.9- compatibility
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, {
				url: ajax || oSettings.sAjaxSource
			} ) );
		}
		else if ( $.isFunction( ajax ) )
		{
			// Is a function - let the caller define what needs to be done
			oSettings.jqXHR = ajax.call( instance, data, fn, oSettings );
		}
		else
		{
			// Object to extend the base settings
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, ajax ) );
	
			// Restore for next time around
			ajax.data = ajaxData;
		}
	}
	
	
	/**
	 * Update the table using an Ajax call
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {boolean} Block the table drawing or not
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxUpdate( oSettings )
	{
		if ( oSettings.bAjaxDataGet )
		{
			oSettings.iDraw++;
			_fnProcessingDisplay( oSettings, true );
			var iColumns = oSettings.aoColumns.length;
			var aoData = _fnAjaxParameters( oSettings );
	
			_fnBuildAjax( oSettings, aoData, function(json) {
				_fnAjaxUpdateDraw( oSettings, json );
			}, oSettings );
	
			return false;
		}
		return true;
	}
	
	
	/**
	 * Build up the parameters in an object needed for a server-side processing
	 * request. Note that this is basically done twice, is different ways - a modern
	 * method which is used by default in DataTables 1.10 which uses objects and
	 * arrays, or the 1.9- method with is name / value pairs. 1.9 method is used if
	 * the sAjaxSource option is used in the initialisation, or the legacyAjax
	 * option is set.
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {bool} block the table drawing or not
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxParameters( settings )
	{
		var
			columns = settings.aoColumns,
			columnCount = columns.length,
			features = settings.oFeatures,
			preSearch = settings.oPreviousSearch,
			preColSearch = settings.aoPreSearchCols,
			i, data = [], dataProp, column, columnSearch,
			sort = _fnSortFlatten( settings ),
			displayStart = settings._iDisplayStart,
			displayLength = features.bPaginate !== false ?
				settings._iDisplayLength :
				-1;
	
		var param = function ( name, value ) {
			data.push( { 'name': name, 'value': value } );
		};
	
		// DataTables 1.9- compatible method
		param( 'sEcho',          settings.iDraw );
		param( 'iColumns',       columnCount );
		param( 'sColumns',       _pluck( columns, 'sName' ).join(',') );
		param( 'iDisplayStart',  displayStart );
		param( 'iDisplayLength', displayLength );
	
		// DataTables 1.10+ method
		var d = {
			draw:    settings.iDraw,
			columns: [],
			order:   [],
			start:   displayStart,
			length:  displayLength,
			search:  {
				value: preSearch.sSearch,
				regex: preSearch.bRegex
			}
		};
	
		for ( i=0 ; i<columnCount ; i++ ) {
			column = columns[i];
			columnSearch = preColSearch[i];
			dataProp = typeof column.mData=="function" ? 'function' : column.mData ;
	
			d.columns.push( {
				data:       dataProp,
				name:       column.sName,
				searchable: column.bSearchable,
				orderable:  column.bSortable,
				search:     {
					value: columnSearch.sSearch,
					regex: columnSearch.bRegex
				}
			} );
	
			param( "mDataProp_"+i, dataProp );
	
			if ( features.bFilter ) {
				param( 'sSearch_'+i,     columnSearch.sSearch );
				param( 'bRegex_'+i,      columnSearch.bRegex );
				param( 'bSearchable_'+i, column.bSearchable );
			}
	
			if ( features.bSort ) {
				param( 'bSortable_'+i, column.bSortable );
			}
		}
	
		if ( features.bFilter ) {
			param( 'sSearch', preSearch.sSearch );
			param( 'bRegex', preSearch.bRegex );
		}
	
		if ( features.bSort ) {
			$.each( sort, function ( i, val ) {
				d.order.push( { column: val.col, dir: val.dir } );
	
				param( 'iSortCol_'+i, val.col );
				param( 'sSortDir_'+i, val.dir );
			} );
	
			param( 'iSortingCols', sort.length );
		}
	
		// If the legacy.ajax parameter is null, then we automatically decide which
		// form to use, based on sAjaxSource
		var legacy = DataTable.ext.legacy.ajax;
		if ( legacy === null ) {
			return settings.sAjaxSource ? data : d;
		}
	
		// Otherwise, if legacy has been specified then we use that to decide on the
		// form
		return legacy ? data : d;
	}
	
	
	/**
	 * Data the data from the server (nuking the old) and redraw the table
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} json json data return from the server.
	 *  @param {string} json.sEcho Tracking flag for DataTables to match requests
	 *  @param {int} json.iTotalRecords Number of records in the data set, not accounting for filtering
	 *  @param {int} json.iTotalDisplayRecords Number of records in the data set, accounting for filtering
	 *  @param {array} json.aaData The data to display on this page
	 *  @param {string} [json.sColumns] Column ordering (sName, comma separated)
	 *  @memberof DataTable#oApi
	 */
	function _fnAjaxUpdateDraw ( settings, json )
	{
		// v1.10 uses camelCase variables, while 1.9 uses Hungarian notation.
		// Support both
		var compat = function ( old, modern ) {
			return json[old] !== undefined ? json[old] : json[modern];
		};
	
		var draw            = compat( 'sEcho',                'draw' );
		var recordsTotal    = compat( 'iTotalRecords',        'recordsTotal' );
		var rocordsFiltered = compat( 'iTotalDisplayRecords', 'recordsFiltered' );
	
		if ( draw ) {
			// Protect against out of sequence returns
			if ( draw*1 < settings.iDraw ) {
				return;
			}
			settings.iDraw = draw * 1;
		}
	
		_fnClearTable( settings );
		settings._iRecordsTotal   = parseInt(recordsTotal, 10);
		settings._iRecordsDisplay = parseInt(rocordsFiltered, 10);
	
		var data = _fnAjaxDataSrc( settings, json );
		for ( var i=0, ien=data.length ; i<ien ; i++ ) {
			_fnAddData( settings, data[i] );
		}
		settings.aiDisplay = settings.aiDisplayMaster.slice();
	
		settings.bAjaxDataGet = false;
		_fnDraw( settings );
	
		if ( ! settings._bInitComplete ) {
			_fnInitComplete( settings, json );
		}
	
		settings.bAjaxDataGet = true;
		_fnProcessingDisplay( settings, false );
	}
	
	
	/**
	 * Get the data from the JSON data source to use for drawing a table. Using
	 * `_fnGetObjectDataFn` allows the data to be sourced from a property of the
	 * source object, or from a processing function.
	 *  @param {object} oSettings dataTables settings object
	 *  @param  {object} json Data source object / array from the server
	 *  @return {array} Array of data to use
	 */
	function _fnAjaxDataSrc ( oSettings, json )
	{
		var dataSrc = $.isPlainObject( oSettings.ajax ) && oSettings.ajax.dataSrc !== undefined ?
			oSettings.ajax.dataSrc :
			oSettings.sAjaxDataProp; // Compatibility with 1.9-.
	
		// Compatibility with 1.9-. In order to read from aaData, check if the
		// default has been changed, if not, check for aaData
		if ( dataSrc === 'data' ) {
			return json.aaData || json[dataSrc];
		}
	
		return dataSrc !== "" ?
			_fnGetObjectDataFn( dataSrc )( json ) :
			json;
	}
	
	
	/**
	 * Generate the node required for filtering text
	 *  @returns {node} Filter control element
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlFilter ( settings )
	{
		var classes = settings.oClasses;
		var tableId = settings.sTableId;
		var previousSearch = settings.oPreviousSearch;
		var features = settings.aanFeatures;
		var input = '<input type="search" class="'+classes.sFilterInput+'"/>';
	
		var str = settings.oLanguage.sSearch;
		str = str.match(/_INPUT_/) ?
			str.replace('_INPUT_', input) :
			str+input;
	
		var filter = $('<div/>', {
				'id': ! features.f ? tableId+'_filter' : null,
				'class': classes.sFilter
			} )
			.append( $('<label/>' ).append( str ) );
	
		var searchFn = function() {
			/* Update all other filter input elements for the new display */
			var n = features.f;
			var val = !this.value ? "" : this.value; // mental IE8 fix :-(
	
			/* Now do the filter */
			if ( val != previousSearch.sSearch ) {
				_fnFilterComplete( settings, {
					"sSearch": val,
					"bRegex": previousSearch.bRegex,
					"bSmart": previousSearch.bSmart ,
					"bCaseInsensitive": previousSearch.bCaseInsensitive
				} );
	
				// Need to redraw, without resorting
				settings._iDisplayStart = 0;
				_fnDraw( settings );
			}
		};
		var jqFilter = $('input', filter)
			.val( previousSearch.sSearch.replace('"','&quot;') )
			.bind(
				'keyup.DT search.DT input.DT paste.DT cut.DT',
				_fnDataSource( settings ) === 'ssp' ?
					_fnThrottle( searchFn, 400 ):
					searchFn
			)
			.bind( 'keypress.DT', function(e) {
				/* Prevent form submission */
				if ( e.keyCode == 13 ) {
					return false;
				}
			} )
			.attr('aria-controls', tableId);
	
		// Update the input elements whenever the table is filtered
		$(settings.nTable).on( 'filter.DT', function () {
			// IE9 throws an 'unknown error' if document.activeElement is used
			// inside an iframe or frame...
			try {
				if ( jqFilter[0] !== document.activeElement ) {
					jqFilter.val( previousSearch.sSearch );
				}
			}
			catch ( e ) {}
		} );
	
		return filter[0];
	}
	
	
	/**
	 * Filter the table using both the global filter and column based filtering
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} oSearch search information
	 *  @param {int} [iForce] force a research of the master array (1) or not (undefined or 0)
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterComplete ( oSettings, oInput, iForce )
	{
		var oPrevSearch = oSettings.oPreviousSearch;
		var aoPrevSearch = oSettings.aoPreSearchCols;
		var fnSaveFilter = function ( oFilter ) {
			/* Save the filtering values */
			oPrevSearch.sSearch = oFilter.sSearch;
			oPrevSearch.bRegex = oFilter.bRegex;
			oPrevSearch.bSmart = oFilter.bSmart;
			oPrevSearch.bCaseInsensitive = oFilter.bCaseInsensitive;
		};
		var fnRegex = function ( o ) {
			// Backwards compatibility with the bEscapeRegex option
			return o.bEscapeRegex !== undefined ? !o.bEscapeRegex : o.bRegex;
		};
	
		// Resolve any column types that are unknown due to addition or invalidation
		// @todo As per sort - can this be moved into an event handler?
		_fnColumnTypes( oSettings );
	
		/* In server-side processing all filtering is done by the server, so no point hanging around here */
		if ( _fnDataSource( oSettings ) != 'ssp' )
		{
			/* Global filter */
			_fnFilter( oSettings, oInput.sSearch, iForce, fnRegex(oInput), oInput.bSmart, oInput.bCaseInsensitive );
			fnSaveFilter( oInput );
	
			/* Now do the individual column filter */
			for ( var i=0 ; i<aoPrevSearch.length ; i++ )
			{
				_fnFilterColumn( oSettings, aoPrevSearch[i].sSearch, i, fnRegex(aoPrevSearch[i]),
					aoPrevSearch[i].bSmart, aoPrevSearch[i].bCaseInsensitive );
			}
	
			/* Custom filtering */
			_fnFilterCustom( oSettings );
		}
		else
		{
			fnSaveFilter( oInput );
		}
	
		/* Tell the draw function we have been filtering */
		oSettings.bFiltered = true;
		_fnCallbackFire( oSettings, null, 'search', [oSettings] );
	}
	
	
	/**
	 * Apply custom filtering functions
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterCustom( settings )
	{
		var filters = DataTable.ext.search;
		var displayRows = settings.aiDisplay;
		var row, rowIdx;
	
		for ( var i=0, iLen=filters.length ; i<iLen ; i++ ) {
			for ( var j=displayRows.length-1 ; j>=0 ; j-- ) {
				rowIdx = displayRows[ j ];
				row = settings.aoData[ rowIdx ];
	
				if ( ! filters[i]( settings, row._aFilterData, rowIdx, row._aData ) ) {
					displayRows.splice( j, 1 );
				}
			}
		}
	}
	
	
	/**
	 * Filter the table on a per-column basis
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sInput string to filter on
	 *  @param {int} iColumn column to filter
	 *  @param {bool} bRegex treat search string as a regular expression or not
	 *  @param {bool} bSmart use smart filtering or not
	 *  @param {bool} bCaseInsensitive Do case insenstive matching or not
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterColumn ( settings, searchStr, colIdx, regex, smart, caseInsensitive )
	{
		if ( searchStr === '' ) {
			return;
		}
	
		var data;
		var display = settings.aiDisplay;
		var rpSearch = _fnFilterCreateSearch( searchStr, regex, smart, caseInsensitive );
	
		for ( var i=display.length-1 ; i>=0 ; i-- ) {
			data = settings.aoData[ display[i] ]._aFilterData[ colIdx ];
	
			if ( ! rpSearch.test( data ) ) {
				display.splice( i, 1 );
			}
		}
	}
	
	
	/**
	 * Filter the data table based on user input and draw the table
	 *  @param {object} settings dataTables settings object
	 *  @param {string} input string to filter on
	 *  @param {int} force optional - force a research of the master array (1) or not (undefined or 0)
	 *  @param {bool} regex treat as a regular expression or not
	 *  @param {bool} smart perform smart filtering or not
	 *  @param {bool} caseInsensitive Do case insenstive matching or not
	 *  @memberof DataTable#oApi
	 */
	function _fnFilter( settings, input, force, regex, smart, caseInsensitive )
	{
		var rpSearch = _fnFilterCreateSearch( input, regex, smart, caseInsensitive );
		var prevSearch = settings.oPreviousSearch.sSearch;
		var displayMaster = settings.aiDisplayMaster;
		var display, invalidated, i;
	
		// Need to take account of custom filtering functions - always filter
		if ( DataTable.ext.search.length !== 0 ) {
			force = true;
		}
	
		// Check if any of the rows were invalidated
		invalidated = _fnFilterData( settings );
	
		// If the input is blank - we just want the full data set
		if ( input.length <= 0 ) {
			settings.aiDisplay = displayMaster.slice();
		}
		else {
			// New search - start from the master array
			if ( invalidated ||
				 force ||
				 prevSearch.length > input.length ||
				 input.indexOf(prevSearch) !== 0 ||
				 settings.bSorted // On resort, the display master needs to be
				                  // re-filtered since indexes will have changed
			) {
				settings.aiDisplay = displayMaster.slice();
			}
	
			// Search the display array
			display = settings.aiDisplay;
	
			for ( i=display.length-1 ; i>=0 ; i-- ) {
				if ( ! rpSearch.test( settings.aoData[ display[i] ]._sFilterRow ) ) {
					display.splice( i, 1 );
				}
			}
		}
	}
	
	
	/**
	 * Build a regular expression object suitable for searching a table
	 *  @param {string} sSearch string to search for
	 *  @param {bool} bRegex treat as a regular expression or not
	 *  @param {bool} bSmart perform smart filtering or not
	 *  @param {bool} bCaseInsensitive Do case insensitive matching or not
	 *  @returns {RegExp} constructed object
	 *  @memberof DataTable#oApi
	 */
	function _fnFilterCreateSearch( search, regex, smart, caseInsensitive )
	{
		search = regex ?
			search :
			_fnEscapeRegex( search );
		
		if ( smart ) {
			/* For smart filtering we want to allow the search to work regardless of
			 * word order. We also want double quoted text to be preserved, so word
			 * order is important - a la google. So this is what we want to
			 * generate:
			 * 
			 * ^(?=.*?\bone\b)(?=.*?\btwo three\b)(?=.*?\bfour\b).*$
			 */
			var a = $.map( search.match( /"[^"]+"|[^ ]+/g ) || '', function ( word ) {
				return word.charAt(0) === '"' ?
					word.match( /^"(.*)"$/ )[1] :
					word;
			} );
	
			search = '^(?=.*?'+a.join( ')(?=.*?' )+').*$';
		}
	
		return new RegExp( search, caseInsensitive ? 'i' : '' );
	}
	
	
	/**
	 * scape a string such that it can be used in a regular expression
	 *  @param {string} sVal string to escape
	 *  @returns {string} escaped string
	 *  @memberof DataTable#oApi
	 */
	function _fnEscapeRegex ( sVal )
	{
		return sVal.replace( _re_escape_regex, '\\$1' );
	}
	
	
	
	var __filter_div = $('<div>')[0];
	var __filter_div_textContent = __filter_div.textContent !== undefined;
	
	// Update the filtering data for each row if needed (by invalidation or first run)
	function _fnFilterData ( settings )
	{
		var columns = settings.aoColumns;
		var column;
		var i, j, ien, jen, filterData, cellData, row;
		var fomatters = DataTable.ext.type.search;
		var wasInvalidated = false;
	
		for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];
	
			if ( ! row._aFilterData ) {
				filterData = [];
	
				for ( j=0, jen=columns.length ; j<jen ; j++ ) {
					column = columns[j];
	
					if ( column.bSearchable ) {
						cellData = _fnGetCellData( settings, i, j, 'filter' );
	
						cellData = fomatters[ column.sType ] ?
							fomatters[ column.sType ]( cellData ) :
							cellData !== null ?
								cellData :
								'';
					}
					else {
						cellData = '';
					}
	
					// If it looks like there is an HTML entity in the string,
					// attempt to decode it so sorting works as expected. Note that
					// we could use a single line of jQuery to do this, but the DOM
					// method used here is much faster http://jsperf.com/html-decode
					if ( cellData.indexOf && cellData.indexOf('&') !== -1 ) {
						__filter_div.innerHTML = cellData;
						cellData = __filter_div_textContent ?
							__filter_div.textContent :
							__filter_div.innerText;
					}
	
					if ( cellData.replace ) {
						cellData = cellData.replace(/[\r\n]/g, '');
					}
	
					filterData.push( cellData );
				}
	
				row._aFilterData = filterData;
				row._sFilterRow = filterData.join('  ');
				wasInvalidated = true;
			}
		}
	
		return wasInvalidated;
	}
	
	/**
	 * Generate the node required for the info display
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {node} Information element
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlInfo ( settings )
	{
		var
			tid = settings.sTableId,
			nodes = settings.aanFeatures.i,
			n = $('<div/>', {
				'class': settings.oClasses.sInfo,
				'id': ! nodes ? tid+'_info' : null
			} );
	
		if ( ! nodes ) {
			// Update display on each draw
			settings.aoDrawCallback.push( {
				"fn": _fnUpdateInfo,
				"sName": "information"
			} );
	
			n
				.attr( 'role', 'status' )
				.attr( 'aria-live', 'polite' );
	
			// Table is described by our info div
			$(settings.nTable).attr( 'aria-describedby', tid+'_info' );
		}
	
		return n[0];
	}
	
	
	/**
	 * Update the information elements in the display
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnUpdateInfo ( settings )
	{
		/* Show information about the table */
		var nodes = settings.aanFeatures.i;
		if ( nodes.length === 0 ) {
			return;
		}
	
		var
			lang  = settings.oLanguage,
			start = settings._iDisplayStart+1,
			end   = settings.fnDisplayEnd(),
			max   = settings.fnRecordsTotal(),
			total = settings.fnRecordsDisplay(),
			out   = total ?
				lang.sInfo :
				lang.sInfoEmpty;
	
		if ( total !== max ) {
			/* Record set after filtering */
			out += ' ' + lang.sInfoFiltered;
		}
	
		// Convert the macros
		out += lang.sInfoPostFix;
		out = _fnInfoMacros( settings, out );
	
		var callback = lang.fnInfoCallback;
		if ( callback !== null ) {
			out = callback.call( settings.oInstance,
				settings, start, end, max, total, out
			);
		}
	
		$(nodes).html( out );
	}
	
	
	function _fnInfoMacros ( settings, str )
	{
		// When infinite scrolling, we are always starting at 1. _iDisplayStart is used only
		// internally
		var
			formatter  = settings.fnFormatNumber,
			start      = settings._iDisplayStart+1,
			len        = settings._iDisplayLength,
			vis        = settings.fnRecordsDisplay(),
			all        = len === -1;
	
		return str.
			replace(/_START_/g, formatter.call( settings, start ) ).
			replace(/_END_/g,   formatter.call( settings, settings.fnDisplayEnd() ) ).
			replace(/_MAX_/g,   formatter.call( settings, settings.fnRecordsTotal() ) ).
			replace(/_TOTAL_/g, formatter.call( settings, vis ) ).
			replace(/_PAGE_/g,  formatter.call( settings, all ? 1 : Math.ceil( start / len ) ) ).
			replace(/_PAGES_/g, formatter.call( settings, all ? 1 : Math.ceil( vis / len ) ) );
	}
	
	
	
	/**
	 * Draw the table for the first time, adding all required features
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnInitialise ( settings )
	{
		var i, iLen, iAjaxStart=settings.iInitDisplayStart;
		var columns = settings.aoColumns, column;
		var features = settings.oFeatures;
	
		/* Ensure that the table data is fully initialised */
		if ( ! settings.bInitialised ) {
			setTimeout( function(){ _fnInitialise( settings ); }, 200 );
			return;
		}
	
		/* Show the display HTML options */
		_fnAddOptionsHtml( settings );
	
		/* Build and draw the header / footer for the table */
		_fnBuildHead( settings );
		_fnDrawHead( settings, settings.aoHeader );
		_fnDrawHead( settings, settings.aoFooter );
	
		/* Okay to show that something is going on now */
		_fnProcessingDisplay( settings, true );
	
		/* Calculate sizes for columns */
		if ( features.bAutoWidth ) {
			_fnCalculateColumnWidths( settings );
		}
	
		for ( i=0, iLen=columns.length ; i<iLen ; i++ ) {
			column = columns[i];
	
			if ( column.sWidth ) {
				column.nTh.style.width = _fnStringToCss( column.sWidth );
			}
		}
	
		// If there is default sorting required - let's do it. The sort function
		// will do the drawing for us. Otherwise we draw the table regardless of the
		// Ajax source - this allows the table to look initialised for Ajax sourcing
		// data (show 'loading' message possibly)
		_fnReDraw( settings );
	
		// Server-side processing init complete is done by _fnAjaxUpdateDraw
		var dataSrc = _fnDataSource( settings );
		if ( dataSrc != 'ssp' ) {
			// if there is an ajax source load the data
			if ( dataSrc == 'ajax' ) {
				_fnBuildAjax( settings, [], function(json) {
					var aData = _fnAjaxDataSrc( settings, json );
	
					// Got the data - add it to the table
					for ( i=0 ; i<aData.length ; i++ ) {
						_fnAddData( settings, aData[i] );
					}
	
					// Reset the init display for cookie saving. We've already done
					// a filter, and therefore cleared it before. So we need to make
					// it appear 'fresh'
					settings.iInitDisplayStart = iAjaxStart;
	
					_fnReDraw( settings );
	
					_fnProcessingDisplay( settings, false );
					_fnInitComplete( settings, json );
				}, settings );
			}
			else {
				_fnProcessingDisplay( settings, false );
				_fnInitComplete( settings );
			}
		}
	}
	
	
	/**
	 * Draw the table for the first time, adding all required features
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} [json] JSON from the server that completed the table, if using Ajax source
	 *    with client-side processing (optional)
	 *  @memberof DataTable#oApi
	 */
	function _fnInitComplete ( settings, json )
	{
		settings._bInitComplete = true;
	
		// On an Ajax load we now have data and therefore want to apply the column
		// sizing
		if ( json ) {
			_fnAdjustColumnSizing( settings );
		}
	
		_fnCallbackFire( settings, 'aoInitComplete', 'init', [settings, json] );
	}
	
	
	function _fnLengthChange ( settings, val )
	{
		var len = parseInt( val, 10 );
		settings._iDisplayLength = len;
	
		_fnLengthOverflow( settings );
	
		// Fire length change event
		_fnCallbackFire( settings, null, 'length', [settings, len] );
	}
	
	
	/**
	 * Generate the node required for user display length changing
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Display length feature node
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlLength ( settings )
	{
		var
			classes  = settings.oClasses,
			tableId  = settings.sTableId,
			menu     = settings.aLengthMenu,
			d2       = $.isArray( menu[0] ),
			lengths  = d2 ? menu[0] : menu,
			language = d2 ? menu[1] : menu;
	
		var select = $('<select/>', {
			'name':          tableId+'_length',
			'aria-controls': tableId,
			'class':         classes.sLengthSelect
		} );
	
		for ( var i=0, ien=lengths.length ; i<ien ; i++ ) {
			select[0][ i ] = new Option( language[i], lengths[i] );
		}
	
		var div = $('<div><label/></div>').addClass( classes.sLength );
		if ( ! settings.aanFeatures.l ) {
			div[0].id = tableId+'_length';
		}
	
		var a = settings.oLanguage.sLengthMenu.split(/(_MENU_)/);
		div.children().append( a.length > 1 ?
			[ a[0], select, a[2] ] :
			a[0]
		);
	
		// Can't use `select` variable, as user might provide their own select menu
		$('select', div)
			.val( settings._iDisplayLength )
			.bind( 'change.DT', function(e) {
				_fnLengthChange( settings, $(this).val() );
				_fnDraw( settings );
			} );
	
		// Update node value whenever anything changes the table's length
		$(settings.nTable).bind( 'length.dt.DT', function (e, s, len) {
			$('select', div).val( len );
		} );
	
		return div[0];
	}
	
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Note that most of the paging logic is done in
	 * DataTable.ext.pager
	 */
	
	/**
	 * Generate the node required for default pagination
	 *  @param {object} oSettings dataTables settings object
	 *  @returns {node} Pagination feature node
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlPaginate ( settings )
	{
		var
			type   = settings.sPaginationType,
			plugin = DataTable.ext.pager[ type ],
			modern = typeof plugin === 'function',
			redraw = function( settings ) {
				_fnDraw( settings );
			},
			node = $('<div/>').addClass( settings.oClasses.sPaging + type )[0],
			features = settings.aanFeatures;
	
		if ( ! modern ) {
			plugin.fnInit( settings, node, redraw );
		}
	
		/* Add a draw callback for the pagination on first instance, to update the paging display */
		if ( ! features.p )
		{
			node.id = settings.sTableId+'_paginate';
	
			settings.aoDrawCallback.push( {
				"fn": function( settings ) {
					if ( modern ) {
						var
							start      = settings._iDisplayStart,
							len        = settings._iDisplayLength,
							visRecords = settings.fnRecordsDisplay(),
							all        = len === -1,
							page = all ? 0 : Math.ceil( start / len ),
							pages = all ? 1 : Math.ceil( visRecords / len ),
							buttons = plugin(page, pages),
							i, ien;
	
						for ( i=0, ien=features.p.length ; i<ien ; i++ ) {
							_fnRenderer( settings, 'pageButton' )(
								settings, features.p[i], i, buttons, page, pages
							);
						}
					}
					else {
						plugin.fnUpdate( settings, redraw );
					}
				},
				"sName": "pagination"
			} );
		}
	
		return node;
	}
	
	
	/**
	 * Alter the display settings to change the page
	 *  @param {object} settings DataTables settings object
	 *  @param {string|int} action Paging action to take: "first", "previous",
	 *    "next" or "last" or page number to jump to (integer)
	 *  @param [bool] redraw Automatically draw the update or not
	 *  @returns {bool} true page has changed, false - no change
	 *  @memberof DataTable#oApi
	 */
	function _fnPageChange ( settings, action, redraw )
	{
		var
			start     = settings._iDisplayStart,
			len       = settings._iDisplayLength,
			records   = settings.fnRecordsDisplay();
	
		if ( records === 0 || len === -1 )
		{
			start = 0;
		}
		else if ( typeof action === "number" )
		{
			start = action * len;
	
			if ( start > records )
			{
				start = 0;
			}
		}
		else if ( action == "first" )
		{
			start = 0;
		}
		else if ( action == "previous" )
		{
			start = len >= 0 ?
				start - len :
				0;
	
			if ( start < 0 )
			{
			  start = 0;
			}
		}
		else if ( action == "next" )
		{
			if ( start + len < records )
			{
				start += len;
			}
		}
		else if ( action == "last" )
		{
			start = Math.floor( (records-1) / len) * len;
		}
		else
		{
			_fnLog( settings, 0, "Unknown paging action: "+action, 5 );
		}
	
		var changed = settings._iDisplayStart !== start;
		settings._iDisplayStart = start;
	
		if ( changed ) {
			_fnCallbackFire( settings, null, 'page', [settings] );
	
			if ( redraw ) {
				_fnDraw( settings );
			}
		}
	
		return changed;
	}
	
	
	
	/**
	 * Generate the node required for the processing node
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Processing element
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlProcessing ( settings )
	{
		return $('<div/>', {
				'id': ! settings.aanFeatures.r ? settings.sTableId+'_processing' : null,
				'class': settings.oClasses.sProcessing
			} )
			.html( settings.oLanguage.sProcessing )
			.insertBefore( settings.nTable )[0];
	}
	
	
	/**
	 * Display or hide the processing indicator
	 *  @param {object} settings dataTables settings object
	 *  @param {bool} show Show the processing indicator (true) or not (false)
	 *  @memberof DataTable#oApi
	 */
	function _fnProcessingDisplay ( settings, show )
	{
		if ( settings.oFeatures.bProcessing ) {
			$(settings.aanFeatures.r).css( 'display', show ? 'block' : 'none' );
		}
	
		_fnCallbackFire( settings, null, 'processing', [settings, show] );
	}
	
	/**
	 * Add any control elements for the table - specifically scrolling
	 *  @param {object} settings dataTables settings object
	 *  @returns {node} Node to add to the DOM
	 *  @memberof DataTable#oApi
	 */
	function _fnFeatureHtmlTable ( settings )
	{
		var table = $(settings.nTable);
	
		// Add the ARIA grid role to the table
		table.attr( 'role', 'grid' );
	
		// Scrolling from here on in
		var scroll = settings.oScroll;
	
		if ( scroll.sX === '' && scroll.sY === '' ) {
			return settings.nTable;
		}
	
		var scrollX = scroll.sX;
		var scrollY = scroll.sY;
		var classes = settings.oClasses;
		var caption = table.children('caption');
		var captionSide = caption.length ? caption[0]._captionSide : null;
		var headerClone = $( table[0].cloneNode(false) );
		var footerClone = $( table[0].cloneNode(false) );
		var footer = table.children('tfoot');
		var _div = '<div/>';
		var size = function ( s ) {
			return !s ? null : _fnStringToCss( s );
		};
	
		// This is fairly messy, but with x scrolling enabled, if the table has a
		// width attribute, regardless of any width applied using the column width
		// options, the browser will shrink or grow the table as needed to fit into
		// that 100%. That would make the width options useless. So we remove it.
		// This is okay, under the assumption that width:100% is applied to the
		// table in CSS (it is in the default stylesheet) which will set the table
		// width as appropriate (the attribute and css behave differently...)
		if ( scroll.sX && table.attr('width') === '100%' ) {
			table.removeAttr('width');
		}
	
		if ( ! footer.length ) {
			footer = null;
		}
	
		/*
		 * The HTML structure that we want to generate in this function is:
		 *  div - scroller
		 *    div - scroll head
		 *      div - scroll head inner
		 *        table - scroll head table
		 *          thead - thead
		 *    div - scroll body
		 *      table - table (master table)
		 *        thead - thead clone for sizing
		 *        tbody - tbody
		 *    div - scroll foot
		 *      div - scroll foot inner
		 *        table - scroll foot table
		 *          tfoot - tfoot
		 */
		var scroller = $( _div, { 'class': classes.sScrollWrapper } )
			.append(
				$(_div, { 'class': classes.sScrollHead } )
					.css( {
						overflow: 'hidden',
						position: 'relative',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollHeadInner } )
							.css( {
								'box-sizing': 'content-box',
								width: scroll.sXInner || '100%'
							} )
							.append(
								headerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append(
										table.children('thead')
									)
							)
					)
					.append( captionSide === 'top' ? caption : null )
			)
			.append(
				$(_div, { 'class': classes.sScrollBody } )
					.css( {
						overflow: 'auto',
						height: size( scrollY ),
						width: size( scrollX )
					} )
					.append( table )
			);
	
		if ( footer ) {
			scroller.append(
				$(_div, { 'class': classes.sScrollFoot } )
					.css( {
						overflow: 'hidden',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollFootInner } )
							.append(
								footerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append(
										table.children('tfoot')
									)
							)
					)
					.append( captionSide === 'bottom' ? caption : null )
			);
		}
	
		var children = scroller.children();
		var scrollHead = children[0];
		var scrollBody = children[1];
		var scrollFoot = footer ? children[2] : null;
	
		// When the body is scrolled, then we also want to scroll the headers
		if ( scrollX ) {
			$(scrollBody).scroll( function (e) {
				var scrollLeft = this.scrollLeft;
	
				scrollHead.scrollLeft = scrollLeft;
	
				if ( footer ) {
					scrollFoot.scrollLeft = scrollLeft;
				}
			} );
		}
	
		settings.nScrollHead = scrollHead;
		settings.nScrollBody = scrollBody;
		settings.nScrollFoot = scrollFoot;
	
		// On redraw - align columns
		settings.aoDrawCallback.push( {
			"fn": _fnScrollDraw,
			"sName": "scrolling"
		} );
	
		return scroller[0];
	}
	
	
	
	/**
	 * Update the header, footer and body tables for resizing - i.e. column
	 * alignment.
	 *
	 * Welcome to the most horrible function DataTables. The process that this
	 * function follows is basically:
	 *   1. Re-create the table inside the scrolling div
	 *   2. Take live measurements from the DOM
	 *   3. Apply the measurements to align the columns
	 *   4. Clean up
	 *
	 *  @param {object} settings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnScrollDraw ( settings )
	{
		// Given that this is such a monster function, a lot of variables are use
		// to try and keep the minimised size as small as possible
		var
			scroll         = settings.oScroll,
			scrollX        = scroll.sX,
			scrollXInner   = scroll.sXInner,
			scrollY        = scroll.sY,
			barWidth       = scroll.iBarWidth,
			divHeader      = $(settings.nScrollHead),
			divHeaderStyle = divHeader[0].style,
			divHeaderInner = divHeader.children('div'),
			divHeaderInnerStyle = divHeaderInner[0].style,
			divHeaderTable = divHeaderInner.children('table'),
			divBodyEl      = settings.nScrollBody,
			divBody        = $(divBodyEl),
			divBodyStyle   = divBodyEl.style,
			divFooter      = $(settings.nScrollFoot),
			divFooterInner = divFooter.children('div'),
			divFooterTable = divFooterInner.children('table'),
			header         = $(settings.nTHead),
			table          = $(settings.nTable),
			tableEl        = table[0],
			tableStyle     = tableEl.style,
			footer         = settings.nTFoot ? $(settings.nTFoot) : null,
			browser        = settings.oBrowser,
			ie67           = browser.bScrollOversize,
			headerTrgEls, footerTrgEls,
			headerSrcEls, footerSrcEls,
			headerCopy, footerCopy,
			headerWidths=[], footerWidths=[],
			headerContent=[],
			idx, correction, sanityWidth,
			zeroOut = function(nSizer) {
				var style = nSizer.style;
				style.paddingTop = "0";
				style.paddingBottom = "0";
				style.borderTopWidth = "0";
				style.borderBottomWidth = "0";
				style.height = 0;
			};
	
		/*
		 * 1. Re-create the table inside the scrolling div
		 */
	
		// Remove the old minimised thead and tfoot elements in the inner table
		table.children('thead, tfoot').remove();
	
		// Clone the current header and footer elements and then place it into the inner table
		headerCopy = header.clone().prependTo( table );
		headerTrgEls = header.find('tr'); // original header is in its own table
		headerSrcEls = headerCopy.find('tr');
		headerCopy.find('th, td').removeAttr('tabindex');
	
		if ( footer ) {
			footerCopy = footer.clone().prependTo( table );
			footerTrgEls = footer.find('tr'); // the original tfoot is in its own table and must be sized
			footerSrcEls = footerCopy.find('tr');
		}
	
	
		/*
		 * 2. Take live measurements from the DOM - do not alter the DOM itself!
		 */
	
		// Remove old sizing and apply the calculated column widths
		// Get the unique column headers in the newly created (cloned) header. We want to apply the
		// calculated sizes to this header
		if ( ! scrollX )
		{
			divBodyStyle.width = '100%';
			divHeader[0].style.width = '100%';
		}
	
		$.each( _fnGetUniqueThs( settings, headerCopy ), function ( i, el ) {
			idx = _fnVisibleToColumnIndex( settings, i );
			el.style.width = settings.aoColumns[idx].sWidth;
		} );
	
		if ( footer ) {
			_fnApplyToChildren( function(n) {
				n.style.width = "";
			}, footerSrcEls );
		}
	
		// If scroll collapse is enabled, when we put the headers back into the body for sizing, we
		// will end up forcing the scrollbar to appear, making our measurements wrong for when we
		// then hide it (end of this function), so add the header height to the body scroller.
		if ( scroll.bCollapse && scrollY !== "" ) {
			divBodyStyle.height = (divBody[0].offsetHeight + header[0].offsetHeight)+"px";
		}
	
		// Size the table as a whole
		sanityWidth = table.outerWidth();
		if ( scrollX === "" ) {
			// No x scrolling
			tableStyle.width = "100%";
	
			// IE7 will make the width of the table when 100% include the scrollbar
			// - which is shouldn't. When there is a scrollbar we need to take this
			// into account.
			if ( ie67 && (table.find('tbody').height() > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( table.outerWidth() - barWidth);
			}
		}
		else
		{
			// x scrolling
			if ( scrollXInner !== "" ) {
				// x scroll inner has been given - use it
				tableStyle.width = _fnStringToCss(scrollXInner);
			}
			else if ( sanityWidth == divBody.width() && divBody.height() < table.height() ) {
				// There is y-scrolling - try to take account of the y scroll bar
				tableStyle.width = _fnStringToCss( sanityWidth-barWidth );
				if ( table.outerWidth() > sanityWidth-barWidth ) {
					// Not possible to take account of it
					tableStyle.width = _fnStringToCss( sanityWidth );
				}
			}
			else {
				// When all else fails
				tableStyle.width = _fnStringToCss( sanityWidth );
			}
		}
	
		// Recalculate the sanity width - now that we've applied the required width,
		// before it was a temporary variable. This is required because the column
		// width calculation is done before this table DOM is created.
		sanityWidth = table.outerWidth();
	
		// Hidden header should have zero height, so remove padding and borders. Then
		// set the width based on the real headers
	
		// Apply all styles in one pass
		_fnApplyToChildren( zeroOut, headerSrcEls );
	
		// Read all widths in next pass
		_fnApplyToChildren( function(nSizer) {
			headerContent.push( nSizer.innerHTML );
			headerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
		}, headerSrcEls );
	
		// Apply all widths in final pass
		_fnApplyToChildren( function(nToSize, i) {
			nToSize.style.width = headerWidths[i];
		}, headerTrgEls );
	
		$(headerSrcEls).height(0);
	
		/* Same again with the footer if we have one */
		if ( footer )
		{
			_fnApplyToChildren( zeroOut, footerSrcEls );
	
			_fnApplyToChildren( function(nSizer) {
				footerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
			}, footerSrcEls );
	
			_fnApplyToChildren( function(nToSize, i) {
				nToSize.style.width = footerWidths[i];
			}, footerTrgEls );
	
			$(footerSrcEls).height(0);
		}
	
	
		/*
		 * 3. Apply the measurements
		 */
	
		// "Hide" the header and footer that we used for the sizing. We need to keep
		// the content of the cell so that the width applied to the header and body
		// both match, but we want to hide it completely. We want to also fix their
		// width to what they currently are
		_fnApplyToChildren( function(nSizer, i) {
			nSizer.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+headerContent[i]+'</div>';
			nSizer.style.width = headerWidths[i];
		}, headerSrcEls );
	
		if ( footer )
		{
			_fnApplyToChildren( function(nSizer, i) {
				nSizer.innerHTML = "";
				nSizer.style.width = footerWidths[i];
			}, footerSrcEls );
		}
	
		// Sanity check that the table is of a sensible width. If not then we are going to get
		// misalignment - try to prevent this by not allowing the table to shrink below its min width
		if ( table.outerWidth() < sanityWidth )
		{
			// The min width depends upon if we have a vertical scrollbar visible or not */
			correction = ((divBodyEl.scrollHeight > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")) ?
					sanityWidth+barWidth :
					sanityWidth;
	
			// IE6/7 are a law unto themselves...
			if ( ie67 && (divBodyEl.scrollHeight >
				divBodyEl.offsetHeight || divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( correction-barWidth );
			}
	
			// And give the user a warning that we've stopped the table getting too small
			if ( scrollX === "" || scrollXInner !== "" ) {
				_fnLog( settings, 1, 'Possible column misalignment', 6 );
			}
		}
		else
		{
			correction = '100%';
		}
	
		// Apply to the container elements
		divBodyStyle.width = _fnStringToCss( correction );
		divHeaderStyle.width = _fnStringToCss( correction );
	
		if ( footer ) {
			settings.nScrollFoot.style.width = _fnStringToCss( correction );
		}
	
	
		/*
		 * 4. Clean up
		 */
		if ( ! scrollY ) {
			/* IE7< puts a vertical scrollbar in place (when it shouldn't be) due to subtracting
			 * the scrollbar height from the visible display, rather than adding it on. We need to
			 * set the height in order to sort this. Don't want to do it in any other browsers.
			 */
			if ( ie67 ) {
				divBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+barWidth );
			}
		}
	
		if ( scrollY && scroll.bCollapse ) {
			divBodyStyle.height = _fnStringToCss( scrollY );
	
			var iExtra = (scrollX && tableEl.offsetWidth > divBodyEl.offsetWidth) ?
				barWidth :
				0;
	
			if ( tableEl.offsetHeight < divBodyEl.offsetHeight ) {
				divBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+iExtra );
			}
		}
	
		/* Finally set the width's of the header and footer tables */
		var iOuterWidth = table.outerWidth();
		divHeaderTable[0].style.width = _fnStringToCss( iOuterWidth );
		divHeaderInnerStyle.width = _fnStringToCss( iOuterWidth );
	
		// Figure out if there are scrollbar present - if so then we need a the header and footer to
		// provide a bit more space to allow "overflow" scrolling (i.e. past the scrollbar)
		var bScrolling = table.height() > divBodyEl.clientHeight || divBody.css('overflow-y') == "scroll";
		var padding = 'padding' + (browser.bScrollbarLeft ? 'Left' : 'Right' );
		divHeaderInnerStyle[ padding ] = bScrolling ? barWidth+"px" : "0px";
	
		if ( footer ) {
			divFooterTable[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style[padding] = bScrolling ? barWidth+"px" : "0px";
		}
	
		/* Adjust the position of the header in case we loose the y-scrollbar */
		divBody.scroll();
	
		/* If sorting or filtering has occurred, jump the scrolling back to the top */
		if ( settings.bSorted || settings.bFiltered ) {
			divBodyEl.scrollTop = 0;
		}
	}
	
	
	
	/**
	 * Apply a given function to the display child nodes of an element array (typically
	 * TD children of TR rows
	 *  @param {function} fn Method to apply to the objects
	 *  @param array {nodes} an1 List of elements to look through for display children
	 *  @param array {nodes} an2 Another list (identical structure to the first) - optional
	 *  @memberof DataTable#oApi
	 */
	function _fnApplyToChildren( fn, an1, an2 )
	{
		var index=0, i=0, iLen=an1.length;
		var nNode1, nNode2;
	
		while ( i < iLen ) {
			nNode1 = an1[i].firstChild;
			nNode2 = an2 ? an2[i].firstChild : null;
	
			while ( nNode1 ) {
				if ( nNode1.nodeType === 1 ) {
					if ( an2 ) {
						fn( nNode1, nNode2, index );
					}
					else {
						fn( nNode1, index );
					}
	
					index++;
				}
	
				nNode1 = nNode1.nextSibling;
				nNode2 = an2 ? nNode2.nextSibling : null;
			}
	
			i++;
		}
	}
	
	
	
	var __re_html_remove = /<.*?>/g;
	
	
	/**
	 * Calculate the width of columns for the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnCalculateColumnWidths ( oSettings )
	{
		var
			table = oSettings.nTable,
			columns = oSettings.aoColumns,
			scroll = oSettings.oScroll,
			scrollY = scroll.sY,
			scrollX = scroll.sX,
			scrollXInner = scroll.sXInner,
			columnCount = columns.length,
			visibleColumns = _fnGetColumns( oSettings, 'bVisible' ),
			headerCells = $('th', oSettings.nTHead),
			tableWidthAttr = table.getAttribute('width'),
			tableContainer = table.parentNode,
			userInputs = false,
			i, column, columnIdx, width, outerWidth;
	
		/* Convert any user input sizes into pixel sizes */
		for ( i=0 ; i<visibleColumns.length ; i++ ) {
			column = columns[ visibleColumns[i] ];
	
			if ( column.sWidth !== null ) {
				column.sWidth = _fnConvertToWidth( column.sWidthOrig, tableContainer );
	
				userInputs = true;
			}
		}
	
		/* If the number of columns in the DOM equals the number that we have to
		 * process in DataTables, then we can use the offsets that are created by
		 * the web- browser. No custom sizes can be set in order for this to happen,
		 * nor scrolling used
		 */
		if ( ! userInputs && ! scrollX && ! scrollY &&
		    columnCount == _fnVisbleColumns( oSettings ) &&
			columnCount == headerCells.length
		) {
			for ( i=0 ; i<columnCount ; i++ ) {
				columns[i].sWidth = _fnStringToCss( headerCells.eq(i).width() );
			}
		}
		else
		{
			// Otherwise construct a single row table with the widest node in the
			// data, assign any user defined widths, then insert it into the DOM and
			// allow the browser to do all the hard work of calculating table widths
			var tmpTable = $( table.cloneNode( false ) )
				.css( 'visibility', 'hidden' )
				.removeAttr( 'id' )
				.append( $(oSettings.nTHead).clone( false ) )
				.append( $(oSettings.nTFoot).clone( false ) )
				.append( $('<tbody><tr/></tbody>') );
	
			// Remove any assigned widths from the footer (from scrolling)
			tmpTable.find('tfoot th, tfoot td').css('width', '');
	
			var tr = tmpTable.find( 'tbody tr' );
	
			// Apply custom sizing to the cloned header
			headerCells = _fnGetUniqueThs( oSettings, tmpTable.find('thead')[0] );
	
			for ( i=0 ; i<visibleColumns.length ; i++ ) {
				column = columns[ visibleColumns[i] ];
	
				headerCells[i].style.width = column.sWidthOrig !== null && column.sWidthOrig !== '' ?
					_fnStringToCss( column.sWidthOrig ) :
					'';
			}
	
			// Find the widest cell for each column and put it into the table
			if ( oSettings.aoData.length ) {
				for ( i=0 ; i<visibleColumns.length ; i++ ) {
					columnIdx = visibleColumns[i];
					column = columns[ columnIdx ];
	
					$( _fnGetWidestNode( oSettings, columnIdx ) )
						.clone( false )
						.append( column.sContentPadding )
						.appendTo( tr );
				}
			}
	
			// Table has been built, attach to the document so we can work with it
			tmpTable.appendTo( tableContainer );
	
			// When scrolling (X or Y) we want to set the width of the table as 
			// appropriate. However, when not scrolling leave the table width as it
			// is. This results in slightly different, but I think correct behaviour
			if ( scrollX && scrollXInner ) {
				tmpTable.width( scrollXInner );
			}
			else if ( scrollX ) {
				tmpTable.css( 'width', 'auto' );
	
				if ( tmpTable.width() < tableContainer.offsetWidth ) {
					tmpTable.width( tableContainer.offsetWidth );
				}
			}
			else if ( scrollY ) {
				tmpTable.width( tableContainer.offsetWidth );
			}
			else if ( tableWidthAttr ) {
				tmpTable.width( tableWidthAttr );
			}
	
			// Take into account the y scrollbar
			_fnScrollingWidthAdjust( oSettings, tmpTable[0] );
	
			// Browsers need a bit of a hand when a width is assigned to any columns
			// when x-scrolling as they tend to collapse the table to the min-width,
			// even if we sent the column widths. So we need to keep track of what
			// the table width should be by summing the user given values, and the
			// automatic values
			if ( scrollX )
			{
				var total = 0;
	
				for ( i=0 ; i<visibleColumns.length ; i++ ) {
					column = columns[ visibleColumns[i] ];
					outerWidth = $(headerCells[i]).outerWidth();
	
					total += column.sWidthOrig === null ?
						outerWidth :
						parseInt( column.sWidth, 10 ) + outerWidth - $(headerCells[i]).width();
				}
	
				tmpTable.width( _fnStringToCss( total ) );
				table.style.width = _fnStringToCss( total );
			}
	
			// Get the width of each column in the constructed table
			for ( i=0 ; i<visibleColumns.length ; i++ ) {
				column = columns[ visibleColumns[i] ];
				width = $(headerCells[i]).width();
	
				if ( width ) {
					column.sWidth = _fnStringToCss( width );
				}
			}
	
			table.style.width = _fnStringToCss( tmpTable.css('width') );
	
			// Finished with the table - ditch it
			tmpTable.remove();
		}
	
		// If there is a width attr, we want to attach an event listener which
		// allows the table sizing to automatically adjust when the window is
		// resized. Use the width attr rather than CSS, since we can't know if the
		// CSS is a relative value or absolute - DOM read is always px.
		if ( tableWidthAttr ) {
			table.style.width = _fnStringToCss( tableWidthAttr );
		}
	
		if ( (tableWidthAttr || scrollX) && ! oSettings._reszEvt ) {
			$(window).bind('resize.DT-'+oSettings.sInstance, _fnThrottle( function () {
				_fnAdjustColumnSizing( oSettings );
			} ) );
	
			oSettings._reszEvt = true;
		}
	}
	
	
	/**
	 * Throttle the calls to a function. Arguments and context are maintained for
	 * the throttled function
	 *  @param {function} fn Function to be called
	 *  @param {int} [freq=200] call frequency in mS
	 *  @returns {function} wrapped function
	 *  @memberof DataTable#oApi
	 */
	function _fnThrottle( fn, freq ) {
		var
			frequency = freq || 200,
			last,
			timer;
	
		return function () {
			var
				that = this,
				now  = +new Date(),
				args = arguments;
	
			if ( last && now < last + frequency ) {
				clearTimeout( timer );
	
				timer = setTimeout( function () {
					last = undefined;
					fn.apply( that, args );
				}, frequency );
			}
			else if ( last ) {
				last = now;
				fn.apply( that, args );
			}
			else {
				last = now;
			}
		};
	}
	
	
	/**
	 * Convert a CSS unit width to pixels (e.g. 2em)
	 *  @param {string} width width to be converted
	 *  @param {node} parent parent to get the with for (required for relative widths) - optional
	 *  @returns {int} width in pixels
	 *  @memberof DataTable#oApi
	 */
	function _fnConvertToWidth ( width, parent )
	{
		if ( ! width ) {
			return 0;
		}
	
		var n = $('<div/>')
			.css( 'width', _fnStringToCss( width ) )
			.appendTo( parent || document.body );
	
		var val = n[0].offsetWidth;
		n.remove();
	
		return val;
	}
	
	
	/**
	 * Adjust a table's width to take account of vertical scroll bar
	 *  @param {object} oSettings dataTables settings object
	 *  @param {node} n table node
	 *  @memberof DataTable#oApi
	 */
	
	function _fnScrollingWidthAdjust ( settings, n )
	{
		var scroll = settings.oScroll;
	
		if ( scroll.sX || scroll.sY ) {
			// When y-scrolling only, we want to remove the width of the scroll bar
			// so the table + scroll bar will fit into the area available, otherwise
			// we fix the table at its current size with no adjustment
			var correction = ! scroll.sX ? scroll.iBarWidth : 0;
			n.style.width = _fnStringToCss( $(n).outerWidth() - correction );
		}
	}
	
	
	/**
	 * Get the widest node
	 *  @param {object} settings dataTables settings object
	 *  @param {int} colIdx column of interest
	 *  @returns {node} widest table node
	 *  @memberof DataTable#oApi
	 */
	function _fnGetWidestNode( settings, colIdx )
	{
		var idx = _fnGetMaxLenString( settings, colIdx );
		if ( idx < 0 ) {
			return null;
		}
	
		var data = settings.aoData[ idx ];
		return ! data.nTr ? // Might not have been created when deferred rendering
			$('<td/>').html( _fnGetCellData( settings, idx, colIdx, 'display' ) )[0] :
			data.anCells[ colIdx ];
	}
	
	
	/**
	 * Get the maximum strlen for each data column
	 *  @param {object} settings dataTables settings object
	 *  @param {int} colIdx column of interest
	 *  @returns {string} max string length for each column
	 *  @memberof DataTable#oApi
	 */
	function _fnGetMaxLenString( settings, colIdx )
	{
		var s, max=-1, maxIdx = -1;
	
		for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			s = _fnGetCellData( settings, i, colIdx, 'display' )+'';
			s = s.replace( __re_html_remove, '' );
	
			if ( s.length > max ) {
				max = s.length;
				maxIdx = i;
			}
		}
	
		return maxIdx;
	}
	
	
	/**
	 * Append a CSS unit (only if required) to a string
	 *  @param {string} value to css-ify
	 *  @returns {string} value with css unit
	 *  @memberof DataTable#oApi
	 */
	function _fnStringToCss( s )
	{
		if ( s === null ) {
			return '0px';
		}
	
		if ( typeof s == 'number' ) {
			return s < 0 ?
				'0px' :
				s+'px';
		}
	
		// Check it has a unit character already
		return s.match(/\d$/) ?
			s+'px' :
			s;
	}
	
	
	/**
	 * Get the width of a scroll bar in this browser being used
	 *  @returns {int} width in pixels
	 *  @memberof DataTable#oApi
	 */
	function _fnScrollBarWidth ()
	{
		// On first run a static variable is set, since this is only needed once.
		// Subsequent runs will just use the previously calculated value
		if ( ! DataTable.__scrollbarWidth ) {
			var inner = $('<p/>').css( {
				width: '100%',
				height: 200,
				padding: 0
			} )[0];
	
			var outer = $('<div/>')
				.css( {
					position: 'absolute',
					top: 0,
					left: 0,
					width: 200,
					height: 150,
					padding: 0,
					overflow: 'hidden',
					visibility: 'hidden'
				} )
				.append( inner )
				.appendTo( 'body' );
	
			var w1 = inner.offsetWidth;
			outer.css( 'overflow', 'scroll' );
			var w2 = inner.offsetWidth;
	
			if ( w1 === w2 ) {
				w2 = outer[0].clientWidth;
			}
	
			outer.remove();
	
			DataTable.__scrollbarWidth = w1 - w2;
		}
	
		return DataTable.__scrollbarWidth;
	}
	
	
	
	function _fnSortFlatten ( settings )
	{
		var
			i, iLen, k, kLen,
			aSort = [],
			aiOrig = [],
			aoColumns = settings.aoColumns,
			aDataSort, iCol, sType, srcCol,
			fixed = settings.aaSortingFixed,
			fixedObj = $.isPlainObject( fixed ),
			nestedSort = [],
			add = function ( a ) {
				if ( a.length && ! $.isArray( a[0] ) ) {
					// 1D array
					nestedSort.push( a );
				}
				else {
					// 2D array
					nestedSort.push.apply( nestedSort, a );
				}
			};
	
		// Build the sort array, with pre-fix and post-fix options if they have been
		// specified
		if ( $.isArray( fixed ) ) {
			add( fixed );
		}
	
		if ( fixedObj && fixed.pre ) {
			add( fixed.pre );
		}
	
		add( settings.aaSorting );
	
		if (fixedObj && fixed.post ) {
			add( fixed.post );
		}
	
		for ( i=0 ; i<nestedSort.length ; i++ )
		{
			srcCol = nestedSort[i][0];
			aDataSort = aoColumns[ srcCol ].aDataSort;
	
			for ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )
			{
				iCol = aDataSort[k];
				sType = aoColumns[ iCol ].sType || 'string';
	
				aSort.push( {
					src:       srcCol,
					col:       iCol,
					dir:       nestedSort[i][1],
					index:     nestedSort[i][2],
					type:      sType,
					formatter: DataTable.ext.type.order[ sType+"-pre" ]
				} );
			}
		}
	
		return aSort;
	}
	
	/**
	 * Change the order of the table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 *  @todo This really needs split up!
	 */
	function _fnSort ( oSettings )
	{
		var
			i, ien, iLen, j, jLen, k, kLen,
			sDataType, nTh,
			aiOrig = [],
			oExtSort = DataTable.ext.type.order,
			aoData = oSettings.aoData,
			aoColumns = oSettings.aoColumns,
			aDataSort, data, iCol, sType, oSort,
			formatters = 0,
			sortCol,
			displayMaster = oSettings.aiDisplayMaster,
			aSort;
	
		// Resolve any column types that are unknown due to addition or invalidation
		// @todo Can this be moved into a 'data-ready' handler which is called when
		//   data is going to be used in the table?
		_fnColumnTypes( oSettings );
	
		aSort = _fnSortFlatten( oSettings );
	
		for ( i=0, ien=aSort.length ; i<ien ; i++ ) {
			sortCol = aSort[i];
	
			// Track if we can use the fast sort algorithm
			if ( sortCol.formatter ) {
				formatters++;
			}
	
			// Load the data needed for the sort, for each cell
			_fnSortData( oSettings, sortCol.col );
		}
	
		/* No sorting required if server-side or no sorting array */
		if ( _fnDataSource( oSettings ) != 'ssp' && aSort.length !== 0 )
		{
			// Create a value - key array of the current row positions such that we can use their
			// current position during the sort, if values match, in order to perform stable sorting
			for ( i=0, iLen=displayMaster.length ; i<iLen ; i++ ) {
				aiOrig[ displayMaster[i] ] = i;
			}
	
			/* Do the sort - here we want multi-column sorting based on a given data source (column)
			 * and sorting function (from oSort) in a certain direction. It's reasonably complex to
			 * follow on it's own, but this is what we want (example two column sorting):
			 *  fnLocalSorting = function(a,b){
			 *    var iTest;
			 *    iTest = oSort['string-asc']('data11', 'data12');
			 *      if (iTest !== 0)
			 *        return iTest;
			 *    iTest = oSort['numeric-desc']('data21', 'data22');
			 *    if (iTest !== 0)
			 *      return iTest;
			 *    return oSort['numeric-asc']( aiOrig[a], aiOrig[b] );
			 *  }
			 * Basically we have a test for each sorting column, if the data in that column is equal,
			 * test the next column. If all columns match, then we use a numeric sort on the row
			 * positions in the original data array to provide a stable sort.
			 *
			 * Note - I know it seems excessive to have two sorting methods, but the first is around
			 * 15% faster, so the second is only maintained for backwards compatibility with sorting
			 * methods which do not have a pre-sort formatting function.
			 */
			if ( formatters === aSort.length ) {
				// All sort types have formatting functions
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, test, sort,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;
	
					for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];
	
						x = dataA[ sort.col ];
						y = dataB[ sort.col ];
	
						test = x<y ? -1 : x>y ? 1 : 0;
						if ( test !== 0 ) {
							return sort.dir === 'asc' ? test : -test;
						}
					}
	
					x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
			else {
				// Depreciated - remove in 1.11 (providing a plug-in option)
				// Not all sort types have formatting methods, so we have to call their sorting
				// methods.
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, l, test, sort, fn,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;
	
					for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];
	
						x = dataA[ sort.col ];
						y = dataB[ sort.col ];
	
						fn = oExtSort[ sort.type+"-"+sort.dir ] || oExtSort[ "string-"+sort.dir ];
						test = fn( x, y );
						if ( test !== 0 ) {
							return test;
						}
					}
	
					x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
		}
	
		/* Tell the draw function that we have sorted the data */
		oSettings.bSorted = true;
	}
	
	
	function _fnSortAria ( settings )
	{
		var label;
		var nextSort;
		var columns = settings.aoColumns;
		var aSort = _fnSortFlatten( settings );
		var oAria = settings.oLanguage.oAria;
	
		// ARIA attributes - need to loop all columns, to update all (removing old
		// attributes as needed)
		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			var col = columns[i];
			var asSorting = col.asSorting;
			var sTitle = col.sTitle.replace( /<.*?>/g, "" );
			var th = col.nTh;
	
			// IE7 is throwing an error when setting these properties with jQuery's
			// attr() and removeAttr() methods...
			th.removeAttribute('aria-sort');
	
			/* In ARIA only the first sorting column can be marked as sorting - no multi-sort option */
			if ( col.bSortable ) {
				if ( aSort.length > 0 && aSort[0].col == i ) {
					th.setAttribute('aria-sort', aSort[0].dir=="asc" ? "ascending" : "descending" );
					nextSort = asSorting[ aSort[0].index+1 ] || asSorting[0];
				}
				else {
					nextSort = asSorting[0];
				}
	
				label = sTitle + ( nextSort === "asc" ?
					oAria.sSortAscending :
					oAria.sSortDescending
				);
			}
			else {
				label = sTitle;
			}
	
			th.setAttribute('aria-label', label);
		}
	}
	
	
	/**
	 * Function to run on user sort request
	 *  @param {object} settings dataTables settings object
	 *  @param {node} attachTo node to attach the handler to
	 *  @param {int} colIdx column sorting index
	 *  @param {boolean} [append=false] Append the requested sort to the existing
	 *    sort if true (i.e. multi-column sort)
	 *  @param {function} [callback] callback function
	 *  @memberof DataTable#oApi
	 */
	function _fnSortListener ( settings, colIdx, append, callback )
	{
		var col = settings.aoColumns[ colIdx ];
		var sorting = settings.aaSorting;
		var asSorting = col.asSorting;
		var nextSortIdx;
		var next = function ( a ) {
			var idx = a._idx;
			if ( idx === undefined ) {
				idx = $.inArray( a[1], asSorting );
			}
	
			return idx+1 >= asSorting.length ? 0 : idx+1;
		};
	
		// If appending the sort then we are multi-column sorting
		if ( append && settings.oFeatures.bSortMulti ) {
			// Are we already doing some kind of sort on this column?
			var sortIdx = $.inArray( colIdx, _pluck(sorting, '0') );
	
			if ( sortIdx !== -1 ) {
				// Yes, modify the sort
				nextSortIdx = next( sorting[sortIdx] );
	
				sorting[sortIdx][1] = asSorting[ nextSortIdx ];
				sorting[sortIdx]._idx = nextSortIdx;
			}
			else {
				// No sort on this column yet
				sorting.push( [ colIdx, asSorting[0], 0 ] );
				sorting[sorting.length-1]._idx = 0;
			}
		}
		else if ( sorting.length && sorting[0][0] == colIdx ) {
			// Single column - already sorting on this column, modify the sort
			nextSortIdx = next( sorting[0] );
	
			sorting.length = 1;
			sorting[0][1] = asSorting[ nextSortIdx ];
			sorting[0]._idx = nextSortIdx;
		}
		else {
			// Single column - sort only on this column
			sorting.length = 0;
			sorting.push( [ colIdx, asSorting[0] ] );
			sorting[0]._idx = 0;
		}
	
		// Run the sort by calling a full redraw
		_fnReDraw( settings );
	
		// callback used for async user interaction
		if ( typeof callback == 'function' ) {
			callback( settings );
		}
	}
	
	
	/**
	 * Attach a sort handler (click) to a node
	 *  @param {object} settings dataTables settings object
	 *  @param {node} attachTo node to attach the handler to
	 *  @param {int} colIdx column sorting index
	 *  @param {function} [callback] callback function
	 *  @memberof DataTable#oApi
	 */
	function _fnSortAttachListener ( settings, attachTo, colIdx, callback )
	{
		var col = settings.aoColumns[ colIdx ];
	
		_fnBindAction( attachTo, {}, function (e) {
			/* If the column is not sortable - don't to anything */
			if ( col.bSortable === false ) {
				return;
			}
	
			// If processing is enabled use a timeout to allow the processing
			// display to be shown - otherwise to it synchronously
			if ( settings.oFeatures.bProcessing ) {
				_fnProcessingDisplay( settings, true );
	
				setTimeout( function() {
					_fnSortListener( settings, colIdx, e.shiftKey, callback );
	
					// In server-side processing, the draw callback will remove the
					// processing display
					if ( _fnDataSource( settings ) !== 'ssp' ) {
						_fnProcessingDisplay( settings, false );
					}
				}, 0 );
			}
			else {
				_fnSortListener( settings, colIdx, e.shiftKey, callback );
			}
		} );
	}
	
	
	/**
	 * Set the sorting classes on table's body, Note: it is safe to call this function
	 * when bSort and bSortClasses are false
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnSortingClasses( settings )
	{
		var oldSort = settings.aLastSort;
		var sortClass = settings.oClasses.sSortColumn;
		var sort = _fnSortFlatten( settings );
		var features = settings.oFeatures;
		var i, ien, colIdx;
	
		if ( features.bSort && features.bSortClasses ) {
			// Remove old sorting classes
			for ( i=0, ien=oldSort.length ; i<ien ; i++ ) {
				colIdx = oldSort[i].src;
	
				// Remove column sorting
				$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.removeClass( sortClass + (i<2 ? i+1 : 3) );
			}
	
			// Add new column sorting
			for ( i=0, ien=sort.length ; i<ien ; i++ ) {
				colIdx = sort[i].src;
	
				$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.addClass( sortClass + (i<2 ? i+1 : 3) );
			}
		}
	
		settings.aLastSort = sort;
	}
	
	
	// Get the data to sort a column, be it from cache, fresh (populating the
	// cache), or from a sort formatter
	function _fnSortData( settings, idx )
	{
		// Custom sorting function - provided by the sort data type
		var column = settings.aoColumns[ idx ];
		var customSort = DataTable.ext.order[ column.sSortDataType ];
		var customData;
	
		if ( customSort ) {
			customData = customSort.call( settings.oInstance, settings, idx,
				_fnColumnIndexToVisible( settings, idx )
			);
		}
	
		// Use / populate cache
		var row, cellData;
		var formatter = DataTable.ext.type.order[ column.sType+"-pre" ];
	
		for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];
	
			if ( ! row._aSortData ) {
				row._aSortData = [];
			}
	
			if ( ! row._aSortData[idx] || customSort ) {
				cellData = customSort ?
					customData[i] : // If there was a custom sort function, use data from there
					_fnGetCellData( settings, i, idx, 'sort' );
	
				row._aSortData[ idx ] = formatter ?
					formatter( cellData ) :
					cellData;
			}
		}
	}
	
	
	
	/**
	 * Save the state of a table
	 *  @param {object} oSettings dataTables settings object
	 *  @memberof DataTable#oApi
	 */
	function _fnSaveState ( oSettings )
	{
		if ( !oSettings.oFeatures.bStateSave || oSettings.bDestroying )
		{
			return;
		}
	
		/* Store the interesting variables */
		var i, iLen;
		var oState = {
			"iCreate":      +new Date(),
			"iStart":       oSettings._iDisplayStart,
			"iLength":      oSettings._iDisplayLength,
			"aaSorting":    $.extend( true, [], oSettings.aaSorting ),
			"oSearch":      $.extend( true, {}, oSettings.oPreviousSearch ),
			"aoSearchCols": $.extend( true, [], oSettings.aoPreSearchCols ),
			"abVisCols":    _pluck( oSettings.aoColumns, 'bVisible' )
		};
	
		_fnCallbackFire( oSettings, "aoStateSaveParams", 'stateSaveParams', [oSettings, oState] );
	
		oSettings.fnStateSaveCallback.call( oSettings.oInstance, oSettings, oState );
	}
	
	
	/**
	 * Attempt to load a saved table state
	 *  @param {object} oSettings dataTables settings object
	 *  @param {object} oInit DataTables init object so we can override settings
	 *  @memberof DataTable#oApi
	 */
	function _fnLoadState ( oSettings, oInit )
	{
		var i, ien;
		var columns = oSettings.aoColumns;
	
		if ( ! oSettings.oFeatures.bStateSave ) {
			return;
		}
	
		var oData = oSettings.fnStateLoadCallback.call( oSettings.oInstance, oSettings );
		if ( !oData ) {
			return;
		}
	
		/* Allow custom and plug-in manipulation functions to alter the saved data set and
		 * cancelling of loading by returning false
		 */
		var abStateLoad = _fnCallbackFire( oSettings, 'aoStateLoadParams', 'stateLoadParams', [oSettings, oData] );
		if ( $.inArray( false, abStateLoad ) !== -1 ) {
			return;
		}
	
		/* Reject old data */
		var duration = oSettings.iStateDuration;
		if ( duration > 0 && oData.iCreate < +new Date() - (duration*1000) ) {
			return;
		}
	
		// Number of columns have changed - all bets are off, no restore of settings
		if ( columns.length !== oData.aoSearchCols.length ) {
			return;
		}
	
		/* Store the saved state so it might be accessed at any time */
		oSettings.oLoadedState = $.extend( true, {}, oData );
	
		/* Restore key features */
		oSettings._iDisplayStart    = oData.iStart;
		oSettings.iInitDisplayStart = oData.iStart;
		oSettings._iDisplayLength   = oData.iLength;
		oSettings.aaSorting = $.map( oData.aaSorting, function ( col, i ) {
			return col[0] >= columns.length ?
				[ 0, col[1] ] :
				col;
		} );
	
		/* Search filtering  */
		$.extend( oSettings.oPreviousSearch, oData.oSearch );
		$.extend( true, oSettings.aoPreSearchCols, oData.aoSearchCols );
	
		/* Column visibility state */
		var visColumns = oData.abVisCols;
		for ( i=0, ien=visColumns.length ; i<ien ; i++ ) {
			columns[i].bVisible = visColumns[i];
		}
	
		_fnCallbackFire( oSettings, 'aoStateLoaded', 'stateLoaded', [oSettings, oData] );
	}
	
	
	/**
	 * Return the settings object for a particular table
	 *  @param {node} table table we are using as a dataTable
	 *  @returns {object} Settings object - or null if not found
	 *  @memberof DataTable#oApi
	 */
	function _fnSettingsFromNode ( table )
	{
		var settings = DataTable.settings;
		var idx = $.inArray( table, _pluck( settings, 'nTable' ) );
	
		return idx !== -1 ?
			settings[ idx ] :
			null;
	}
	
	
	/**
	 * Log an error message
	 *  @param {object} settings dataTables settings object
	 *  @param {int} level log error messages, or display them to the user
	 *  @param {string} msg error message
	 *  @param {int} tn Technical note id to get more information about the error.
	 *  @memberof DataTable#oApi
	 */
	function _fnLog( settings, level, msg, tn )
	{
		msg = 'DataTables warning: '+
			(settings!==null ? 'table id='+settings.sTableId+' - ' : '')+msg;
	
		if ( tn ) {
			msg += '. For more information about this error, please see '+
			'http://datatables.net/tn/'+tn;
		}
	
		if ( ! level  ) {
			// Backwards compatibility pre 1.10
			var ext = DataTable.ext;
			var type = ext.sErrMode || ext.errMode;
	
			if ( type == 'alert' ) {
				alert( msg );
			}
			else {
				throw new Error(msg);
			}
		}
		else if ( window.console && console.log ) {
			console.log( msg );
		}
	}
	
	
	/**
	 * See if a property is defined on one object, if so assign it to the other object
	 *  @param {object} ret target object
	 *  @param {object} src source object
	 *  @param {string} name property
	 *  @param {string} [mappedName] name to map too - optional, name used if not given
	 *  @memberof DataTable#oApi
	 */
	function _fnMap( ret, src, name, mappedName )
	{
		if ( $.isArray( name ) ) {
			$.each( name, function (i, val) {
				if ( $.isArray( val ) ) {
					_fnMap( ret, src, val[0], val[1] );
				}
				else {
					_fnMap( ret, src, val );
				}
			} );
	
			return;
		}
	
		if ( mappedName === undefined ) {
			mappedName = name;
		}
	
		if ( src[name] !== undefined ) {
			ret[mappedName] = src[name];
		}
	}
	
	
	/**
	 * Extend objects - very similar to jQuery.extend, but deep copy objects, and
	 * shallow copy arrays. The reason we need to do this, is that we don't want to
	 * deep copy array init values (such as aaSorting) since the dev wouldn't be
	 * able to override them, but we do want to deep copy arrays.
	 *  @param {object} out Object to extend
	 *  @param {object} extender Object from which the properties will be applied to
	 *      out
	 *  @param {boolean} breakRefs If true, then arrays will be sliced to take an
	 *      independent copy with the exception of the `data` or `aaData` parameters
	 *      if they are present. This is so you can pass in a collection to
	 *      DataTables and have that used as your data source without breaking the
	 *      references
	 *  @returns {object} out Reference, just for convenience - out === the return.
	 *  @memberof DataTable#oApi
	 *  @todo This doesn't take account of arrays inside the deep copied objects.
	 */
	function _fnExtend( out, extender, breakRefs )
	{
		var val;
	
		for ( var prop in extender ) {
			if ( extender.hasOwnProperty(prop) ) {
				val = extender[prop];
	
				if ( $.isPlainObject( val ) ) {
					if ( ! $.isPlainObject( out[prop] ) ) {
						out[prop] = {};
					}
					$.extend( true, out[prop], val );
				}
				else if ( breakRefs && prop !== 'data' && prop !== 'aaData' && $.isArray(val) ) {
					out[prop] = val.slice();
				}
				else {
					out[prop] = val;
				}
			}
		}
	
		return out;
	}
	
	
	/**
	 * Bind an event handers to allow a click or return key to activate the callback.
	 * This is good for accessibility since a return on the keyboard will have the
	 * same effect as a click, if the element has focus.
	 *  @param {element} n Element to bind the action to
	 *  @param {object} oData Data object to pass to the triggered function
	 *  @param {function} fn Callback function for when the event is triggered
	 *  @memberof DataTable#oApi
	 */
	function _fnBindAction( n, oData, fn )
	{
		$(n)
			.bind( 'click.DT', oData, function (e) {
					n.blur(); // Remove focus outline for mouse users
					fn(e);
				} )
			.bind( 'keypress.DT', oData, function (e){
					if ( e.which === 13 ) {
						e.preventDefault();
						fn(e);
					}
				} )
			.bind( 'selectstart.DT', function () {
					/* Take the brutal approach to cancelling text selection */
					return false;
				} );
	}
	
	
	/**
	 * Register a callback function. Easily allows a callback function to be added to
	 * an array store of callback functions that can then all be called together.
	 *  @param {object} oSettings dataTables settings object
	 *  @param {string} sStore Name of the array storage for the callbacks in oSettings
	 *  @param {function} fn Function to be called back
	 *  @param {string} sName Identifying name for the callback (i.e. a label)
	 *  @memberof DataTable#oApi
	 */
	function _fnCallbackReg( oSettings, sStore, fn, sName )
	{
		if ( fn )
		{
			oSettings[sStore].push( {
				"fn": fn,
				"sName": sName
			} );
		}
	}
	
	
	/**
	 * Fire callback functions and trigger events. Note that the loop over the
	 * callback array store is done backwards! Further note that you do not want to
	 * fire off triggers in time sensitive applications (for example cell creation)
	 * as its slow.
	 *  @param {object} settings dataTables settings object
	 *  @param {string} callbackArr Name of the array storage for the callbacks in
	 *      oSettings
	 *  @param {string} event Name of the jQuery custom event to trigger. If null no
	 *      trigger is fired
	 *  @param {array} args Array of arguments to pass to the callback function /
	 *      trigger
	 *  @memberof DataTable#oApi
	 */
	function _fnCallbackFire( settings, callbackArr, event, args )
	{
		var ret = [];
	
		if ( callbackArr ) {
			ret = $.map( settings[callbackArr].slice().reverse(), function (val, i) {
				return val.fn.apply( settings.oInstance, args );
			} );
		}
	
		if ( event !== null ) {
			$(settings.nTable).trigger( event+'.dt', args );
		}
	
		return ret;
	}
	
	
	function _fnLengthOverflow ( settings )
	{
		var
			start = settings._iDisplayStart,
			end = settings.fnDisplayEnd(),
			len = settings._iDisplayLength;
	
		/* If we have space to show extra rows (backing up from the end point - then do so */
		if ( end === settings.fnRecordsDisplay() )
		{
			start = end - len;
		}
	
		if ( len === -1 || start < 0 )
		{
			start = 0;
		}
	
		settings._iDisplayStart = start;
	}
	
	
	function _fnRenderer( settings, type )
	{
		var renderer = settings.renderer;
		var host = DataTable.ext.renderer[type];
	
		if ( $.isPlainObject( renderer ) && renderer[type] ) {
			// Specific renderer for this type. If available use it, otherwise use
			// the default.
			return host[renderer[type]] || host._;
		}
		else if ( typeof renderer === 'string' ) {
			// Common renderer - if there is one available for this type use it,
			// otherwise use the default
			return host[renderer] || host._;
		}
	
		// Use the default
		return host._;
	}
	
	
	/**
	 * Detect the data source being used for the table. Used to simplify the code
	 * a little (ajax) and to make it compress a little smaller.
	 *
	 *  @param {object} settings dataTables settings object
	 *  @returns {string} Data source
	 *  @memberof DataTable#oApi
	 */
	function _fnDataSource ( settings )
	{
		if ( settings.oFeatures.bServerSide ) {
			return 'ssp';
		}
		else if ( settings.ajax || settings.sAjaxSource ) {
			return 'ajax';
		}
		return 'dom';
	}
	

	DataTable = function( options )
	{
		/**
		 * Perform a jQuery selector action on the table's TR elements (from the tbody) and
		 * return the resulting jQuery object.
		 *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on
		 *  @param {object} [oOpts] Optional parameters for modifying the rows to be included
		 *  @param {string} [oOpts.filter=none] Select TR elements that meet the current filter
		 *    criterion ("applied") or all TR elements (i.e. no filter).
		 *  @param {string} [oOpts.order=current] Order of the TR elements in the processed array.
		 *    Can be either 'current', whereby the current sorting of the table is used, or
		 *    'original' whereby the original order the data was read into the table is used.
		 *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page
		 *    ("current") or not ("all"). If 'current' is given, then order is assumed to be
		 *    'current' and filter is 'applied', regardless of what they might be given as.
		 *  @returns {object} jQuery object, filtered by the given selector.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Highlight every second row
		 *      oTable.$('tr:odd').css('backgroundColor', 'blue');
		 *    } );
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Filter to rows with 'Webkit' in them, add a background colour and then
		 *      // remove the filter, thus highlighting the 'Webkit' rows only.
		 *      oTable.fnFilter('Webkit');
		 *      oTable.$('tr', {"search": "applied"}).css('backgroundColor', 'blue');
		 *      oTable.fnFilter('');
		 *    } );
		 */
		this.$ = function ( sSelector, oOpts )
		{
			return this.api(true).$( sSelector, oOpts );
		};
		
		
		/**
		 * Almost identical to $ in operation, but in this case returns the data for the matched
		 * rows - as such, the jQuery selector used should match TR row nodes or TD/TH cell nodes
		 * rather than any descendants, so the data can be obtained for the row/cell. If matching
		 * rows are found, the data returned is the original data array/object that was used to
		 * create the row (or a generated array if from a DOM source).
		 *
		 * This method is often useful in-combination with $ where both functions are given the
		 * same parameters and the array indexes will match identically.
		 *  @param {string|node|jQuery} sSelector jQuery selector or node collection to act on
		 *  @param {object} [oOpts] Optional parameters for modifying the rows to be included
		 *  @param {string} [oOpts.filter=none] Select elements that meet the current filter
		 *    criterion ("applied") or all elements (i.e. no filter).
		 *  @param {string} [oOpts.order=current] Order of the data in the processed array.
		 *    Can be either 'current', whereby the current sorting of the table is used, or
		 *    'original' whereby the original order the data was read into the table is used.
		 *  @param {string} [oOpts.page=all] Limit the selection to the currently displayed page
		 *    ("current") or not ("all"). If 'current' is given, then order is assumed to be
		 *    'current' and filter is 'applied', regardless of what they might be given as.
		 *  @returns {array} Data for the matched elements. If any elements, as a result of the
		 *    selector, were not TR, TD or TH elements in the DataTable, they will have a null
		 *    entry in the array.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Get the data from the first row in the table
		 *      var data = oTable._('tr:first');
		 *
		 *      // Do something useful with the data
		 *      alert( "First cell is: "+data[0] );
		 *    } );
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Filter to 'Webkit' and get all data for
		 *      oTable.fnFilter('Webkit');
		 *      var data = oTable._('tr', {"search": "applied"});
		 *
		 *      // Do something with the data
		 *      alert( data.length+" rows matched the search" );
		 *    } );
		 */
		this._ = function ( sSelector, oOpts )
		{
			return this.api(true).rows( sSelector, oOpts ).data();
		};
		
		
		/**
		 * Create a DataTables Api instance, with the currently selected tables for
		 * the Api's context.
		 * @param {boolean} [traditional=false] Set the API instance's context to be
		 *   only the table referred to by the `DataTable.ext.iApiIndex` option, as was
		 *   used in the API presented by DataTables 1.9- (i.e. the traditional mode),
		 *   or if all tables captured in the jQuery object should be used.
		 * @return {DataTables.Api}
		 */
		this.api = function ( traditional )
		{
			return traditional ?
				new _Api(
					_fnSettingsFromNode( this[ _ext.iApiIndex ] )
				) :
				new _Api( this );
		};
		
		
		/**
		 * Add a single new row or multiple rows of data to the table. Please note
		 * that this is suitable for client-side processing only - if you are using
		 * server-side processing (i.e. "bServerSide": true), then to add data, you
		 * must add it to the data source, i.e. the server-side, through an Ajax call.
		 *  @param {array|object} data The data to be added to the table. This can be:
		 *    <ul>
		 *      <li>1D array of data - add a single row with the data provided</li>
		 *      <li>2D array of arrays - add multiple rows in a single call</li>
		 *      <li>object - data object when using <i>mData</i></li>
		 *      <li>array of objects - multiple data objects when using <i>mData</i></li>
		 *    </ul>
		 *  @param {bool} [redraw=true] redraw the table or not
		 *  @returns {array} An array of integers, representing the list of indexes in
		 *    <i>aoData</i> ({@link DataTable.models.oSettings}) that have been added to
		 *    the table.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    // Global var for counter
		 *    var giCount = 2;
		 *
		 *    $(document).ready(function() {
		 *      $('#example').dataTable();
		 *    } );
		 *
		 *    function fnClickAddRow() {
		 *      $('#example').dataTable().fnAddData( [
		 *        giCount+".1",
		 *        giCount+".2",
		 *        giCount+".3",
		 *        giCount+".4" ]
		 *      );
		 *
		 *      giCount++;
		 *    }
		 */
		this.fnAddData = function( data, redraw )
		{
			var api = this.api( true );
		
			/* Check if we want to add multiple rows or not */
			var rows = $.isArray(data) && ( $.isArray(data[0]) || $.isPlainObject(data[0]) ) ?
				api.rows.add( data ) :
				api.row.add( data );
		
			if ( redraw === undefined || redraw ) {
				api.draw();
			}
		
			return rows.flatten().toArray();
		};
		
		
		/**
		 * This function will make DataTables recalculate the column sizes, based on the data
		 * contained in the table and the sizes applied to the columns (in the DOM, CSS or
		 * through the sWidth parameter). This can be useful when the width of the table's
		 * parent element changes (for example a window resize).
		 *  @param {boolean} [bRedraw=true] Redraw the table or not, you will typically want to
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable( {
		 *        "sScrollY": "200px",
		 *        "bPaginate": false
		 *      } );
		 *
		 *      $(window).bind('resize', function () {
		 *        oTable.fnAdjustColumnSizing();
		 *      } );
		 *    } );
		 */
		this.fnAdjustColumnSizing = function ( bRedraw )
		{
			var api = this.api( true ).columns.adjust();
			var settings = api.settings()[0];
			var scroll = settings.oScroll;
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw( false );
			}
			else if ( scroll.sX !== "" || scroll.sY !== "" ) {
				/* If not redrawing, but scrolling, we want to apply the new column sizes anyway */
				_fnScrollDraw( settings );
			}
		};
		
		
		/**
		 * Quickly and simply clear a table
		 *  @param {bool} [bRedraw=true] redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Immediately 'nuke' the current rows (perhaps waiting for an Ajax callback...)
		 *      oTable.fnClearTable();
		 *    } );
		 */
		this.fnClearTable = function( bRedraw )
		{
			var api = this.api( true ).clear();
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
		};
		
		
		/**
		 * The exact opposite of 'opening' a row, this function will close any rows which
		 * are currently 'open'.
		 *  @param {node} nTr the table row to 'close'
		 *  @returns {int} 0 on success, or 1 if failed (can't find the row)
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnClose = function( nTr )
		{
			this.api( true ).row( nTr ).child.hide();
		};
		
		
		/**
		 * Remove a row for the table
		 *  @param {mixed} target The index of the row from aoData to be deleted, or
		 *    the TR element you want to delete
		 *  @param {function|null} [callBack] Callback function
		 *  @param {bool} [redraw=true] Redraw the table or not
		 *  @returns {array} The row that was deleted
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Immediately remove the first row
		 *      oTable.fnDeleteRow( 0 );
		 *    } );
		 */
		this.fnDeleteRow = function( target, callback, redraw )
		{
			var api = this.api( true );
			var rows = api.rows( target );
			var settings = rows.settings()[0];
			var data = settings.aoData[ rows[0][0] ];
		
			rows.remove();
		
			if ( callback ) {
				callback.call( this, settings, data );
			}
		
			if ( redraw === undefined || redraw ) {
				api.draw();
			}
		
			return data;
		};
		
		
		/**
		 * Restore the table to it's original state in the DOM by removing all of DataTables
		 * enhancements, alterations to the DOM structure of the table and event listeners.
		 *  @param {boolean} [remove=false] Completely remove the table from the DOM
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      // This example is fairly pointless in reality, but shows how fnDestroy can be used
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnDestroy();
		 *    } );
		 */
		this.fnDestroy = function ( remove )
		{
			this.api( true ).destroy( remove );
		};
		
		
		/**
		 * Redraw the table
		 *  @param {bool} [complete=true] Re-filter and resort (if enabled) the table before the draw.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Re-draw the table - you wouldn't want to do it here, but it's an example :-)
		 *      oTable.fnDraw();
		 *    } );
		 */
		this.fnDraw = function( complete )
		{
			// Note that this isn't an exact match to the old call to _fnDraw - it takes
			// into account the new data, but can old position.
			this.api( true ).draw( ! complete );
		};
		
		
		/**
		 * Filter the input based on data
		 *  @param {string} sInput String to filter the table on
		 *  @param {int|null} [iColumn] Column to limit filtering to
		 *  @param {bool} [bRegex=false] Treat as regular expression or not
		 *  @param {bool} [bSmart=true] Perform smart filtering or not
		 *  @param {bool} [bShowGlobal=true] Show the input global filter in it's input box(es)
		 *  @param {bool} [bCaseInsensitive=true] Do case-insensitive matching (true) or not (false)
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sometime later - filter...
		 *      oTable.fnFilter( 'test string' );
		 *    } );
		 */
		this.fnFilter = function( sInput, iColumn, bRegex, bSmart, bShowGlobal, bCaseInsensitive )
		{
			var api = this.api( true );
		
			if ( iColumn === null || iColumn === undefined ) {
				api.search( sInput, bRegex, bSmart, bCaseInsensitive );
			}
			else {
				api.column( iColumn ).search( sInput, bRegex, bSmart, bCaseInsensitive );
			}
		
			api.draw();
		};
		
		
		/**
		 * Get the data for the whole table, an individual row or an individual cell based on the
		 * provided parameters.
		 *  @param {int|node} [src] A TR row node, TD/TH cell node or an integer. If given as
		 *    a TR node then the data source for the whole row will be returned. If given as a
		 *    TD/TH cell node then iCol will be automatically calculated and the data for the
		 *    cell returned. If given as an integer, then this is treated as the aoData internal
		 *    data index for the row (see fnGetPosition) and the data for that row used.
		 *  @param {int} [col] Optional column index that you want the data of.
		 *  @returns {array|object|string} If mRow is undefined, then the data for all rows is
		 *    returned. If mRow is defined, just data for that row, and is iCol is
		 *    defined, only data for the designated cell is returned.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    // Row data
		 *    $(document).ready(function() {
		 *      oTable = $('#example').dataTable();
		 *
		 *      oTable.$('tr').click( function () {
		 *        var data = oTable.fnGetData( this );
		 *        // ... do something with the array / object of data for the row
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Individual cell data
		 *    $(document).ready(function() {
		 *      oTable = $('#example').dataTable();
		 *
		 *      oTable.$('td').click( function () {
		 *        var sData = oTable.fnGetData( this );
		 *        alert( 'The cell clicked on had the value of '+sData );
		 *      } );
		 *    } );
		 */
		this.fnGetData = function( src, col )
		{
			var api = this.api( true );
		
			if ( src !== undefined ) {
				var type = src.nodeName ? src.nodeName.toLowerCase() : '';
		
				return col !== undefined || type == 'td' || type == 'th' ?
					api.cell( src, col ).data() :
					api.row( src ).data() || null;
			}
		
			return api.data().toArray();
		};
		
		
		/**
		 * Get an array of the TR nodes that are used in the table's body. Note that you will
		 * typically want to use the '$' API method in preference to this as it is more
		 * flexible.
		 *  @param {int} [iRow] Optional row index for the TR element you want
		 *  @returns {array|node} If iRow is undefined, returns an array of all TR elements
		 *    in the table's body, or iRow is defined, just the TR element requested.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Get the nodes from the table
		 *      var nNodes = oTable.fnGetNodes( );
		 *    } );
		 */
		this.fnGetNodes = function( iRow )
		{
			var api = this.api( true );
		
			return iRow !== undefined ?
				api.row( iRow ).node() :
				api.rows().nodes().flatten().toArray();
		};
		
		
		/**
		 * Get the array indexes of a particular cell from it's DOM element
		 * and column index including hidden columns
		 *  @param {node} node this can either be a TR, TD or TH in the table's body
		 *  @returns {int} If nNode is given as a TR, then a single index is returned, or
		 *    if given as a cell, an array of [row index, column index (visible),
		 *    column index (all)] is given.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      $('#example tbody td').click( function () {
		 *        // Get the position of the current data from the node
		 *        var aPos = oTable.fnGetPosition( this );
		 *
		 *        // Get the data array for this row
		 *        var aData = oTable.fnGetData( aPos[0] );
		 *
		 *        // Update the data array and return the value
		 *        aData[ aPos[1] ] = 'clicked';
		 *        this.innerHTML = 'clicked';
		 *      } );
		 *
		 *      // Init DataTables
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnGetPosition = function( node )
		{
			var api = this.api( true );
			var nodeName = node.nodeName.toUpperCase();
		
			if ( nodeName == 'TR' ) {
				return api.row( node ).index();
			}
			else if ( nodeName == 'TD' || nodeName == 'TH' ) {
				var cell = api.cell( node ).index();
		
				return [
					cell.row,
					cell.columnVisible,
					cell.column
				];
			}
			return null;
		};
		
		
		/**
		 * Check to see if a row is 'open' or not.
		 *  @param {node} nTr the table row to check
		 *  @returns {boolean} true if the row is currently open, false otherwise
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnIsOpen = function( nTr )
		{
			return this.api( true ).row( nTr ).child.isShown();
		};
		
		
		/**
		 * This function will place a new row directly after a row which is currently
		 * on display on the page, with the HTML contents that is passed into the
		 * function. This can be used, for example, to ask for confirmation that a
		 * particular record should be deleted.
		 *  @param {node} nTr The table row to 'open'
		 *  @param {string|node|jQuery} mHtml The HTML to put into the row
		 *  @param {string} sClass Class to give the new TD cell
		 *  @returns {node} The row opened. Note that if the table row passed in as the
		 *    first parameter, is not found in the table, this method will silently
		 *    return.
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable;
		 *
		 *      // 'open' an information row when a row is clicked on
		 *      $('#example tbody tr').click( function () {
		 *        if ( oTable.fnIsOpen(this) ) {
		 *          oTable.fnClose( this );
		 *        } else {
		 *          oTable.fnOpen( this, "Temporary row opened", "info_row" );
		 *        }
		 *      } );
		 *
		 *      oTable = $('#example').dataTable();
		 *    } );
		 */
		this.fnOpen = function( nTr, mHtml, sClass )
		{
			return this.api( true )
				.row( nTr )
				.child( mHtml, sClass )
				.show()
				.child()[0];
		};
		
		
		/**
		 * Change the pagination - provides the internal logic for pagination in a simple API
		 * function. With this function you can have a DataTables table go to the next,
		 * previous, first or last pages.
		 *  @param {string|int} mAction Paging action to take: "first", "previous", "next" or "last"
		 *    or page number to jump to (integer), note that page 0 is the first page.
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnPageChange( 'next' );
		 *    } );
		 */
		this.fnPageChange = function ( mAction, bRedraw )
		{
			var api = this.api( true ).page( mAction );
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw(false);
			}
		};
		
		
		/**
		 * Show a particular column
		 *  @param {int} iCol The column whose display should be changed
		 *  @param {bool} bShow Show (true) or hide (false) the column
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Hide the second column after initialisation
		 *      oTable.fnSetColumnVis( 1, false );
		 *    } );
		 */
		this.fnSetColumnVis = function ( iCol, bShow, bRedraw )
		{
			var api = this.api( true ).column( iCol ).visible( bShow );
		
			if ( bRedraw === undefined || bRedraw ) {
				api.columns.adjust().draw();
			}
		};
		
		
		/**
		 * Get the settings for a particular table for external manipulation
		 *  @returns {object} DataTables settings object. See
		 *    {@link DataTable.models.oSettings}
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      var oSettings = oTable.fnSettings();
		 *
		 *      // Show an example parameter from the settings
		 *      alert( oSettings._iDisplayStart );
		 *    } );
		 */
		this.fnSettings = function()
		{
			return _fnSettingsFromNode( this[_ext.iApiIndex] );
		};
		
		
		/**
		 * Sort the table by a particular column
		 *  @param {int} iCol the data index to sort on. Note that this will not match the
		 *    'display index' if you have hidden data entries
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sort immediately with columns 0 and 1
		 *      oTable.fnSort( [ [0,'asc'], [1,'asc'] ] );
		 *    } );
		 */
		this.fnSort = function( aaSort )
		{
			this.api( true ).order( aaSort ).draw();
		};
		
		
		/**
		 * Attach a sort listener to an element for a given column
		 *  @param {node} nNode the element to attach the sort listener to
		 *  @param {int} iColumn the column that a click on this node will sort on
		 *  @param {function} [fnCallback] callback function when sort is run
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *
		 *      // Sort on column 1, when 'sorter' is clicked on
		 *      oTable.fnSortListener( document.getElementById('sorter'), 1 );
		 *    } );
		 */
		this.fnSortListener = function( nNode, iColumn, fnCallback )
		{
			this.api( true ).order.listener( nNode, iColumn, fnCallback );
		};
		
		
		/**
		 * Update a table cell or row - this method will accept either a single value to
		 * update the cell with, an array of values with one element for each column or
		 * an object in the same format as the original data source. The function is
		 * self-referencing in order to make the multi column updates easier.
		 *  @param {object|array|string} mData Data to update the cell/row with
		 *  @param {node|int} mRow TR element you want to update or the aoData index
		 *  @param {int} [iColumn] The column to update, give as null or undefined to
		 *    update a whole row.
		 *  @param {bool} [bRedraw=true] Redraw the table or not
		 *  @param {bool} [bAction=true] Perform pre-draw actions or not
		 *  @returns {int} 0 on success, 1 on error
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      oTable.fnUpdate( 'Example update', 0, 0 ); // Single cell
		 *      oTable.fnUpdate( ['a', 'b', 'c', 'd', 'e'], $('tbody tr')[0] ); // Row
		 *    } );
		 */
		this.fnUpdate = function( mData, mRow, iColumn, bRedraw, bAction )
		{
			var api = this.api( true );
		
			if ( iColumn === undefined || iColumn === null ) {
				api.row( mRow ).data( mData );
			}
			else {
				api.cell( mRow, iColumn ).data( mData );
			}
		
			if ( bAction === undefined || bAction ) {
				api.columns.adjust();
			}
		
			if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
			return 0;
		};
		
		
		/**
		 * Provide a common method for plug-ins to check the version of DataTables being used, in order
		 * to ensure compatibility.
		 *  @param {string} sVersion Version string to check for, in the format "X.Y.Z". Note that the
		 *    formats "X" and "X.Y" are also acceptable.
		 *  @returns {boolean} true if this version of DataTables is greater or equal to the required
		 *    version, or false if this version of DataTales is not suitable
		 *  @method
		 *  @dtopt API
		 *  @deprecated Since v1.10
		 *
		 *  @example
		 *    $(document).ready(function() {
		 *      var oTable = $('#example').dataTable();
		 *      alert( oTable.fnVersionCheck( '1.9.0' ) );
		 *    } );
		 */
		this.fnVersionCheck = _ext.fnVersionCheck;
		

		var _that = this;
		var emptyInit = options === undefined;
		var len = this.length;

		if ( emptyInit ) {
			options = {};
		}

		this.oApi = this.internal = _ext.internal;

		// Extend with old style plug-in API methods
		for ( var fn in DataTable.ext.internal ) {
			if ( fn ) {
				this[fn] = _fnExternApiFunc(fn);
			}
		}

		this.each(function() {
			// For each initialisation we want to give it a clean initialisation
			// object that can be bashed around
			var o = {};
			var oInit = len > 1 ? // optimisation for single table case
				_fnExtend( o, options, true ) :
				options;

			/*global oInit,_that,emptyInit*/
			var i=0, iLen, j, jLen, k, kLen;
			var sId = this.getAttribute( 'id' );
			var bInitHandedOff = false;
			var defaults = DataTable.defaults;
			
			
			/* Sanity check */
			if ( this.nodeName.toLowerCase() != 'table' )
			{
				_fnLog( null, 0, 'Non-table node initialisation ('+this.nodeName+')', 2 );
				return;
			}
			
			/* Backwards compatibility for the defaults */
			_fnCompatOpts( defaults );
			_fnCompatCols( defaults.column );
			
			/* Convert the camel-case defaults to Hungarian */
			_fnCamelToHungarian( defaults, defaults, true );
			_fnCamelToHungarian( defaults.column, defaults.column, true );
			
			/* Setting up the initialisation object */
			_fnCamelToHungarian( defaults, oInit );
			
			/* Check to see if we are re-initialising a table */
			var allSettings = DataTable.settings;
			for ( i=0, iLen=allSettings.length ; i<iLen ; i++ )
			{
				/* Base check on table node */
				if ( allSettings[i].nTable == this )
				{
					var bRetrieve = oInit.bRetrieve !== undefined ? oInit.bRetrieve : defaults.bRetrieve;
					var bDestroy = oInit.bDestroy !== undefined ? oInit.bDestroy : defaults.bDestroy;
			
					if ( emptyInit || bRetrieve )
					{
						return allSettings[i].oInstance;
					}
					else if ( bDestroy )
					{
						allSettings[i].oInstance.fnDestroy();
						break;
					}
					else
					{
						_fnLog( allSettings[i], 0, 'Cannot reinitialise DataTable', 3 );
						return;
					}
				}
			
				/* If the element we are initialising has the same ID as a table which was previously
				 * initialised, but the table nodes don't match (from before) then we destroy the old
				 * instance by simply deleting it. This is under the assumption that the table has been
				 * destroyed by other methods. Anyone using non-id selectors will need to do this manually
				 */
				if ( allSettings[i].sTableId == this.id )
				{
					allSettings.splice( i, 1 );
					break;
				}
			}
			
			/* Ensure the table has an ID - required for accessibility */
			if ( sId === null || sId === "" )
			{
				sId = "DataTables_Table_"+(DataTable.ext._unique++);
				this.id = sId;
			}
			
			/* Create the settings object for this table and set some of the default parameters */
			var oSettings = $.extend( true, {}, DataTable.models.oSettings, {
				"nTable":        this,
				"oApi":          _that.internal,
				"oInit":         oInit,
				"sDestroyWidth": $(this)[0].style.width,
				"sInstance":     sId,
				"sTableId":      sId
			} );
			allSettings.push( oSettings );
			
			// Need to add the instance after the instance after the settings object has been added
			// to the settings array, so we can self reference the table instance if more than one
			oSettings.oInstance = (_that.length===1) ? _that : $(this).dataTable();
			
			// Backwards compatibility, before we apply all the defaults
			_fnCompatOpts( oInit );
			
			if ( oInit.oLanguage )
			{
				_fnLanguageCompat( oInit.oLanguage );
			}
			
			// If the length menu is given, but the init display length is not, use the length menu
			if ( oInit.aLengthMenu && ! oInit.iDisplayLength )
			{
				oInit.iDisplayLength = $.isArray( oInit.aLengthMenu[0] ) ?
					oInit.aLengthMenu[0][0] : oInit.aLengthMenu[0];
			}
			
			// Apply the defaults and init options to make a single init object will all
			// options defined from defaults and instance options.
			oInit = _fnExtend( $.extend( true, {}, defaults ), oInit );
			
			
			// Map the initialisation options onto the settings object
			_fnMap( oSettings.oFeatures, oInit, [
				"bPaginate",
				"bLengthChange",
				"bFilter",
				"bSort",
				"bSortMulti",
				"bInfo",
				"bProcessing",
				"bAutoWidth",
				"bSortClasses",
				"bServerSide",
				"bDeferRender"
			] );
			_fnMap( oSettings, oInit, [
				"asStripeClasses",
				"ajax",
				"fnServerData",
				"fnFormatNumber",
				"sServerMethod",
				"aaSorting",
				"aaSortingFixed",
				"aLengthMenu",
				"sPaginationType",
				"sAjaxSource",
				"sAjaxDataProp",
				"iStateDuration",
				"sDom",
				"bSortCellsTop",
				"iTabIndex",
				"fnStateLoadCallback",
				"fnStateSaveCallback",
				"renderer",
				[ "iCookieDuration", "iStateDuration" ], // backwards compat
				[ "oSearch", "oPreviousSearch" ],
				[ "aoSearchCols", "aoPreSearchCols" ],
				[ "iDisplayLength", "_iDisplayLength" ],
				[ "bJQueryUI", "bJUI" ]
			] );
			_fnMap( oSettings.oScroll, oInit, [
				[ "sScrollX", "sX" ],
				[ "sScrollXInner", "sXInner" ],
				[ "sScrollY", "sY" ],
				[ "bScrollCollapse", "bCollapse" ]
			] );
			_fnMap( oSettings.oLanguage, oInit, "fnInfoCallback" );
			
			/* Callback functions which are array driven */
			_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback,      'user' );
			_fnCallbackReg( oSettings, 'aoServerParams',       oInit.fnServerParams,      'user' );
			_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow,        'user' );
			_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete,      'user' );
			_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback,   'user' );
			
			var oClasses = oSettings.oClasses;
			
			// @todo Remove in 1.11
			if ( oInit.bJQueryUI )
			{
				/* Use the JUI classes object for display. You could clone the oStdClasses object if
				 * you want to have multiple tables with multiple independent classes
				 */
				$.extend( oClasses, DataTable.ext.oJUIClasses, oInit.oClasses );
			
				if ( oInit.sDom === defaults.sDom && defaults.sDom === "lfrtip" )
				{
					/* Set the DOM to use a layout suitable for jQuery UI's theming */
					oSettings.sDom = '<"H"lfr>t<"F"ip>';
				}
			
				if ( ! oSettings.renderer ) {
					oSettings.renderer = 'jqueryui';
				}
				else if ( $.isPlainObject( oSettings.renderer ) && ! oSettings.renderer.header ) {
					oSettings.renderer.header = 'jqueryui';
				}
			}
			else
			{
				$.extend( oClasses, DataTable.ext.classes, oInit.oClasses );
			}
			$(this).addClass( oClasses.sTable );
			
			/* Calculate the scroll bar width and cache it for use later on */
			if ( oSettings.oScroll.sX !== "" || oSettings.oScroll.sY !== "" )
			{
				oSettings.oScroll.iBarWidth = _fnScrollBarWidth();
			}
			if ( oSettings.oScroll.sX === true ) { // Easy initialisation of x-scrolling
				oSettings.oScroll.sX = '100%';
			}
			
			if ( oSettings.iInitDisplayStart === undefined )
			{
				/* Display start point, taking into account the save saving */
				oSettings.iInitDisplayStart = oInit.iDisplayStart;
				oSettings._iDisplayStart = oInit.iDisplayStart;
			}
			
			if ( oInit.iDeferLoading !== null )
			{
				oSettings.bDeferLoading = true;
				var tmp = $.isArray( oInit.iDeferLoading );
				oSettings._iRecordsDisplay = tmp ? oInit.iDeferLoading[0] : oInit.iDeferLoading;
				oSettings._iRecordsTotal = tmp ? oInit.iDeferLoading[1] : oInit.iDeferLoading;
			}
			
			/* Language definitions */
			if ( oInit.oLanguage.sUrl !== "" )
			{
				/* Get the language definitions from a file - because this Ajax call makes the language
				 * get async to the remainder of this function we use bInitHandedOff to indicate that
				 * _fnInitialise will be fired by the returned Ajax handler, rather than the constructor
				 */
				oSettings.oLanguage.sUrl = oInit.oLanguage.sUrl;
				$.getJSON( oSettings.oLanguage.sUrl, null, function( json ) {
					_fnLanguageCompat( json );
					_fnCamelToHungarian( defaults.oLanguage, json );
					$.extend( true, oSettings.oLanguage, oInit.oLanguage, json );
					_fnInitialise( oSettings );
				} );
				bInitHandedOff = true;
			}
			else
			{
				$.extend( true, oSettings.oLanguage, oInit.oLanguage );
			}
			
			
			/*
			 * Stripes
			 */
			if ( oInit.asStripeClasses === null )
			{
				oSettings.asStripeClasses =[
					oClasses.sStripeOdd,
					oClasses.sStripeEven
				];
			}
			
			/* Remove row stripe classes if they are already on the table row */
			var stripeClasses = oSettings.asStripeClasses;
			var rowOne = $('tbody tr:eq(0)', this);
			if ( $.inArray( true, $.map( stripeClasses, function(el, i) {
				return rowOne.hasClass(el);
			} ) ) !== -1 ) {
				$('tbody tr', this).removeClass( stripeClasses.join(' ') );
				oSettings.asDestroyStripes = stripeClasses.slice();
			}
			
			/*
			 * Columns
			 * See if we should load columns automatically or use defined ones
			 */
			var anThs = [];
			var aoColumnsInit;
			var nThead = this.getElementsByTagName('thead');
			if ( nThead.length !== 0 )
			{
				_fnDetectHeader( oSettings.aoHeader, nThead[0] );
				anThs = _fnGetUniqueThs( oSettings );
			}
			
			/* If not given a column array, generate one with nulls */
			if ( oInit.aoColumns === null )
			{
				aoColumnsInit = [];
				for ( i=0, iLen=anThs.length ; i<iLen ; i++ )
				{
					aoColumnsInit.push( null );
				}
			}
			else
			{
				aoColumnsInit = oInit.aoColumns;
			}
			
			/* Add the columns */
			for ( i=0, iLen=aoColumnsInit.length ; i<iLen ; i++ )
			{
				_fnAddColumn( oSettings, anThs ? anThs[i] : null );
			}
			
			/* Apply the column definitions */
			_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, aoColumnsInit, function (iCol, oDef) {
				_fnColumnOptions( oSettings, iCol, oDef );
			} );
			
			/* HTML5 attribute detection - build an mData object automatically if the
			 * attributes are found
			 */
			if ( rowOne.length ) {
				var a = function ( cell, name ) {
					return cell.getAttribute( 'data-'+name ) ? name : null;
				};
			
				$.each( _fnGetRowElements( oSettings, rowOne[0] ).cells, function (i, cell) {
					var col = oSettings.aoColumns[i];
			
					if ( col.mData === i ) {
						var sort = a( cell, 'sort' ) || a( cell, 'order' );
						var filter = a( cell, 'filter' ) || a( cell, 'search' );
			
						if ( sort !== null || filter !== null ) {
							col.mData = {
								_:      i+'.display',
								sort:   sort !== null   ? i+'.@data-'+sort   : undefined,
								type:   sort !== null   ? i+'.@data-'+sort   : undefined,
								filter: filter !== null ? i+'.@data-'+filter : undefined
							};
			
							_fnColumnOptions( oSettings, i );
						}
					}
				} );
			}
			
			var features = oSettings.oFeatures;
			
			/* Must be done after everything which can be overridden by the state saving! */
			if ( oInit.bStateSave )
			{
				features.bStateSave = true;
				_fnLoadState( oSettings, oInit );
				_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState, 'state_save' );
			}
			
			
			/*
			 * Sorting
			 * @todo For modularisation (1.11) this needs to do into a sort start up handler
			 */
			
			// If aaSorting is not defined, then we use the first indicator in asSorting
			// in case that has been altered, so the default sort reflects that option
			if ( oInit.aaSorting === undefined )
			{
				var sorting = oSettings.aaSorting;
				for ( i=0, iLen=sorting.length ; i<iLen ; i++ )
				{
					sorting[i][1] = oSettings.aoColumns[ i ].asSorting[0];
				}
			}
			
			/* Do a first pass on the sorting classes (allows any size changes to be taken into
			 * account, and also will apply sorting disabled classes if disabled
			 */
			_fnSortingClasses( oSettings );
			
			if ( features.bSort )
			{
				_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
					if ( oSettings.bSorted ) {
						var aSort = _fnSortFlatten( oSettings );
						var sortedColumns = {};
			
						$.each( aSort, function (i, val) {
							sortedColumns[ val.src ] = val.dir;
						} );
			
						_fnCallbackFire( oSettings, null, 'order', [oSettings, aSort, sortedColumns] );
						_fnSortAria( oSettings );
					}
				} );
			}
			
			_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
				if ( oSettings.bSorted || _fnDataSource( oSettings ) === 'ssp' || features.bDeferRender ) {
					_fnSortingClasses( oSettings );
				}
			}, 'sc' );
			
			
			/*
			 * Final init
			 * Cache the header, body and footer as required, creating them if needed
			 */
			
			/* Browser support detection */
			_fnBrowserDetect( oSettings );
			
			// Work around for Webkit bug 83867 - store the caption-side before removing from doc
			var captions = $(this).children('caption').each( function () {
				this._captionSide = $(this).css('caption-side');
			} );
			
			var thead = $(this).children('thead');
			if ( thead.length === 0 )
			{
				thead = $('<thead/>').appendTo(this);
			}
			oSettings.nTHead = thead[0];
			
			var tbody = $(this).children('tbody');
			if ( tbody.length === 0 )
			{
				tbody = $('<tbody/>').appendTo(this);
			}
			oSettings.nTBody = tbody[0];
			
			var tfoot = $(this).children('tfoot');
			if ( tfoot.length === 0 && captions.length > 0 && (oSettings.oScroll.sX !== "" || oSettings.oScroll.sY !== "") )
			{
				// If we are a scrolling table, and no footer has been given, then we need to create
				// a tfoot element for the caption element to be appended to
				tfoot = $('<tfoot/>').appendTo(this);
			}
			
			if ( tfoot.length === 0 || tfoot.children().length === 0 ) {
				$(this).addClass( oClasses.sNoFooter );
			}
			else if ( tfoot.length > 0 ) {
				oSettings.nTFoot = tfoot[0];
				_fnDetectHeader( oSettings.aoFooter, oSettings.nTFoot );
			}
			
			/* Check if there is data passing into the constructor */
			if ( oInit.aaData )
			{
				for ( i=0 ; i<oInit.aaData.length ; i++ )
				{
					_fnAddData( oSettings, oInit.aaData[ i ] );
				}
			}
			else if ( oSettings.bDeferLoading || _fnDataSource( oSettings ) == 'dom' )
			{
				/* Grab the data from the page - only do this when deferred loading or no Ajax
				 * source since there is no point in reading the DOM data if we are then going
				 * to replace it with Ajax data
				 */
				_fnAddTr( oSettings, $(oSettings.nTBody).children('tr') );
			}
			
			/* Copy the data index array */
			oSettings.aiDisplay = oSettings.aiDisplayMaster.slice();
			
			/* Initialisation complete - table can be drawn */
			oSettings.bInitialised = true;
			
			/* Check if we need to initialise the table (it might not have been handed off to the
			 * language processor)
			 */
			if ( bInitHandedOff === false )
			{
				_fnInitialise( oSettings );
			}
		} );
		_that = null;
		return this;
	};

	
	
	/**
	 * Computed structure of the DataTables API, defined by the options passed to
	 * `DataTable.Api.register()` when building the API.
	 *
	 * The structure is built in order to speed creation and extension of the Api
	 * objects since the extensions are effectively pre-parsed.
	 *
	 * The array is an array of objects with the following structure, where this
	 * base array represents the Api prototype base:
	 *
	 *     [
	 *       {
	 *         name:      'data'                -- string   - Property name
	 *         val:       function () {},       -- function - Api method (or undefined if just an object
	 *         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result
	 *         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property
	 *       },
	 *       {
	 *         name:     'row'
	 *         val:       {},
	 *         methodExt: [ ... ],
	 *         propExt:   [
	 *           {
	 *             name:      'data'
	 *             val:       function () {},
	 *             methodExt: [ ... ],
	 *             propExt:   [ ... ]
	 *           },
	 *           ...
	 *         ]
	 *       }
	 *     ]
	 *
	 * @type {Array}
	 * @ignore
	 */
	var __apiStruct = [];
	
	
	/**
	 * `Array.prototype` reference.
	 *
	 * @type object
	 * @ignore
	 */
	var __arrayProto = Array.prototype;
	
	
	/**
	 * Abstraction for `context` parameter of the `Api` constructor to allow it to
	 * take several different forms for ease of use.
	 *
	 * Each of the input parameter types will be converted to a DataTables settings
	 * object where possible.
	 *
	 * @param  {string|node|jQuery|object} mixed DataTable identifier. Can be one
	 *   of:
	 *
	 *   * `string` - jQuery selector. Any DataTables' matching the given selector
	 *     with be found and used.
	 *   * `node` - `TABLE` node which has already been formed into a DataTable.
	 *   * `jQuery` - A jQuery object of `TABLE` nodes.
	 *   * `object` - DataTables settings object
	 *   * `DataTables.Api` - API instance
	 * @return {array|null} Matching DataTables settings objects. `null` or
	 *   `undefined` is returned if no matching DataTable is found.
	 * @ignore
	 */
	var _toSettings = function ( mixed )
	{
		var idx, jq;
		var settings = DataTable.settings;
		var tables = $.map( settings, function (el, i) {
			return el.nTable;
		} );
	
		if ( ! mixed ) {
			return [];
		}
		else if ( mixed.nTable && mixed.oApi ) {
			// DataTables settings object
			return [ mixed ];
		}
		else if ( mixed.nodeName && mixed.nodeName.toLowerCase() === 'table' ) {
			// Table node
			idx = $.inArray( mixed, tables );
			return idx !== -1 ? [ settings[idx] ] : null;
		}
		else if ( mixed && typeof mixed.settings === 'function' ) {
			return mixed.settings().toArray();
		}
		else if ( typeof mixed === 'string' ) {
			// jQuery selector
			jq = $(mixed);
		}
		else if ( mixed instanceof $ ) {
			// jQuery object (also DataTables instance)
			jq = mixed;
		}
	
		if ( jq ) {
			return jq.map( function(i) {
				idx = $.inArray( this, tables );
				return idx !== -1 ? settings[idx] : null;
			} ).toArray();
		}
	};
	
	
	/**
	 * DataTables API class - used to control and interface with  one or more
	 * DataTables enhanced tables.
	 *
	 * The API class is heavily based on jQuery, presenting a chainable interface
	 * that you can use to interact with tables. Each instance of the API class has
	 * a "context" - i.e. the tables that it will operate on. This could be a single
	 * table, all tables on a page or a sub-set thereof.
	 *
	 * Additionally the API is designed to allow you to easily work with the data in
	 * the tables, retrieving and manipulating it as required. This is done by
	 * presenting the API class as an array like interface. The contents of the
	 * array depend upon the actions requested by each method (for example
	 * `rows().nodes()` will return an array of nodes, while `rows().data()` will
	 * return an array of objects or arrays depending upon your table's
	 * configuration). The API object has a number of array like methods (`push`,
	 * `pop`, `reverse` etc) as well as additional helper methods (`each`, `pluck`,
	 * `unique` etc) to assist your working with the data held in a table.
	 *
	 * Most methods (those which return an Api instance) are chainable, which means
	 * the return from a method call also has all of the methods available that the
	 * top level object had. For example, these two calls are equivalent:
	 *
	 *     // Not chained
	 *     api.row.add( {...} );
	 *     api.draw();
	 *
	 *     // Chained
	 *     api.row.add( {...} ).draw();
	 *
	 * @class DataTable.Api
	 * @param {array|object|string|jQuery} context DataTable identifier. This is
	 *   used to define which DataTables enhanced tables this API will operate on.
	 *   Can be one of:
	 *
	 *   * `string` - jQuery selector. Any DataTables' matching the given selector
	 *     with be found and used.
	 *   * `node` - `TABLE` node which has already been formed into a DataTable.
	 *   * `jQuery` - A jQuery object of `TABLE` nodes.
	 *   * `object` - DataTables settings object
	 * @param {array} [data] Data to initialise the Api instance with.
	 *
	 * @example
	 *   // Direct initialisation during DataTables construction
	 *   var api = $('#example').DataTable();
	 *
	 * @example
	 *   // Initialisation using a DataTables jQuery object
	 *   var api = $('#example').dataTable().api();
	 *
	 * @example
	 *   // Initialisation as a constructor
	 *   var api = new $.fn.DataTable.Api( 'table.dataTable' );
	 */
	DataTable.Api = _Api = function ( context, data )
	{
		if ( ! this instanceof _Api ) {
			throw 'DT API must be constructed as a new object';
			// or should it do the 'new' for the caller?
			// return new _Api.apply( this, arguments );
		}
	
		var settings = [];
		var ctxSettings = function ( o ) {
			var a = _toSettings( o );
			if ( a ) {
				settings.push.apply( settings, a );
			}
		};
	
		if ( $.isArray( context ) ) {
			for ( var i=0, ien=context.length ; i<ien ; i++ ) {
				ctxSettings( context[i] );
			}
		}
		else {
			ctxSettings( context );
		}
	
		// Remove duplicates
		this.context = _unique( settings );
	
		// Initial data
		if ( data ) {
			this.push.apply( this, data.toArray ? data.toArray() : data );
		}
	
		// selector
		this.selector = {
			rows: null,
			cols: null,
			opts: null
		};
	
		_Api.extend( this, this, __apiStruct );
	};
	
	
	_Api.prototype = /** @lends DataTables.Api */{
		/**
		 * Return a new Api instance, comprised of the data held in the current
		 * instance, join with the other array(s) and/or value(s).
		 *
		 * An alias for `Array.prototype.concat`.
		 *
		 * @type method
		 * @param {*} value1 Arrays and/or values to concatenate.
		 * @param {*} [...] Additional arrays and/or values to concatenate.
		 * @returns {DataTables.Api} New API instance, comprising of the combined
		 *   array.
		 */
		concat:  __arrayProto.concat,
	
	
		context: [], // array of table settings objects
	
	
		each: function ( fn )
		{
			if ( __arrayProto.forEach ) {
				// Where possible, use the built-in forEach
				__arrayProto.forEach.call( this, fn, this );
			}
			else {
				// Compatibility for browsers without EMCA-252-5 (JS 1.6)
				for ( var i=0, ien=this.length ; i<ien; i++ ) {
					// In strict mode the execution scope is the passed value
					fn.call( this, this[i], i, this );
				}
			}
	
			return this;
		},
	
	
		eq: function ( idx )
		{
			var ctx = this.context;
	
			return ctx.length > idx ?
				new _Api( ctx[idx], this[idx] ) :
				null;
		},
	
	
		filter: function ( fn )
		{
			var a = [];
	
			if ( __arrayProto.filter ) {
				a = __arrayProto.filter.call( this, fn, this );
			}
			else {
				// Compatibility for browsers without EMCA-252-5 (JS 1.6)
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					if ( fn.call( this, this[i], i, this ) ) {
						a.push( this[i] );
					}
				}
			}
	
			return new _Api( this.context, a );
		},
	
	
		flatten: function ()
		{
			var a = [];
			return new _Api( this.context, a.concat.apply( a, this.toArray() ) );
		},
	
	
		join:    __arrayProto.join,
	
	
		indexOf: __arrayProto.indexOf || function (obj, start)
		{
			for ( var i=(start || 0), ien=this.length ; i<ien ; i++ ) {
				if ( this[i] === obj ) {
					return i;
				}
			}
			return -1;
		},
	
		// Internal only at the moment - relax?
		iterator: function ( flatten, type, fn ) {
			var
				a = [], ret,
				i, ien, j, jen,
				context = this.context,
				rows, items, item,
				selector = this.selector;
	
			// Argument shifting
			if ( typeof flatten === 'string' ) {
				fn = type;
				type = flatten;
				flatten = false;
			}
	
			for ( i=0, ien=context.length ; i<ien ; i++ ) {
				if ( type === 'table' ) {
					ret = fn( context[i], i );
	
					if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'columns' || type === 'rows' ) {
					// this has same length as context - one entry for each table
					ret = fn( context[i], this[i], i );
	
					if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'column' || type === 'column-rows' || type === 'row' || type === 'cell' ) {
					// columns and rows share the same structure.
					// 'this' is an array of column indexes for each context
					items = this[i];
	
					if ( type === 'column-rows' ) {
						rows = _selector_row_indexes( context[i], selector.opts );
					}
	
					for ( j=0, jen=items.length ; j<jen ; j++ ) {
						item = items[j];
	
						if ( type === 'cell' ) {
							ret = fn( context[i], item.row, item.column, i, j );
						}
						else {
							ret = fn( context[i], item, i, j, rows );
						}
	
						if ( ret !== undefined ) {
							a.push( ret );
						}
					}
				}
			}
	
			if ( a.length ) {
				var api = new _Api( context, flatten ? a.concat.apply( [], a ) : a );
				var apiSelector = api.selector;
				apiSelector.rows = selector.rows;
				apiSelector.cols = selector.cols;
				apiSelector.opts = selector.opts;
				return api;
			}
			return this;
		},
	
	
		lastIndexOf: __arrayProto.lastIndexOf || function (obj, start)
		{
			// Bit cheeky...
			return this.indexOf.apply( this.toArray.reverse(), arguments );
		},
	
	
		length:  0,
	
	
		map: function ( fn )
		{
			var a = [];
	
			if ( __arrayProto.map ) {
				a = __arrayProto.map.call( this, fn, this );
			}
			else {
				// Compatibility for browsers without EMCA-252-5 (JS 1.6)
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					a.push( fn.call( this, this[i], i ) );
				}
			}
	
			return new _Api( this.context, a );
		},
	
	
		pluck: function ( prop )
		{
			return this.map( function ( el ) {
				return el[ prop ];
			} );
		},
	
		pop:     __arrayProto.pop,
	
	
		push:    __arrayProto.push,
	
	
		// Does not return an API instance
		reduce: __arrayProto.reduce || function ( fn, init )
		{
			return _fnReduce( this, fn, init, 0, this.length, 1 );
		},
	
	
		reduceRight: __arrayProto.reduceRight || function ( fn, init )
		{
			return _fnReduce( this, fn, init, this.length-1, -1, -1 );
		},
	
	
		reverse: __arrayProto.reverse,
	
	
		// Object with rows, columns and opts
		selector: null,
	
	
		shift:   __arrayProto.shift,
	
	
		sort:    __arrayProto.sort, // ? name - order?
	
	
		splice:  __arrayProto.splice,
	
	
		toArray: function ()
		{
			return __arrayProto.slice.call( this );
		},
	
	
		to$: function ()
		{
			return $( this );
		},
	
	
		toJQuery: function ()
		{
			return $( this );
		},
	
	
		unique: function ()
		{
			return new _Api( this.context, _unique(this) );
		},
	
	
		unshift: __arrayProto.unshift
	};
	
	
	_Api.extend = function ( scope, obj, ext )
	{
		// Only extend API instances and static properties of the API
		if ( ! obj || ( ! (obj instanceof _Api) && ! obj.__dt_wrapper ) ) {
			return;
		}
	
		var
			i, ien,
			j, jen,
			struct, inner,
			methodScoping = function ( fn, struc ) {
				return function () {
					var ret = fn.apply( scope, arguments );
	
					// Method extension
					_Api.extend( ret, ret, struc.methodExt );
					return ret;
				};
			};
	
		for ( i=0, ien=ext.length ; i<ien ; i++ ) {
			struct = ext[i];
	
			// Value
			obj[ struct.name ] = typeof struct.val === 'function' ?
				methodScoping( struct.val, struct ) :
				$.isPlainObject( struct.val ) ?
					{} :
					struct.val;
	
			obj[ struct.name ].__dt_wrapper = true;
	
			// Property extension
			_Api.extend( scope, obj[ struct.name ], struct.propExt );
		}
	};
	
	
	// @todo - Is there need for an augment function?
	// _Api.augment = function ( inst, name )
	// {
	// 	// Find src object in the structure from the name
	// 	var parts = name.split('.');
	
	// 	_Api.extend( inst, obj );
	// };
	
	
	//     [
	//       {
	//         name:      'data'                -- string   - Property name
	//         val:       function () {},       -- function - Api method (or undefined if just an object
	//         methodExt: [ ... ],              -- array    - Array of Api object definitions to extend the method result
	//         propExt:   [ ... ]               -- array    - Array of Api object definitions to extend the property
	//       },
	//       {
	//         name:     'row'
	//         val:       {},
	//         methodExt: [ ... ],
	//         propExt:   [
	//           {
	//             name:      'data'
	//             val:       function () {},
	//             methodExt: [ ... ],
	//             propExt:   [ ... ]
	//           },
	//           ...
	//         ]
	//       }
	//     ]
	
	_Api.register = _api_register = function ( name, val )
	{
		if ( $.isArray( name ) ) {
			for ( var j=0, jen=name.length ; j<jen ; j++ ) {
				_Api.register( name[j], val );
			}
			return;
		}
	
		var
			i, ien,
			heir = name.split('.'),
			struct = __apiStruct,
			key, method;
	
		var find = function ( src, name ) {
			for ( var i=0, ien=src.length ; i<ien ; i++ ) {
				if ( src[i].name === name ) {
					return src[i];
				}
			}
			return null;
		};
	
		for ( i=0, ien=heir.length ; i<ien ; i++ ) {
			method = heir[i].indexOf('()') !== -1;
			key = method ?
				heir[i].replace('()', '') :
				heir[i];
	
			var src = find( struct, key );
			if ( ! src ) {
				src = {
					name:      key,
					val:       {},
					methodExt: [],
					propExt:   []
				};
				struct.push( src );
			}
	
			if ( i === ien-1 ) {
				src.val = val;
			}
			else {
				struct = method ?
					src.methodExt :
					src.propExt;
			}
		}
	
		// Rebuild the API with the new construct
		if ( _Api.ready ) {
			DataTable.api.build();
		}
	};
	
	
	_Api.registerPlural = _api_registerPlural = function ( pluralName, singularName, val ) {
		_Api.register( pluralName, val );
	
		_Api.register( singularName, function () {
			var ret = val.apply( this, arguments );
	
			if ( ret === this ) {
				// Returned item is the API instance that was passed in, return it
				return this;
			}
			else if ( ret instanceof _Api ) {
				// New API instance returned, want the value from the first item
				// in the returned array for the singular result.
				return ret.length ?
					$.isArray( ret[0] ) ?
						new _Api( ret.context, ret[0] ) : // Array results are 'enhanced'
						ret[0] :
					undefined;
			}
	
			// Non-API return - just fire it back
			return ret;
		} );
	};
	
	
	/**
	 * Selector for HTML tables. Apply the given selector to the give array of
	 * DataTables settings objects.
	 *
	 * @param {string|integer} [selector] jQuery selector string or integer
	 * @param  {array} Array of DataTables settings objects to be filtered
	 * @return {array}
	 * @ignore
	 */
	var __table_selector = function ( selector, a )
	{
		// Integer is used to pick out a table by index
		if ( typeof selector === 'number' ) {
			return [ a[ selector ] ];
		}
	
		// Perform a jQuery selector on the table nodes
		var nodes = $.map( a, function (el, i) {
			return el.nTable;
		} );
	
		return $(nodes)
			.filter( selector )
			.map( function (i) {
				// Need to translate back from the table node to the settings
				var idx = $.inArray( this, nodes );
				return a[ idx ];
			} )
			.toArray();
	};
	
	
	
	/**
	 * Context selector for the API's context (i.e. the tables the API instance
	 * refers to.
	 *
	 * @name    DataTable.Api#tables
	 * @param {string|integer} [selector] Selector to pick which tables the iterator
	 *   should operate on. If not given, all tables in the current context are
	 *   used. This can be given as a jQuery selector (for example `':gt(0)'`) to
	 *   select multiple tables or as an integer to select a single table.
	 * @returns {DataTable.Api} Returns a new API instance if a selector is given.
	 */
	_api_register( 'tables()', function ( selector ) {
		// A new instance is created if there was a selector specified
		return selector ?
			new _Api( __table_selector( selector, this.context ) ) :
			this;
	} );
	
	
	_api_register( 'table()', function ( selector ) {
		var tables = this.tables( selector );
		var ctx = tables.context;
	
		// Truncate to the first matched table
		return ctx.length ?
			new _Api( ctx[0] ) :
			tables;
	} );
	
	
	_api_registerPlural( 'tables().nodes()', 'table().node()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTable;
		} );
	} );
	
	
	_api_registerPlural( 'tables().body()', 'table().body()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTBody;
		} );
	} );
	
	
	_api_registerPlural( 'tables().header()', 'table().header()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTHead;
		} );
	} );
	
	
	_api_registerPlural( 'tables().footer()', 'table().footer()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTFoot;
		} );
	} );
	
	
	
	/**
	 * Redraw the tables in the current context.
	 *
	 * @param {boolean} [reset=true] Reset (default) or hold the current paging
	 *   position. A full re-sort and re-filter is performed when this method is
	 *   called, which is why the pagination reset is the default action.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'draw()', function ( resetPaging ) {
		return this.iterator( 'table', function ( settings ) {
			_fnReDraw( settings, resetPaging===false );
		} );
	} );
	
	
	
	/**
	 * Get the current page index.
	 *
	 * @return {integer} Current page index (zero based)
	 *//**
	 * Set the current page.
	 *
	 * Note that if you attempt to show a page which does not exist, DataTables will
	 * not throw an error, but rather reset the paging.
	 *
	 * @param {integer|string} action The paging action to take. This can be one of:
	 *  * `integer` - The page index to jump to
	 *  * `string` - An action to take:
	 *    * `first` - Jump to first page.
	 *    * `next` - Jump to the next page
	 *    * `previous` - Jump to previous page
	 *    * `last` - Jump to the last page.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'page()', function ( action ) {
		if ( action === undefined ) {
			return this.page.info().page; // not an expensive call
		}
	
		// else, have an action to take on all tables
		return this.iterator( 'table', function ( settings ) {
			_fnPageChange( settings, action );
		} );
	} );
	
	
	/**
	 * Paging information for the first table in the current context.
	 *
	 * If you require paging information for another table, use the `table()` method
	 * with a suitable selector.
	 *
	 * @return {object} Object with the following properties set:
	 *  * `page` - Current page index (zero based - i.e. the first page is `0`)
	 *  * `pages` - Total number of pages
	 *  * `start` - Display index for the first record shown on the current page
	 *  * `end` - Display index for the last record shown on the current page
	 *  * `length` - Display length (number of records). Note that generally `start
	 *    + length = end`, but this is not always true, for example if there are
	 *    only 2 records to show on the final page, with a length of 10.
	 *  * `recordsTotal` - Full data set length
	 *  * `recordsDisplay` - Data set length once the current filtering criterion
	 *    are applied.
	 */
	_api_register( 'page.info()', function ( action ) {
		if ( this.context.length === 0 ) {
			return undefined;
		}
	
		var
			settings   = this.context[0],
			start      = settings._iDisplayStart,
			len        = settings._iDisplayLength,
			visRecords = settings.fnRecordsDisplay(),
			all        = len === -1;
	
		return {
			"page":           all ? 0 : Math.floor( start / len ),
			"pages":          all ? 1 : Math.ceil( visRecords / len ),
			"start":          start,
			"end":            settings.fnDisplayEnd(),
			"length":         len,
			"recordsTotal":   settings.fnRecordsTotal(),
			"recordsDisplay": visRecords
		};
	} );
	
	
	/**
	 * Get the current page length.
	 *
	 * @return {integer} Current page length. Note `-1` indicates that all records
	 *   are to be shown.
	 *//**
	 * Set the current page length.
	 *
	 * @param {integer} Page length to set. Use `-1` to show all records.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'page.len()', function ( len ) {
		// Note that we can't call this function 'length()' because `length`
		// is a Javascript property of functions which defines how many arguments
		// the function expects.
		if ( len === undefined ) {
			return this.context.length !== 0 ?
				this.context[0]._iDisplayLength :
				undefined;
		}
	
		// else, set the page length
		return this.iterator( 'table', function ( settings ) {
			_fnLengthChange( settings, len );
		} );
	} );
	
	
	
	var __reload = function ( settings, holdPosition, callback ) {
		if ( _fnDataSource( settings ) == 'ssp' ) {
			_fnReDraw( settings, holdPosition );
		}
		else {
			// Trigger xhr
			_fnProcessingDisplay( settings, true );
	
			_fnBuildAjax( settings, [], function( json ) {
				_fnClearTable( settings );
	
				var data = _fnAjaxDataSrc( settings, json );
				for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					_fnAddData( settings, data[i] );
				}
	
				_fnReDraw( settings, holdPosition );
				_fnProcessingDisplay( settings, false );
			} );
		}
	
		// Use the draw event to trigger a callback, regardless of if it is an async
		// or sync draw
		if ( callback ) {
			var api = new _Api( settings );
	
			api.one( 'draw', function () {
				callback( api.ajax.json() );
			} );
		}
	};
	
	
	/**
	 * Get the JSON response from the last Ajax request that DataTables made to the
	 * server. Note that this returns the JSON from the first table in the current
	 * context.
	 *
	 * @return {object} JSON received from the server.
	 */
	_api_register( 'ajax.json()', function () {
		var ctx = this.context;
	
		if ( ctx.length > 0 ) {
			return ctx[0].json;
		}
	
		// else return undefined;
	} );
	
	
	/**
	 * Get the data submitted in the last Ajax request
	 */
	_api_register( 'ajax.params()', function () {
		var ctx = this.context;
	
		if ( ctx.length > 0 ) {
			return ctx[0].oAjaxData;
		}
	
		// else return undefined;
	} );
	
	
	/**
	 * Reload tables from the Ajax data source. Note that this function will
	 * automatically re-draw the table when the remote data has been loaded.
	 *
	 * @param {boolean} [reset=true] Reset (default) or hold the current paging
	 *   position. A full re-sort and re-filter is performed when this method is
	 *   called, which is why the pagination reset is the default action.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.reload()', function ( callback, resetPaging ) {
		return this.iterator( 'table', function (settings) {
			__reload( settings, resetPaging===false, callback );
		} );
	} );
	
	
	/**
	 * Get the current Ajax URL. Note that this returns the URL from the first
	 * table in the current context.
	 *
	 * @return {string} Current Ajax source URL
	 *//**
	 * Set the Ajax URL. Note that this will set the URL for all tables in the
	 * current context.
	 *
	 * @param {string} url URL to set.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.url()', function ( url ) {
		var ctx = this.context;
	
		if ( url === undefined ) {
			// get
			if ( ctx.length === 0 ) {
				return undefined;
			}
			ctx = ctx[0];
	
			return ctx.ajax ?
				$.isPlainObject( ctx.ajax ) ?
					ctx.ajax.url :
					ctx.ajax :
				ctx.sAjaxSource;
		}
	
		// set
		return this.iterator( 'table', function ( settings ) {
			if ( $.isPlainObject( settings.ajax ) ) {
				settings.ajax.url = url;
			}
			else {
				settings.ajax = url;
			}
			// No need to consider sAjaxSource here since DataTables gives priority
			// to `ajax` over `sAjaxSource`. So setting `ajax` here, renders any
			// value of `sAjaxSource` redundant.
		} );
	} );
	
	
	/**
	 * Load data from the newly set Ajax URL. Note that this method is only
	 * available when `ajax.url()` is used to set a URL. Additionally, this method
	 * has the same effect as calling `ajax.reload()` but is provided for
	 * convenience when setting a new URL. Like `ajax.reload()` it will
	 * automatically redraw the table once the remote data has been loaded.
	 *
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'ajax.url().load()', function ( callback, resetPaging ) {
		// Same as a reload, but makes sense to present it for easy access after a
		// url change
		return this.iterator( 'table', function ( ctx ) {
			__reload( ctx, resetPaging===false, callback );
		} );
	} );
	
	
	
	
	var _selector_run = function ( selector, select )
	{
		var
			out = [], res,
			a, i, ien, j, jen;
	
		// Can't just check for isArray here, as an API or jQuery instance might be
		// given with their array like look
		if ( ! selector || typeof selector === 'string' || selector.length === undefined ) {
			selector = [ selector ];
		}
	
		for ( i=0, ien=selector.length ; i<ien ; i++ ) {
			a = selector[i] && selector[i].split ?
				selector[i].split(',') :
				[ selector[i] ];
	
			for ( j=0, jen=a.length ; j<jen ; j++ ) {
				res = select( typeof a[j] === 'string' ? $.trim(a[j]) : a[j] );
	
				if ( res && res.length ) {
					out.push.apply( out, res );
				}
			}
		}
	
		return out;
	};
	
	
	var _selector_opts = function ( opts )
	{
		if ( ! opts ) {
			opts = {};
		}
	
		// Backwards compatibility for 1.9- which used the terminology filter rather
		// than search
		if ( opts.filter && ! opts.search ) {
			opts.search = opts.filter;
		}
	
		return {
			search: opts.search || 'none',
			order:  opts.order  || 'current',
			page:   opts.page   || 'all'
		};
	};
	
	
	var _selector_first = function ( inst )
	{
		// Reduce the API instance to the first item found
		for ( var i=0, ien=inst.length ; i<ien ; i++ ) {
			if ( inst[i].length > 0 ) {
				// Assign the first element to the first item in the instance
				// and truncate the instance and context
				inst[0] = inst[i];
				inst.length = 1;
				inst.context = [ inst.context[i] ];
	
				return inst;
			}
		}
	
		// Not found - return an empty instance
		inst.length = 0;
		return inst;
	};
	
	
	var _selector_row_indexes = function ( settings, opts )
	{
		var
			i, ien, tmp, a=[],
			displayFiltered = settings.aiDisplay,
			displayMaster = settings.aiDisplayMaster;
	
		var
			search = opts.search,  // none, applied, removed
			order  = opts.order,   // applied, current, index (original - compatibility with 1.9)
			page   = opts.page;    // all, current
	
		if ( _fnDataSource( settings ) == 'ssp' ) {
			// In server-side processing mode, most options are irrelevant since
			// rows not shown don't exist and the index order is the applied order
			// Removed is a special case - for consistency just return an empty
			// array
			return search === 'removed' ?
				[] :
				_range( 0, displayMaster.length );
		}
		else if ( page == 'current' ) {
			// Current page implies that order=current and fitler=applied, since it is
			// fairly senseless otherwise, regardless of what order and search actually
			// are
			for ( i=settings._iDisplayStart, ien=settings.fnDisplayEnd() ; i<ien ; i++ ) {
				a.push( displayFiltered[i] );
			}
		}
		else if ( order == 'current' || order == 'applied' ) {
			a = search == 'none' ?
				displayMaster.slice() :                      // no search
				search == 'applied' ?
					displayFiltered.slice() :                // applied search
					$.map( displayMaster, function (el, i) { // removed search
						return $.inArray( el, displayFiltered ) === -1 ? el : null;
					} );
		}
		else if ( order == 'index' || order == 'original' ) {
			for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
				if ( search == 'none' ) {
					a.push( i );
				}
				else { // applied | removed
					tmp = $.inArray( i, displayFiltered );
	
					if ((tmp === -1 && search == 'removed') ||
						(tmp === 1  && search == 'applied') )
					{
						a.push( i );
					}
				}
			}
		}
	
		return a;
	};
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Rows
	 *
	 * {}          - no selector - use all available rows
	 * {integer}   - row aoData index
	 * {node}      - TR node
	 * {string}    - jQuery selector to apply to the TR elements
	 * {array}     - jQuery array of nodes, or simply an array of TR nodes
	 *
	 */
	
	
	var __row_selector = function ( settings, selector, opts )
	{
		return _selector_run( selector, function ( sel ) {
			var selInt = _intVal( sel );
	
			// Short cut - selector is a number and no options provided (default is
			// all records, so no need to check if the index is in there, since it
			// must be - dev error if the index doesn't exist).
			if ( selInt !== null && ! opts ) {
				return [ selInt ];
			}
	
			var rows = _selector_row_indexes( settings, opts );
	
			if ( selInt !== null && $.inArray( selInt, rows ) !== -1 ) {
				// Selector - integer
				return [ selInt ];
			}
			else if ( ! sel ) {
				// Selector - none
				return rows;
			}
	
			// Get nodes in the order from the `rows` array (can't use `pluck`) @todo - use pluck_order
			var nodes = [];
			for ( var i=0, ien=rows.length ; i<ien ; i++ ) {
				nodes.push( settings.aoData[ rows[i] ].nTr );
			}
	
			if ( sel.nodeName ) {
				// Selector - node
				if ( $.inArray( sel, nodes ) !== -1 ) {
					return [ sel._DT_RowIndex ];// sel is a TR node that is in the table
											// and DataTables adds a prop for fast lookup
				}
			}
	
			// Selector - jQuery selector string, array of nodes or jQuery object/
			// As jQuery's .filter() allows jQuery objects to be passed in filter,
			// it also allows arrays, so this will cope with all three options
			return $(nodes)
				.filter( sel )
				.map( function () {
					return this._DT_RowIndex;
				} )
				.toArray();
		} );
	};
	
	
	/**
	 *
	 */
	_api_register( 'rows()', function ( selector, opts ) {
		// argument shifting
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}
	
		opts = _selector_opts( opts );
	
		var inst = this.iterator( 'table', function ( settings ) {
			return __row_selector( settings, selector, opts );
		} );
	
		// Want argument shifting here and in __row_selector?
		inst.selector.rows = selector;
		inst.selector.opts = opts;
	
		return inst;
	} );
	
	
	_api_register( 'rows().nodes()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return settings.aoData[ row ].nTr || undefined;
		} );
	} );
	
	_api_register( 'rows().data()', function () {
		return this.iterator( true, 'rows', function ( settings, rows ) {
			return _pluck_order( settings.aoData, rows, '_aData' );
		} );
	} );
	
	_api_registerPlural( 'rows().cache()', 'row().cache()', function ( type ) {
		return this.iterator( 'row', function ( settings, row ) {
			var r = settings.aoData[ row ];
			return type === 'search' ? r._aFilterData : r._aSortData;
		} );
	} );
	
	_api_registerPlural( 'rows().invalidate()', 'row().invalidate()', function ( src ) {
		return this.iterator( 'row', function ( settings, row ) {
			_fnInvalidateRow( settings, row, src );
		} );
	} );
	
	_api_registerPlural( 'rows().indexes()', 'row().index()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return row;
		} );
	} );
	
	_api_registerPlural( 'rows().remove()', 'row().remove()', function () {
		var that = this;
	
		return this.iterator( 'row', function ( settings, row, thatIdx ) {
			var data = settings.aoData;
	
			data.splice( row, 1 );
	
			// Update the _DT_RowIndex parameter on all rows in the table
			for ( var i=0, ien=data.length ; i<ien ; i++ ) {
				if ( data[i].nTr !== null ) {
					data[i].nTr._DT_RowIndex = i;
				}
			}
	
			// Remove the target row from the search array
			var displayIndex = $.inArray( row, settings.aiDisplay );
	
			// Delete from the display arrays
			_fnDeleteIndex( settings.aiDisplayMaster, row );
			_fnDeleteIndex( settings.aiDisplay, row );
			_fnDeleteIndex( that[ thatIdx ], row, false ); // maintain local indexes
	
			// Check for an 'overflow' they case for displaying the table
			_fnLengthOverflow( settings );
		} );
	} );
	
	
	_api_register( 'rows.add()', function ( rows ) {
		var newRows = this.iterator( 'table', function ( settings ) {
				var row, i, ien;
				var out = [];
	
				for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];
	
					if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
						out.push( _fnAddTr( settings, row )[0] );
					}
					else {
						out.push( _fnAddData( settings, row ) );
					}
				}
	
				return out;
			} );
	
		// Return an Api.rows() extended instance, so rows().nodes() etc can be used
		var modRows = this.rows( -1 );
		modRows.pop();
		modRows.push.apply( modRows, newRows.toArray() );
	
		return modRows;
	} );
	
	
	
	
	
	/**
	 *
	 */
	_api_register( 'row()', function ( selector, opts ) {
		return _selector_first( this.rows( selector, opts ) );
	} );
	
	
	_api_register( 'row().data()', function ( data ) {
		var ctx = this.context;
	
		if ( data === undefined ) {
			// Get
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._aData :
				undefined;
		}
	
		// Set
		ctx[0].aoData[ this[0] ]._aData = data;
	
		// Automatically invalidate
		_fnInvalidateRow( ctx[0], this[0], 'data' );
	
		return this;
	} );
	
	
	_api_register( 'row().node()', function () {
		var ctx = this.context;
	
		return ctx.length && this.length ?
			ctx[0].aoData[ this[0] ].nTr || null :
			null;
	} );
	
	
	_api_register( 'row.add()', function ( row ) {
		// Allow a jQuery object to be passed in - only a single row is added from
		// it though - the first element in the set
		if ( row instanceof $ && row.length ) {
			row = row[0];
		}
	
		var rows = this.iterator( 'table', function ( settings ) {
			if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
				return _fnAddTr( settings, row )[0];
			}
			return _fnAddData( settings, row );
		} );
	
		// Return an Api.rows() extended instance, with the newly added row selected
		return this.row( rows[0] );
	} );
	
	
	
	var __details_add = function ( ctx, row, data, klass )
	{
		// Convert to array of TR elements
		var rows = [];
		var addRow = function ( r, k ) {
			// If we get a TR element, then just add it directly - up to the dev
			// to add the correct number of columns etc
			if ( r.nodeName && r.nodeName.toLowerCase() === 'tr' ) {
				rows.push( r );
			}
			else {
				// Otherwise create a row with a wrapper
				var created = $('<tr><td/></tr>');
				$('td', created)
					.addClass( k )
					.html( r )
					[0].colSpan = _fnVisbleColumns( ctx );
	
				rows.push( created[0] );
			}
		};
	
		if ( $.isArray( data ) || data instanceof $ ) {
			for ( var i=0, ien=data.length ; i<ien ; i++ ) {
				addRow( data[i], klass );
			}
		}
		else {
			addRow( data, klass );
		}
	
		if ( row._details ) {
			row._details.remove();
		}
	
		row._details = $(rows);
	
		// If the children were already shown, that state should be retained
		if ( row._detailsShow ) {
			row._details.insertAfter( row.nTr );
		}
	};
	
	
	var __details_display = function ( show ) {
		var ctx = this.context;
	
		if ( ctx.length && this.length ) {
			var row = ctx[0].aoData[ this[0] ];
	
			if ( row._details ) {
				row._detailsShow = show;
				if ( show ) {
					row._details.insertAfter( row.nTr );
				}
				else {
					row._details.remove();
				}
	
				__details_events( ctx[0] );
			}
		}
	
		return this;
	};
	
	
	var __details_events = function ( settings )
	{
		var api = new _Api( settings );
		var namespace = '.dt.DT_details';
		var drawEvent = 'draw'+namespace;
		var colvisEvent = 'column-visibility'+namespace;
	
		api.off( drawEvent +' '+ colvisEvent );
	
		if ( _pluck( settings.aoData, '_details' ).length > 0 ) {
			// On each draw, insert the required elements into the document
			api.on( drawEvent, function () {
				api.rows( {page:'current'} ).eq(0).each( function (idx) {
					// Internal data grab
					var row = settings.aoData[ idx ];
	
					if ( row._detailsShow ) {
						row._details.insertAfter( row.nTr );
					}
				} );
			} );
	
			// Column visibility change - update the colspan
			api.on( colvisEvent, function ( e, settings, idx, vis ) {
				// Update the colspan for the details rows (note, only if it already has
				// a colspan)
				var row, visible = _fnVisbleColumns( settings );
	
				for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
					row = settings.aoData[i];
	
					if ( row._details ) {
						row._details.children('td[colspan]').attr('colspan', visible );
					}
				}
			} );
		}
	};
	
	// data can be:
	//  tr
	//  string
	//  jQuery or array of any of the above
	_api_register( 'row().child()', function ( data, klass ) {
		var ctx = this.context;
	
		if ( data === undefined ) {
			// get
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._details :
				undefined;
		}
		else if ( ctx.length && this.length ) {
			// set
			__details_add( ctx[0], ctx[0].aoData[ this[0] ], data, klass );
		}
	
		return this;
	} );
	
	_api_register( [
		'row().child.show()',
		'row().child().show()'
	], function () {
		__details_display.call( this, true );
		return this;
	} );
	
	_api_register( [
		'row().child.hide()',
		'row().child().hide()'
	], function () {
		__details_display.call( this, false );
		return this;
	} );
	
	_api_register( 'row().child.isShown()', function () {
		var ctx = this.context;
	
		if ( ctx.length && this.length ) {
			// _detailsShown as false or undefined will fall through to return false
			return ctx[0].aoData[ this[0] ]._detailsShow || false;
		}
		return false;
	} );
	
	
	
	/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
	 * Columns
	 *
	 * {integer}           - column index (>=0 count from left, <0 count from right)
	 * "{integer}:visIdx"  - visible column index (i.e. translate to column index)  (>=0 count from left, <0 count from right)
	 * "{integer}:visible" - alias for {integer}:visIdx  (>=0 count from left, <0 count from right)
	 * "{string}:name"     - column name
	 * "{string}"          - jQuery selector on column header nodes
	 *
	 */
	
	// can be an array of these items, comma separated list, or an array of comma
	// separated lists
	
	var __re_column_selector = /^(.*):(name|visIdx|visible)$/;
	
	var __column_selector = function ( settings, selector, opts )
	{
		var
			columns = settings.aoColumns,
			names = _pluck( columns, 'sName' ),
			nodes = _pluck( columns, 'nTh' );
	
		return _selector_run( selector, function ( s ) {
			var selInt = _intVal( s );
	
			if ( s === '' ) {
				// All columns
				return _range( columns.length );
			}
			else if ( selInt !== null ) {
				// Integer selector
				return [ selInt >= 0 ?
					selInt : // Count from left
					columns.length + selInt // Count from right (+ because its a negative value)
				];
			}
			else {
				var match = typeof s === 'string' ?
					s.match( __re_column_selector ) :
					'';
	
				if ( match ) {
					switch( match[2] ) {
						case 'visIdx':
						case 'visible':
							var idx = parseInt( match[1], 10 );
							// Visible index given, convert to column index
							if ( idx < 0 ) {
								// Counting from the right
								var visColumns = $.map( columns, function (col,i) {
									return col.bVisible ? i : null;
								} );
								return [ visColumns[ visColumns.length + idx ] ];
							}
							// Counting from the left
							return [ _fnVisibleToColumnIndex( settings, idx ) ];
	
						case 'name':
							// match by name. `names` is column index complete and in order
							return $.map( names, function (name, i) {
								return name === match[1] ? i : null;
							} );
					}
				}
				else {
					// jQuery selector on the TH elements for the columns
					return $( nodes )
						.filter( s )
						.map( function () {
							return $.inArray( this, nodes ); // `nodes` is column index complete and in order
						} )
						.toArray();
				}
			}
		} );
	};
	
	
	
	
	
	var __setColumnVis = function ( settings, column, vis ) {
		var
			cols = settings.aoColumns,
			col  = cols[ column ],
			data = settings.aoData,
			row, cells, i, ien, tr;
	
		// Get
		if ( vis === undefined ) {
			return col.bVisible;
		}
	
		// Set
		// No change
		if ( col.bVisible === vis ) {
			return;
		}
	
		if ( vis ) {
			// Insert column
			// Need to decide if we should use appendChild or insertBefore
			var insertBefore = $.inArray( true, _pluck(cols, 'bVisible'), column+1 );
	
			for ( i=0, ien=data.length ; i<ien ; i++ ) {
				tr = data[i].nTr;
				cells = data[i].anCells;
	
				if ( tr ) {
					// insertBefore can act like appendChild if 2nd arg is null
					tr.insertBefore( cells[ column ], cells[ insertBefore ] || null );
				}
			}
		}
		else {
			// Remove column
			$( _pluck( settings.aoData, 'anCells', column ) ).detach();
	
			col.bVisible = false;
			_fnDrawHead( settings, settings.aoHeader );
			_fnDrawHead( settings, settings.aoFooter );
	
			_fnSaveState( settings );
		}
	
		// Common actions
		col.bVisible = vis;
		_fnDrawHead( settings, settings.aoHeader );
		_fnDrawHead( settings, settings.aoFooter );
	
		// Automatically adjust column sizing
		_fnAdjustColumnSizing( settings );
	
		// Realign columns for scrolling
		if ( settings.oScroll.sX || settings.oScroll.sY ) {
			_fnScrollDraw( settings );
		}
	
		_fnCallbackFire( settings, null, 'column-visibility', [settings, column, vis] );
	
		_fnSaveState( settings );
	};
	
	
	/**
	 *
	 */
	_api_register( 'columns()', function ( selector, opts ) {
		// argument shifting
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}
	
		opts = _selector_opts( opts );
	
		var inst = this.iterator( 'table', function ( settings ) {
			return __column_selector( settings, selector, opts );
		} );
	
		// Want argument shifting here and in _row_selector?
		inst.selector.cols = selector;
		inst.selector.opts = opts;
	
		return inst;
	} );
	
	
	/**
	 *
	 */
	_api_registerPlural( 'columns().header()', 'column().header()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTh;
		} );
	} );
	
	
	/**
	 *
	 */
	_api_registerPlural( 'columns().footer()', 'column().footer()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTf;
		} );
	} );
	
	
	/**
	 *
	 */
	_api_registerPlural( 'columns().data()', 'column().data()', function () {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			var a = [];
			for ( var row=0, ien=rows.length ; row<ien ; row++ ) {
				a.push( _fnGetCellData( settings, rows[row], column, '' ) );
			}
			return a;
		} );
	} );
	
	
	_api_registerPlural( 'columns().cache()', 'column().cache()', function ( type ) {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows,
				type === 'search' ? '_aFilterData' : '_aSortData', column
			);
		} );
	} );
	
	
	_api_registerPlural( 'columns().nodes()', 'column().nodes()', function () {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows, 'anCells', column ) ;
		} );
	} );
	
	
	
	_api_registerPlural( 'columns().visible()', 'column().visible()', function ( vis ) {
		return this.iterator( 'column', function ( settings, column ) {
			return vis === undefined ?
				settings.aoColumns[ column ].bVisible :
				__setColumnVis( settings, column, vis );
		} );
	} );
	
	
	
	_api_registerPlural( 'columns().indexes()', 'column().index()', function ( type ) {
		return this.iterator( 'column', function ( settings, column ) {
			return type === 'visible' ?
				_fnColumnIndexToVisible( settings, column ) :
				column;
		} );
	} );
	
	
	// _api_register( 'columns().show()', function () {
	// 	var selector = this.selector;
	// 	return this.columns( selector.cols, selector.opts ).visible( true );
	// } );
	
	
	// _api_register( 'columns().hide()', function () {
	// 	var selector = this.selector;
	// 	return this.columns( selector.cols, selector.opts ).visible( false );
	// } );
	
	
	
	_api_register( 'columns.adjust()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnAdjustColumnSizing( settings );
		} );
	} );
	
	
	// Convert from one column index type, to another type
	_api_register( 'column.index()', function ( type, idx ) {
		if ( this.context.length !== 0 ) {
			var ctx = this.context[0];
	
			if ( type === 'fromVisible' || type === 'toData' ) {
				return _fnVisibleToColumnIndex( ctx, idx );
			}
			else if ( type === 'fromData' || type === 'toVisible' ) {
				return _fnColumnIndexToVisible( ctx, idx );
			}
		}
	} );
	
	
	_api_register( 'column()', function ( selector, opts ) {
		return _selector_first( this.columns( selector, opts ) );
	} );
	
	
	
	
	var __cell_selector = function ( settings, selector, opts )
	{
		var data = settings.aoData;
		var rows = _selector_row_indexes( settings, opts );
		var cells = _pluck_order( data, rows, 'anCells' );
		var allCells = $( [].concat.apply([], cells) );
		var row;
		var columns = settings.aoColumns.length;
		var a, i, ien, j;
	
		return _selector_run( selector, function ( s ) {
			if ( ! s ) {
				// All cells
				a = [];
	
				for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];
	
					for ( j=0 ; j<columns ; j++ ) {
						a.push( {
							row: row,
							column: j
						} );
					}
				}
	
				return a;
			}
			else if ( $.isPlainObject( s ) ) {
				return [s];
			}
	
			// jQuery filtered cells
			return allCells
				.filter( s )
				.map( function (i, el) {
					row = el.parentNode._DT_RowIndex;
	
					return {
						row: row,
						column: $.inArray( el, data[ row ].anCells )
					};
				} )
				.toArray();
		} );
	};
	
	
	
	
	_api_register( 'cells()', function ( rowSelector, columnSelector, opts ) {
		// Argument shifting
		if ( $.isPlainObject( rowSelector ) ) {
			// If passing in a cell index
			if ( rowSelector.row ) {
				opts = columnSelector;
				columnSelector = null;
			}
			else {
				opts = rowSelector;
				rowSelector = null;
			}
		}
		if ( $.isPlainObject( columnSelector ) ) {
			opts = columnSelector;
			columnSelector = null;
		}
	
		// Cell selector
		if ( columnSelector === null || columnSelector === undefined ) {
			return this.iterator( 'table', function ( settings ) {
				return __cell_selector( settings, rowSelector, _selector_opts( opts ) );
			} );
		}
	
		// Row + column selector
		var columns = this.columns( columnSelector, opts );
		var rows = this.rows( rowSelector, opts );
		var a, i, ien, j, jen;
	
		var cells = this.iterator( 'table', function ( settings, idx ) {
			a = [];
	
			for ( i=0, ien=rows[idx].length ; i<ien ; i++ ) {
				for ( j=0, jen=columns[idx].length ; j<jen ; j++ ) {
					a.push( {
						row:    rows[idx][i],
						column: columns[idx][j]
					} );
				}
			}
	
			return a;
		} );
	
		$.extend( cells.selector, {
			cols: columnSelector,
			rows: rowSelector,
			opts: opts
		} );
	
		return cells;
	} );
	
	
	_api_registerPlural( 'cells().nodes()', 'cell().node()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return settings.aoData[ row ].anCells[ column ];
		} );
	} );
	
	
	_api_register( 'cells().data()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return _fnGetCellData( settings, row, column );
		} );
	} );
	
	
	_api_registerPlural( 'cells().cache()', 'cell().cache()', function ( type ) {
		type = type === 'search' ? '_aFilterData' : '_aSortData';
	
		return this.iterator( 'cell', function ( settings, row, column ) {
			return settings.aoData[ row ][ type ][ column ];
		} );
	} );
	
	
	_api_registerPlural( 'cells().indexes()', 'cell().index()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return {
				row: row,
				column: column,
				columnVisible: _fnColumnIndexToVisible( settings, column )
			};
		} );
	} );
	
	
	_api_register( [
		'cells().invalidate()',
		'cell().invalidate()'
	], function ( src ) {
		var selector = this.selector;
	
		// Use the rows method of the instance to perform the invalidation, rather
		// than doing it here. This avoids needing to handle duplicate rows from
		// the cells.
		this.rows( selector.rows, selector.opts ).invalidate( src );
	
		return this;
	} );
	
	
	
	
	_api_register( 'cell()', function ( rowSelector, columnSelector, opts ) {
		return _selector_first( this.cells( rowSelector, columnSelector, opts ) );
	} );
	
	
	
	_api_register( 'cell().data()', function ( data ) {
		var ctx = this.context;
		var cell = this[0];
	
		if ( data === undefined ) {
			// Get
			return ctx.length && cell.length ?
				_fnGetCellData( ctx[0], cell[0].row, cell[0].column ) :
				undefined;
		}
	
		// Set
		_fnSetCellData( ctx[0], cell[0].row, cell[0].column, data );
		_fnInvalidateRow( ctx[0], cell[0].row, 'data', cell[0].column );
	
		return this;
	} );
	
	
	
	/**
	 * Get current ordering (sorting) that has been applied to the table.
	 *
	 * @returns {array} 2D array containing the sorting information for the first
	 *   table in the current context. Each element in the parent array represents
	 *   a column being sorted upon (i.e. multi-sorting with two columns would have
	 *   2 inner arrays). The inner arrays may have 2 or 3 elements. The first is
	 *   the column index that the sorting condition applies to, the second is the
	 *   direction of the sort (`desc` or `asc`) and, optionally, the third is the
	 *   index of the sorting order from the `column.sorting` initialisation array.
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {integer} order Column index to sort upon.
	 * @param {string} direction Direction of the sort to be applied (`asc` or `desc`)
	 * @returns {DataTables.Api} this
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {array} order 1D array of sorting information to be applied.
	 * @param {array} [...] Optional additional sorting conditions
	 * @returns {DataTables.Api} this
	 *//**
	 * Set the ordering for the table.
	 *
	 * @param {array} order 2D array of sorting information to be applied.
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'order()', function ( order, dir ) {
		var ctx = this.context;
	
		if ( order === undefined ) {
			// get
			return ctx.length !== 0 ?
				ctx[0].aaSorting :
				undefined;
		}
	
		// set
		if ( typeof order === 'number' ) {
			// Simple column / direction passed in
			order = [ [ order, dir ] ];
		}
		else if ( ! $.isArray( order[0] ) ) {
			// Arguments passed in (list of 1D arrays)
			order = Array.prototype.slice.call( arguments );
		}
		// otherwise a 2D array was passed in
	
		return this.iterator( 'table', function ( settings ) {
			settings.aaSorting = order.slice();
		} );
	} );
	
	
	/**
	 * Attach a sort listener to an element for a given column
	 *
	 * @param {node|jQuery|string} node Identifier for the element(s) to attach the
	 *   listener to. This can take the form of a single DOM node, a jQuery
	 *   collection of nodes or a jQuery selector which will identify the node(s).
	 * @param {integer} column the column that a click on this node will sort on
	 * @param {function} [callback] callback function when sort is run
	 * @returns {DataTables.Api} this
	 */
	_api_register( 'order.listener()', function ( node, column, callback ) {
		return this.iterator( 'table', function ( settings ) {
			_fnSortAttachListener( settings, node, column, callback );
		} );
	} );
	
	
	// Order by the selected column(s)
	_api_register( [
		'columns().order()',
		'column().order()'
	], function ( dir ) {
		var that = this;
	
		return this.iterator( 'table', function ( settings, i ) {
			var sort = [];
	
			$.each( that[i], function (j, col) {
				sort.push( [ col, dir ] );
			} );
	
			settings.aaSorting = sort;
		} );
	} );
	
	
	
	_api_register( 'search()', function ( input, regex, smart, caseInsen ) {
		var ctx = this.context;
	
		if ( input === undefined ) {
			// get
			return ctx.length !== 0 ?
				ctx[0].oPreviousSearch.sSearch :
				undefined;
		}
	
		// set
		return this.iterator( 'table', function ( settings ) {
			if ( ! settings.oFeatures.bFilter ) {
				return;
			}
	
			_fnFilterComplete( settings, $.extend( {}, settings.oPreviousSearch, {
				"sSearch": input+"",
				"bRegex":  regex === null ? false : regex,
				"bSmart":  smart === null ? true  : smart,
				"bCaseInsensitive": caseInsen === null ? true : caseInsen
			} ), 1 );
		} );
	} );
	
	
	_api_register( [
		'columns().search()',
		'column().search()'
	], function ( input, regex, smart, caseInsen ) {
		return this.iterator( 'column', function ( settings, column ) {
			var preSearch = settings.aoPreSearchCols;
	
			if ( input === undefined ) {
				// get
				return preSearch[ column ].sSearch;
			}
	
			// set
			if ( ! settings.oFeatures.bFilter ) {
				return;
			}
	
			$.extend( preSearch[ column ], {
				"sSearch": input+"",
				"bRegex":  regex === null ? false : regex,
				"bSmart":  smart === null ? true  : smart,
				"bCaseInsensitive": caseInsen === null ? true : caseInsen
			} );
	
			_fnFilterComplete( settings, settings.oPreviousSearch, 1 );
		} );
	} );
	
	
	
	/**
	 * Provide a common method for plug-ins to check the version of DataTables being
	 * used, in order to ensure compatibility.
	 *
	 *  @param {string} version Version string to check for, in the format "X.Y.Z".
	 *    Note that the formats "X" and "X.Y" are also acceptable.
	 *  @returns {boolean} true if this version of DataTables is greater or equal to
	 *    the required version, or false if this version of DataTales is not
	 *    suitable
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    alert( $.fn.dataTable.versionCheck( '1.9.0' ) );
	 */
	DataTable.versionCheck = DataTable.fnVersionCheck = function( version )
	{
		var aThis = DataTable.version.split('.');
		var aThat = version.split('.');
		var iThis, iThat;
	
		for ( var i=0, iLen=aThat.length ; i<iLen ; i++ ) {
			iThis = parseInt( aThis[i], 10 ) || 0;
			iThat = parseInt( aThat[i], 10 ) || 0;
	
			// Parts are the same, keep comparing
			if (iThis === iThat) {
				continue;
			}
	
			// Parts are different, return immediately
			return iThis > iThat;
		}
	
		return true;
	};
	
	
	/**
	 * Check if a `<table>` node is a DataTable table already or not.
	 *
	 *  @param {node|jquery|string} table Table node, jQuery object or jQuery
	 *      selector for the table to test. Note that if more than more than one
	 *      table is passed on, only the first will be checked
	 *  @returns {boolean} true the table given is a DataTable, or false otherwise
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    if ( ! $.fn.DataTable.isDataTable( '#example' ) ) {
	 *      $('#example').dataTable();
	 *    }
	 */
	DataTable.isDataTable = DataTable.fnIsDataTable = function ( table )
	{
		var t = $(table).get(0);
		var is = false;
	
		$.each( DataTable.settings, function (i, o) {
			if ( o.nTable === t || o.nScrollHead === t || o.nScrollFoot === t ) {
				is = true;
			}
		} );
	
		return is;
	};
	
	
	/**
	 * Get all DataTable tables that have been initialised - optionally you can
	 * select to get only currently visible tables.
	 *
	 *  @param {boolean} [visible=false] Flag to indicate if you want all (default)
	 *    or visible tables only.
	 *  @returns {array} Array of `table` nodes (not DataTable instances) which are
	 *    DataTables
	 *  @static
	 *  @dtopt API-Static
	 *
	 *  @example
	 *    $.each( $.fn.dataTable.tables(true), function () {
	 *      $(table).DataTable().columns.adjust();
	 *    } );
	 */
	DataTable.tables = DataTable.fnTables = function ( visible )
	{
		return jQuery.map( DataTable.settings, function (o) {
			if ( !visible || (visible && $(o.nTable).is(':visible')) ) {
				return o.nTable;
			}
		} );
	};
	
	
	/**
	 * Convert from camel case parameters to Hungarian notation. This is made public
	 * for the extensions to provide the same ability as DataTables core to accept
	 * either the 1.9 style Hungarian notation, or the 1.10+ style camelCase
	 * parameters.
	 *
	 *  @param {object} src The model object which holds all parameters that can be
	 *    mapped.
	 *  @param {object} user The object to convert from camel case to Hungarian.
	 *  @param {boolean} force When set to `true`, properties which already have a
	 *    Hungarian value in the `user` object will be overwritten. Otherwise they
	 *    won't be.
	 */
	DataTable.camelToHungarian = _fnCamelToHungarian;
	
	
	
	/**
	 *
	 */
	_api_register( '$()', function ( selector, opts ) {
		var
			rows   = this.rows( opts ).nodes(), // Get all rows
			jqRows = $(rows);
	
		return $( [].concat(
			jqRows.filter( selector ).toArray(),
			jqRows.find( selector ).toArray()
		) );
	} );
	
	
	// jQuery functions to operate on the tables
	$.each( [ 'on', 'one', 'off' ], function (i, key) {
		_api_register( key+'()', function ( /* event, handler */ ) {
			var args = Array.prototype.slice.call(arguments);
	
			// Add the `dt` namespace automatically if it isn't already present
			if ( args[0].indexOf( '.dt' ) === -1 ) {
				args[0] += '.dt';
			}
	
			var inst = $( this.tables().nodes() );
			inst[key].apply( inst, args );
			return this;
		} );
	} );
	
	
	_api_register( 'clear()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnClearTable( settings );
		} );
	} );
	
	
	_api_register( 'settings()', function () {
		return new _Api( this.context, this.context );
	} );
	
	
	_api_register( 'data()', function () {
		return this.iterator( 'table', function ( settings ) {
			return _pluck( settings.aoData, '_aData' );
		} ).flatten();
	} );
	
	
	_api_register( 'destroy()', function ( remove ) {
		remove = remove || false;
	
		return this.iterator( 'table', function ( settings ) {
			var orig      = settings.nTableWrapper.parentNode;
			var classes   = settings.oClasses;
			var table     = settings.nTable;
			var tbody     = settings.nTBody;
			var thead     = settings.nTHead;
			var tfoot     = settings.nTFoot;
			var jqTable   = $(table);
			var jqTbody   = $(tbody);
			var jqWrapper = $(settings.nTableWrapper);
			var rows      = $.map( settings.aoData, function (r) { return r.nTr; } );
			var i, ien;
	
			// Flag to note that the table is currently being destroyed - no action
			// should be taken
			settings.bDestroying = true;
	
			// Fire off the destroy callbacks for plug-ins etc
			_fnCallbackFire( settings, "aoDestroyCallback", "destroy", [settings] );
	
			// If not being removed from the document, make all columns visible
			if ( ! remove ) {
				new _Api( settings ).columns().visible( true );
			}
	
			// Blitz all `DT` namespaced events (these are internal events, the
			// lowercase, `dt` events are user subscribed and they are responsible
			// for removing them
			jqWrapper.unbind('.DT').find(':not(tbody *)').unbind('.DT');
			$(window).unbind('.DT-'+settings.sInstance);
	
			// When scrolling we had to break the table up - restore it
			if ( table != thead.parentNode ) {
				jqTable.children('thead').detach();
				jqTable.append( thead );
			}
	
			if ( tfoot && table != tfoot.parentNode ) {
				jqTable.children('tfoot').detach();
				jqTable.append( tfoot );
			}
	
			// Remove the DataTables generated nodes, events and classes
			jqTable.detach();
			jqWrapper.detach();
	
			settings.aaSorting = [];
			settings.aaSortingFixed = [];
			_fnSortingClasses( settings );
	
			$( rows ).removeClass( settings.asStripeClasses.join(' ') );
	
			$('th, td', thead).removeClass( classes.sSortable+' '+
				classes.sSortableAsc+' '+classes.sSortableDesc+' '+classes.sSortableNone
			);
	
			if ( settings.bJUI ) {
				$('th span.'+classes.sSortIcon+ ', td span.'+classes.sSortIcon, thead).detach();
				$('th, td', thead).each( function () {
					var wrapper = $('div.'+classes.sSortJUIWrapper, this);
					$(this).append( wrapper.contents() );
					wrapper.detach();
				} );
			}
	
			if ( ! remove && orig ) {
				// insertBefore acts like appendChild if !arg[1]
				orig.insertBefore( table, settings.nTableReinsertBefore );
			}
	
			// Add the TR elements back into the table in their original order
			jqTbody.children().detach();
			jqTbody.append( rows );
	
			// Restore the width of the original table - was read from the style property,
			// so we can restore directly to that
			jqTable
				.css( 'width', settings.sDestroyWidth )
				.removeClass( classes.sTable );
	
			// If the were originally stripe classes - then we add them back here.
			// Note this is not fool proof (for example if not all rows had stripe
			// classes - but it's a good effort without getting carried away
			ien = settings.asDestroyStripes.length;
	
			if ( ien ) {
				jqTbody.children().each( function (i) {
					$(this).addClass( settings.asDestroyStripes[i % ien] );
				} );
			}
	
			/* Remove the settings object from the settings array */
			var idx = $.inArray( settings, DataTable.settings );
			if ( idx !== -1 ) {
				DataTable.settings.splice( idx, 1 );
			}
		} );
	} );
	

	/**
	 * Version string for plug-ins to check compatibility. Allowed format is
	 * `a.b.c-d` where: a:int, b:int, c:int, d:string(dev|beta|alpha). `d` is used
	 * only for non-release builds. See http://semver.org/ for more information.
	 *  @member
	 *  @type string
	 *  @default Version number
	 */
	DataTable.version = "1.10.0";

	/**
	 * Private data store, containing all of the settings objects that are
	 * created for the tables on a given page.
	 *
	 * Note that the `DataTable.settings` object is aliased to
	 * `jQuery.fn.dataTableExt` through which it may be accessed and
	 * manipulated, or `jQuery.fn.dataTable.settings`.
	 *  @member
	 *  @type array
	 *  @default []
	 *  @private
	 */
	DataTable.settings = [];

	/**
	 * Object models container, for the various models that DataTables has
	 * available to it. These models define the objects that are used to hold
	 * the active state and configuration of the table.
	 *  @namespace
	 */
	DataTable.models = {};
	
	
	
	/**
	 * Template object for the way in which DataTables holds information about
	 * search information for the global filter and individual column filters.
	 *  @namespace
	 */
	DataTable.models.oSearch = {
		/**
		 * Flag to indicate if the filtering should be case insensitive or not
		 *  @type boolean
		 *  @default true
		 */
		"bCaseInsensitive": true,
	
		/**
		 * Applied search term
		 *  @type string
		 *  @default <i>Empty string</i>
		 */
		"sSearch": "",
	
		/**
		 * Flag to indicate if the search term should be interpreted as a
		 * regular expression (true) or not (false) and therefore and special
		 * regex characters escaped.
		 *  @type boolean
		 *  @default false
		 */
		"bRegex": false,
	
		/**
		 * Flag to indicate if DataTables is to use its smart filtering or not.
		 *  @type boolean
		 *  @default true
		 */
		"bSmart": true
	};
	
	
	
	
	/**
	 * Template object for the way in which DataTables holds information about
	 * each individual row. This is the object format used for the settings
	 * aoData array.
	 *  @namespace
	 */
	DataTable.models.oRow = {
		/**
		 * TR element for the row
		 *  @type node
		 *  @default null
		 */
		"nTr": null,
	
		/**
		 * Array of TD elements for each row. This is null until the row has been
		 * created.
		 *  @type array nodes
		 *  @default []
		 */
		"anCells": null,
	
		/**
		 * Data object from the original data source for the row. This is either
		 * an array if using the traditional form of DataTables, or an object if
		 * using mData options. The exact type will depend on the passed in
		 * data from the data source, or will be an array if using DOM a data
		 * source.
		 *  @type array|object
		 *  @default []
		 */
		"_aData": [],
	
		/**
		 * Sorting data cache - this array is ostensibly the same length as the
		 * number of columns (although each index is generated only as it is
		 * needed), and holds the data that is used for sorting each column in the
		 * row. We do this cache generation at the start of the sort in order that
		 * the formatting of the sort data need be done only once for each cell
		 * per sort. This array should not be read from or written to by anything
		 * other than the master sorting methods.
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_aSortData": null,
	
		/**
		 * Per cell filtering data cache. As per the sort data cache, used to
		 * increase the performance of the filtering in DataTables
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_aFilterData": null,
	
		/**
		 * Filtering data cache. This is the same as the cell filtering cache, but
		 * in this case a string rather than an array. This is easily computed with
		 * a join on `_aFilterData`, but is provided as a cache so the join isn't
		 * needed on every search (memory traded for performance)
		 *  @type array
		 *  @default null
		 *  @private
		 */
		"_sFilterRow": null,
	
		/**
		 * Cache of the class name that DataTables has applied to the row, so we
		 * can quickly look at this variable rather than needing to do a DOM check
		 * on className for the nTr property.
		 *  @type string
		 *  @default <i>Empty string</i>
		 *  @private
		 */
		"_sRowStripe": "",
	
		/**
		 * Denote if the original data source was from the DOM, or the data source
		 * object. This is used for invalidating data, so DataTables can
		 * automatically read data from the original source, unless uninstructed
		 * otherwise.
		 *  @type string
		 *  @default null
		 *  @private
		 */
		"src": null
	};
	
	
	/**
	 * Template object for the column information object in DataTables. This object
	 * is held in the settings aoColumns array and contains all the information that
	 * DataTables needs about each individual column.
	 *
	 * Note that this object is related to {@link DataTable.defaults.column}
	 * but this one is the internal data store for DataTables's cache of columns.
	 * It should NOT be manipulated outside of DataTables. Any configuration should
	 * be done through the initialisation options.
	 *  @namespace
	 */
	DataTable.models.oColumn = {
		/**
		 * Column index. This could be worked out on-the-fly with $.inArray, but it
		 * is faster to just hold it as a variable
		 *  @type integer
		 *  @default null
		 */
		"idx": null,
	
		/**
		 * A list of the columns that sorting should occur on when this column
		 * is sorted. That this property is an array allows multi-column sorting
		 * to be defined for a column (for example first name / last name columns
		 * would benefit from this). The values are integers pointing to the
		 * columns to be sorted on (typically it will be a single integer pointing
		 * at itself, but that doesn't need to be the case).
		 *  @type array
		 */
		"aDataSort": null,
	
		/**
		 * Define the sorting directions that are applied to the column, in sequence
		 * as the column is repeatedly sorted upon - i.e. the first value is used
		 * as the sorting direction when the column if first sorted (clicked on).
		 * Sort it again (click again) and it will move on to the next index.
		 * Repeat until loop.
		 *  @type array
		 */
		"asSorting": null,
	
		/**
		 * Flag to indicate if the column is searchable, and thus should be included
		 * in the filtering or not.
		 *  @type boolean
		 */
		"bSearchable": null,
	
		/**
		 * Flag to indicate if the column is sortable or not.
		 *  @type boolean
		 */
		"bSortable": null,
	
		/**
		 * Flag to indicate if the column is currently visible in the table or not
		 *  @type boolean
		 */
		"bVisible": null,
	
		/**
		 * Store for manual type assignment using the `column.type` option. This
		 * is held in store so we can manipulate the column's `sType` property.
		 *  @type string
		 *  @default null
		 *  @private
		 */
		"_sManualType": null,
	
		/**
		 * Flag to indicate if HTML5 data attributes should be used as the data
		 * source for filtering or sorting. True is either are.
		 *  @type boolean
		 *  @default false
		 *  @private
		 */
		"_bAttrSrc": false,
	
		/**
		 * Developer definable function that is called whenever a cell is created (Ajax source,
		 * etc) or processed for input (DOM source). This can be used as a compliment to mRender
		 * allowing you to modify the DOM element (add background colour for example) when the
		 * element is available.
		 *  @type function
		 *  @param {element} nTd The TD node that has been created
		 *  @param {*} sData The Data for the cell
		 *  @param {array|object} oData The data for the whole row
		 *  @param {int} iRow The row index for the aoData data store
		 *  @default null
		 */
		"fnCreatedCell": null,
	
		/**
		 * Function to get data from a cell in a column. You should <b>never</b>
		 * access data directly through _aData internally in DataTables - always use
		 * the method attached to this property. It allows mData to function as
		 * required. This function is automatically assigned by the column
		 * initialisation method
		 *  @type function
		 *  @param {array|object} oData The data array/object for the array
		 *    (i.e. aoData[]._aData)
		 *  @param {string} sSpecific The specific data type you want to get -
		 *    'display', 'type' 'filter' 'sort'
		 *  @returns {*} The data for the cell from the given row's data
		 *  @default null
		 */
		"fnGetData": null,
	
		/**
		 * Function to set data for a cell in the column. You should <b>never</b>
		 * set the data directly to _aData internally in DataTables - always use
		 * this method. It allows mData to function as required. This function
		 * is automatically assigned by the column initialisation method
		 *  @type function
		 *  @param {array|object} oData The data array/object for the array
		 *    (i.e. aoData[]._aData)
		 *  @param {*} sValue Value to set
		 *  @default null
		 */
		"fnSetData": null,
	
		/**
		 * Property to read the value for the cells in the column from the data
		 * source array / object. If null, then the default content is used, if a
		 * function is given then the return from the function is used.
		 *  @type function|int|string|null
		 *  @default null
		 */
		"mData": null,
	
		/**
		 * Partner property to mData which is used (only when defined) to get
		 * the data - i.e. it is basically the same as mData, but without the
		 * 'set' option, and also the data fed to it is the result from mData.
		 * This is the rendering method to match the data method of mData.
		 *  @type function|int|string|null
		 *  @default null
		 */
		"mRender": null,
	
		/**
		 * Unique header TH/TD element for this column - this is what the sorting
		 * listener is attached to (if sorting is enabled.)
		 *  @type node
		 *  @default null
		 */
		"nTh": null,
	
		/**
		 * Unique footer TH/TD element for this column (if there is one). Not used
		 * in DataTables as such, but can be used for plug-ins to reference the
		 * footer for each column.
		 *  @type node
		 *  @default null
		 */
		"nTf": null,
	
		/**
		 * The class to apply to all TD elements in the table's TBODY for the column
		 *  @type string
		 *  @default null
		 */
		"sClass": null,
	
		/**
		 * When DataTables calculates the column widths to assign to each column,
		 * it finds the longest string in each column and then constructs a
		 * temporary table and reads the widths from that. The problem with this
		 * is that "mmm" is much wider then "iiii", but the latter is a longer
		 * string - thus the calculation can go wrong (doing it properly and putting
		 * it into an DOM object and measuring that is horribly(!) slow). Thus as
		 * a "work around" we provide this option. It will append its value to the
		 * text that is found to be the longest string for the column - i.e. padding.
		 *  @type string
		 */
		"sContentPadding": null,
	
		/**
		 * Allows a default value to be given for a column's data, and will be used
		 * whenever a null data source is encountered (this can be because mData
		 * is set to null, or because the data source itself is null).
		 *  @type string
		 *  @default null
		 */
		"sDefaultContent": null,
	
		/**
		 * Name for the column, allowing reference to the column by name as well as
		 * by index (needs a lookup to work by name).
		 *  @type string
		 */
		"sName": null,
	
		/**
		 * Custom sorting data type - defines which of the available plug-ins in
		 * afnSortData the custom sorting will use - if any is defined.
		 *  @type string
		 *  @default std
		 */
		"sSortDataType": 'std',
	
		/**
		 * Class to be applied to the header element when sorting on this column
		 *  @type string
		 *  @default null
		 */
		"sSortingClass": null,
	
		/**
		 * Class to be applied to the header element when sorting on this column -
		 * when jQuery UI theming is used.
		 *  @type string
		 *  @default null
		 */
		"sSortingClassJUI": null,
	
		/**
		 * Title of the column - what is seen in the TH element (nTh).
		 *  @type string
		 */
		"sTitle": null,
	
		/**
		 * Column sorting and filtering type
		 *  @type string
		 *  @default null
		 */
		"sType": null,
	
		/**
		 * Width of the column
		 *  @type string
		 *  @default null
		 */
		"sWidth": null,
	
		/**
		 * Width of the column when it was first "encountered"
		 *  @type string
		 *  @default null
		 */
		"sWidthOrig": null
	};
	
	
	/*
	 * Developer note: The properties of the object below are given in Hungarian
	 * notation, that was used as the interface for DataTables prior to v1.10, however
	 * from v1.10 onwards the primary interface is camel case. In order to avoid
	 * breaking backwards compatibility utterly with this change, the Hungarian
	 * version is still, internally the primary interface, but is is not documented
	 * - hence the @name tags in each doc comment. This allows a Javascript function
	 * to create a map from Hungarian notation to camel case (going the other direction
	 * would require each property to be listed, which would at around 3K to the size
	 * of DataTables, while this method is about a 0.5K hit.
	 *
	 * Ultimately this does pave the way for Hungarian notation to be dropped
	 * completely, but that is a massive amount of work and will break current
	 * installs (therefore is on-hold until v2).
	 */
	
	/**
	 * Initialisation options that can be given to DataTables at initialisation
	 * time.
	 *  @namespace
	 */
	DataTable.defaults = {
		/**
		 * An array of data to use for the table, passed in at initialisation which
		 * will be used in preference to any data which is already in the DOM. This is
		 * particularly useful for constructing tables purely in Javascript, for
		 * example with a custom Ajax call.
		 *  @type array
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.data
		 *
		 *  @example
		 *    // Using a 2D array data source
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "data": [
		 *          ['Trident', 'Internet Explorer 4.0', 'Win 95+', 4, 'X'],
		 *          ['Trident', 'Internet Explorer 5.0', 'Win 95+', 5, 'C'],
		 *        ],
		 *        "columns": [
		 *          { "title": "Engine" },
		 *          { "title": "Browser" },
		 *          { "title": "Platform" },
		 *          { "title": "Version" },
		 *          { "title": "Grade" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using an array of objects as a data source (`data`)
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "data": [
		 *          {
		 *            "engine":   "Trident",
		 *            "browser":  "Internet Explorer 4.0",
		 *            "platform": "Win 95+",
		 *            "version":  4,
		 *            "grade":    "X"
		 *          },
		 *          {
		 *            "engine":   "Trident",
		 *            "browser":  "Internet Explorer 5.0",
		 *            "platform": "Win 95+",
		 *            "version":  5,
		 *            "grade":    "C"
		 *          }
		 *        ],
		 *        "columns": [
		 *          { "title": "Engine",   "data": "engine" },
		 *          { "title": "Browser",  "data": "browser" },
		 *          { "title": "Platform", "data": "platform" },
		 *          { "title": "Version",  "data": "version" },
		 *          { "title": "Grade",    "data": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"aaData": null,
	
	
		/**
		 * If ordering is enabled, then DataTables will perform a first pass sort on
		 * initialisation. You can define which column(s) the sort is performed
		 * upon, and the sorting direction, with this variable. The `sorting` array
		 * should contain an array for each column to be sorted initially containing
		 * the column's index and a direction string ('asc' or 'desc').
		 *  @type array
		 *  @default [[0,'asc']]
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.order
		 *
		 *  @example
		 *    // Sort by 3rd column first, and then 4th column
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "order": [[2,'asc'], [3,'desc']]
		 *      } );
		 *    } );
		 *
		 *    // No initial sorting
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "order": []
		 *      } );
		 *    } );
		 */
		"aaSorting": [[0,'asc']],
	
	
		/**
		 * This parameter is basically identical to the `sorting` parameter, but
		 * cannot be overridden by user interaction with the table. What this means
		 * is that you could have a column (visible or hidden) which the sorting
		 * will always be forced on first - any sorting after that (from the user)
		 * will then be performed as required. This can be useful for grouping rows
		 * together.
		 *  @type array
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.orderFixed
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "orderFixed": [[0,'asc']]
		 *      } );
		 *    } )
		 */
		"aaSortingFixed": [],
	
	
		/**
		 * DataTables can be instructed to load data to display in the table from a
		 * Ajax source. This option defines how that Ajax call is made and where to.
		 *
		 * The `ajax` property has three different modes of operation, depending on
		 * how it is defined. These are:
		 *
		 * * `string` - Set the URL from where the data should be loaded from.
		 * * `object` - Define properties for `jQuery.ajax`.
		 * * `function` - Custom data get function
		 *
		 * `string`
		 * --------
		 *
		 * As a string, the `ajax` property simply defines the URL from which
		 * DataTables will load data.
		 *
		 * `object`
		 * --------
		 *
		 * As an object, the parameters in the object are passed to
		 * [jQuery.ajax](http://api.jquery.com/jQuery.ajax/) allowing fine control
		 * of the Ajax request. DataTables has a number of default parameters which
		 * you can override using this option. Please refer to the jQuery
		 * documentation for a full description of the options available, although
		 * the following parameters provide additional options in DataTables or
		 * require special consideration:
		 *
		 * * `data` - As with jQuery, `data` can be provided as an object, but it
		 *   can also be used as a function to manipulate the data DataTables sends
		 *   to the server. The function takes a single parameter, an object of
		 *   parameters with the values that DataTables has readied for sending. An
		 *   object may be returned which will be merged into the DataTables
		 *   defaults, or you can add the items to the object that was passed in and
		 *   not return anything from the function. This supersedes `fnServerParams`
		 *   from DataTables 1.9-.
		 *
		 * * `dataSrc` - By default DataTables will look for the property `data` (or
		 *   `aaData` for compatibility with DataTables 1.9-) when obtaining data
		 *   from an Ajax source or for server-side processing - this parameter
		 *   allows that property to be changed. You can use Javascript dotted
		 *   object notation to get a data source for multiple levels of nesting, or
		 *   it my be used as a function. As a function it takes a single parameter,
		 *   the JSON returned from the server, which can be manipulated as
		 *   required, with the returned value being that used by DataTables as the
		 *   data source for the table. This supersedes `sAjaxDataProp` from
		 *   DataTables 1.9-.
		 *
		 * * `success` - Should not be overridden it is used internally in
		 *   DataTables. To manipulate / transform the data returned by the server
		 *   use `ajax.dataSrc`, or use `ajax` as a function (see below).
		 *
		 * `function`
		 * ----------
		 *
		 * As a function, making the Ajax call is left up to yourself allowing
		 * complete control of the Ajax request. Indeed, if desired, a method other
		 * than Ajax could be used to obtain the required data, such as Web storage
		 * or an AIR database.
		 *
		 * The function is given four parameters and no return is required. The
		 * parameters are:
		 *
		 * 1. _object_ - Data to send to the server
		 * 2. _function_ - Callback function that must be executed when the required
		 *    data has been obtained. That data should be passed into the callback
		 *    as the only parameter
		 * 3. _object_ - DataTables settings object for the table
		 *
		 * Note that this supersedes `fnServerData` from DataTables 1.9-.
		 *
		 *  @type string|object|function
		 *  @default null
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.ajax
		 *  @since 1.10.0
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax.
		 *   // Note DataTables expects data in the form `{ data: [ ...data... ] }` by default).
		 *   $('#example').dataTable( {
		 *     "ajax": "data.json"
		 *   } );
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax, using `dataSrc` to change
		 *   // `data` to `tableData` (i.e. `{ tableData: [ ...data... ] }`)
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": "tableData"
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Get JSON data from a file via Ajax, using `dataSrc` to read data
		 *   // from a plain array rather than an array in an object
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": ""
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Manipulate the data returned from the server - add a link to data
		 *   // (note this can, should, be done using `render` for the column - this
		 *   // is just a simple example of how the data can be manipulated).
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "dataSrc": function ( json ) {
		 *         for ( var i=0, ien=json.length ; i<ien ; i++ ) {
		 *           json[i][0] = '<a href="/message/'+json[i][0]+'>View message</a>';
		 *         }
		 *         return json;
		 *       }
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Add data to the request
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "data": function ( d ) {
		 *         return {
		 *           "extra_search": $('#extra').val()
		 *         };
		 *       }
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Send request as POST
		 *   $('#example').dataTable( {
		 *     "ajax": {
		 *       "url": "data.json",
		 *       "type": "POST"
		 *     }
		 *   } );
		 *
		 * @example
		 *   // Get the data from localStorage (could interface with a form for
		 *   // adding, editing and removing rows).
		 *   $('#example').dataTable( {
		 *     "ajax": function (data, callback, settings) {
		 *       callback(
		 *         JSON.parse( localStorage.getItem('dataTablesData') )
		 *       );
		 *     }
		 *   } );
		 */
		"ajax": null,
	
	
		/**
		 * This parameter allows you to readily specify the entries in the length drop
		 * down menu that DataTables shows when pagination is enabled. It can be
		 * either a 1D array of options which will be used for both the displayed
		 * option and the value, or a 2D array which will use the array in the first
		 * position as the value, and the array in the second position as the
		 * displayed options (useful for language strings such as 'All').
		 *
		 * Note that the `pageLength` property will be automatically set to the
		 * first value given in this array, unless `pageLength` is also provided.
		 *  @type array
		 *  @default [ 10, 25, 50, 100 ]
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.lengthMenu
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]
		 *      } );
		 *    } );
		 */
		"aLengthMenu": [ 10, 25, 50, 100 ],
	
	
		/**
		 * The `columns` option in the initialisation parameter allows you to define
		 * details about the way individual columns behave. For a full list of
		 * column options that can be set, please see
		 * {@link DataTable.defaults.column}. Note that if you use `columns` to
		 * define your columns, you must have an entry in the array for every single
		 * column that you have in your table (these can be null if you don't which
		 * to specify any options).
		 *  @member
		 *
		 *  @name DataTable.defaults.column
		 */
		"aoColumns": null,
	
		/**
		 * Very similar to `columns`, `columnDefs` allows you to target a specific
		 * column, multiple columns, or all columns, using the `targets` property of
		 * each object in the array. This allows great flexibility when creating
		 * tables, as the `columnDefs` arrays can be of any length, targeting the
		 * columns you specifically want. `columnDefs` may use any of the column
		 * options available: {@link DataTable.defaults.column}, but it _must_
		 * have `targets` defined in each object in the array. Values in the `targets`
		 * array may be:
		 *   <ul>
		 *     <li>a string - class name will be matched on the TH for the column</li>
		 *     <li>0 or a positive integer - column index counting from the left</li>
		 *     <li>a negative integer - column index counting from the right</li>
		 *     <li>the string "_all" - all columns (i.e. assign a default)</li>
		 *   </ul>
		 *  @member
		 *
		 *  @name DataTable.defaults.columnDefs
		 */
		"aoColumnDefs": null,
	
	
		/**
		 * Basically the same as `search`, this parameter defines the individual column
		 * filtering state at initialisation time. The array must be of the same size
		 * as the number of columns, and each element be an object with the parameters
		 * `search` and `escapeRegex` (the latter is optional). 'null' is also
		 * accepted and the default will be used.
		 *  @type array
		 *  @default []
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.searchCols
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "searchCols": [
		 *          null,
		 *          { "search": "My filter" },
		 *          null,
		 *          { "search": "^[0-9]", "escapeRegex": false }
		 *        ]
		 *      } );
		 *    } )
		 */
		"aoSearchCols": [],
	
	
		/**
		 * An array of CSS classes that should be applied to displayed rows. This
		 * array may be of any length, and DataTables will apply each class
		 * sequentially, looping when required.
		 *  @type array
		 *  @default null <i>Will take the values determined by the `oClasses.stripe*`
		 *    options</i>
		 *
		 *  @dtopt Option
		 *  @name DataTable.defaults.stripeClasses
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stripeClasses": [ 'strip1', 'strip2', 'strip3' ]
		 *      } );
		 *    } )
		 */
		"asStripeClasses": null,
	
	
		/**
		 * Enable or disable automatic column width calculation. This can be disabled
		 * as an optimisation (it takes some time to calculate the widths) if the
		 * tables widths are passed in using `columns`.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.autoWidth
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "autoWidth": false
		 *      } );
		 *    } );
		 */
		"bAutoWidth": true,
	
	
		/**
		 * Deferred rendering can provide DataTables with a huge speed boost when you
		 * are using an Ajax or JS data source for the table. This option, when set to
		 * true, will cause DataTables to defer the creation of the table elements for
		 * each row until they are needed for a draw - saving a significant amount of
		 * time.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.deferRender
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajax": "sources/arrays.txt",
		 *        "deferRender": true
		 *      } );
		 *    } );
		 */
		"bDeferRender": false,
	
	
		/**
		 * Replace a DataTable which matches the given selector and replace it with
		 * one which has the properties of the new initialisation object passed. If no
		 * table matches the selector, then the new DataTable will be constructed as
		 * per normal.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.destroy
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "srollY": "200px",
		 *        "paginate": false
		 *      } );
		 *
		 *      // Some time later....
		 *      $('#example').dataTable( {
		 *        "filter": false,
		 *        "destroy": true
		 *      } );
		 *    } );
		 */
		"bDestroy": false,
	
	
		/**
		 * Enable or disable filtering of data. Filtering in DataTables is "smart" in
		 * that it allows the end user to input multiple words (space separated) and
		 * will match a row containing those words, even if not in the order that was
		 * specified (this allow matching across multiple columns). Note that if you
		 * wish to use filtering in DataTables this must remain 'true' - to remove the
		 * default filtering input box and retain filtering abilities, please use
		 * {@link DataTable.defaults.dom}.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.searching
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "searching": false
		 *      } );
		 *    } );
		 */
		"bFilter": true,
	
	
		/**
		 * Enable or disable the table information display. This shows information
		 * about the data that is currently visible on the page, including information
		 * about filtered data if that action is being performed.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.info
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "info": false
		 *      } );
		 *    } );
		 */
		"bInfo": true,
	
	
		/**
		 * Enable jQuery UI ThemeRoller support (required as ThemeRoller requires some
		 * slightly different and additional mark-up from what DataTables has
		 * traditionally used).
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.jQueryUI
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "jQueryUI": true
		 *      } );
		 *    } );
		 */
		"bJQueryUI": false,
	
	
		/**
		 * Allows the end user to select the size of a formatted page from a select
		 * menu (sizes are 10, 25, 50 and 100). Requires pagination (`paginate`).
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.lengthChange
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "lengthChange": false
		 *      } );
		 *    } );
		 */
		"bLengthChange": true,
	
	
		/**
		 * Enable or disable pagination.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.paging
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "paging": false
		 *      } );
		 *    } );
		 */
		"bPaginate": true,
	
	
		/**
		 * Enable or disable the display of a 'processing' indicator when the table is
		 * being processed (e.g. a sort). This is particularly useful for tables with
		 * large amounts of data where it can take a noticeable amount of time to sort
		 * the entries.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.processing
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "processing": true
		 *      } );
		 *    } );
		 */
		"bProcessing": false,
	
	
		/**
		 * Retrieve the DataTables object for the given selector. Note that if the
		 * table has already been initialised, this parameter will cause DataTables
		 * to simply return the object that has already been set up - it will not take
		 * account of any changes you might have made to the initialisation object
		 * passed to DataTables (setting this parameter to true is an acknowledgement
		 * that you understand this). `destroy` can be used to reinitialise a table if
		 * you need.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.retrieve
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      initTable();
		 *      tableActions();
		 *    } );
		 *
		 *    function initTable ()
		 *    {
		 *      return $('#example').dataTable( {
		 *        "scrollY": "200px",
		 *        "paginate": false,
		 *        "retrieve": true
		 *      } );
		 *    }
		 *
		 *    function tableActions ()
		 *    {
		 *      var table = initTable();
		 *      // perform API operations with oTable
		 *    }
		 */
		"bRetrieve": false,
	
	
		/**
		 * When vertical (y) scrolling is enabled, DataTables will force the height of
		 * the table's viewport to the given height at all times (useful for layout).
		 * However, this can look odd when filtering data down to a small data set,
		 * and the footer is left "floating" further down. This parameter (when
		 * enabled) will cause DataTables to collapse the table's viewport down when
		 * the result set will fit within the given Y height.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.scrollCollapse
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollY": "200",
		 *        "scrollCollapse": true
		 *      } );
		 *    } );
		 */
		"bScrollCollapse": false,
	
	
		/**
		 * Configure DataTables to use server-side processing. Note that the
		 * `ajax` parameter must also be given in order to give DataTables a
		 * source to obtain the required data for each draw.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverSide
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "xhr.php"
		 *      } );
		 *    } );
		 */
		"bServerSide": false,
	
	
		/**
		 * Enable or disable sorting of columns. Sorting of individual columns can be
		 * disabled by the `sortable` option for each column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.ordering
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "ordering": false
		 *      } );
		 *    } );
		 */
		"bSort": true,
	
	
		/**
		 * Enable or display DataTables' ability to sort multiple columns at the
		 * same time (activated by shift-click by the user).
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.orderMulti
		 *
		 *  @example
		 *    // Disable multiple column sorting ability
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "orderMulti": false
		 *      } );
		 *    } );
		 */
		"bSortMulti": true,
	
	
		/**
		 * Allows control over whether DataTables should use the top (true) unique
		 * cell that is found for a single column, or the bottom (false - default).
		 * This is useful when using complex headers.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.orderCellsTop
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "orderCellsTop": true
		 *      } );
		 *    } );
		 */
		"bSortCellsTop": false,
	
	
		/**
		 * Enable or disable the addition of the classes `sorting\_1`, `sorting\_2` and
		 * `sorting\_3` to the columns which are currently being sorted on. This is
		 * presented as a feature switch as it can increase processing time (while
		 * classes are removed and added) so for large data sets you might want to
		 * turn this off.
		 *  @type boolean
		 *  @default true
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.orderClasses
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "orderClasses": false
		 *      } );
		 *    } );
		 */
		"bSortClasses": true,
	
	
		/**
		 * Enable or disable state saving. When enabled HTML5 `localStorage` will be
		 * used to save table display information such as pagination information,
		 * display length, filtering and sorting. As such when the end user reloads
		 * the page the display display will match what thy had previously set up.
		 *
		 * Due to the use of `localStorage` the default state saving is not supported
		 * in IE6 or 7. If state saving is required in those browsers, use
		 * `stateSaveCallback` to provide a storage solution such as cookies.
		 *  @type boolean
		 *  @default false
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.stateSave
		 *
		 *  @example
		 *    $(document).ready( function () {
		 *      $('#example').dataTable( {
		 *        "stateSave": true
		 *      } );
		 *    } );
		 */
		"bStateSave": false,
	
	
		/**
		 * This function is called when a TR element is created (and all TD child
		 * elements have been inserted), or registered if using a DOM source, allowing
		 * manipulation of the TR element (adding classes etc).
		 *  @type function
		 *  @param {node} row "TR" element for the current row
		 *  @param {array} data Raw data array for this row
		 *  @param {int} dataIndex The index of this row in the internal aoData array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.createdRow
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "createdRow": function( row, data, dataIndex ) {
		 *          // Bold the grade for all 'A' grade browsers
		 *          if ( data[4] == "A" )
		 *          {
		 *            $('td:eq(4)', row).html( '<b>A</b>' );
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnCreatedRow": null,
	
	
		/**
		 * This function is called on every 'draw' event, and allows you to
		 * dynamically modify any aspect you want about the created DOM.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.drawCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "drawCallback": function( settings ) {
		 *          alert( 'DataTables has redrawn the table' );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnDrawCallback": null,
	
	
		/**
		 * Identical to fnHeaderCallback() but for the table footer this function
		 * allows you to modify the table footer on every 'draw' event.
		 *  @type function
		 *  @param {node} foot "TR" element for the footer
		 *  @param {array} data Full table data (as derived from the original HTML)
		 *  @param {int} start Index for the current display starting point in the
		 *    display array
		 *  @param {int} end Index for the current display ending point in the
		 *    display array
		 *  @param {array int} display Index array to translate the visual position
		 *    to the full data array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.footerCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "footerCallback": function( tfoot, data, start, end, display ) {
		 *          tfoot.getElementsByTagName('th')[0].innerHTML = "Starting index is "+start;
		 *        }
		 *      } );
		 *    } )
		 */
		"fnFooterCallback": null,
	
	
		/**
		 * When rendering large numbers in the information element for the table
		 * (i.e. "Showing 1 to 10 of 57 entries") DataTables will render large numbers
		 * to have a comma separator for the 'thousands' units (e.g. 1 million is
		 * rendered as "1,000,000") to help readability for the end user. This
		 * function will override the default method DataTables uses.
		 *  @type function
		 *  @member
		 *  @param {int} toFormat number to be formatted
		 *  @returns {string} formatted string for DataTables to show the number
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.formatNumber
		 *
		 *  @example
		 *    // Format a number using a single quote for the separator (note that
		 *    // this can also be done with the language.thousands option)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "formatNumber": function ( toFormat ) {
		 *          return toFormat.toString().replace(
		 *            /\B(?=(\d{3})+(?!\d))/g, "'"
		 *          );
		 *        };
		 *      } );
		 *    } );
		 */
		"fnFormatNumber": function ( toFormat ) {
			return toFormat.toString().replace(
				/\B(?=(\d{3})+(?!\d))/g,
				this.oLanguage.sThousands
			);
		},
	
	
		/**
		 * This function is called on every 'draw' event, and allows you to
		 * dynamically modify the header row. This can be used to calculate and
		 * display useful information about the table.
		 *  @type function
		 *  @param {node} head "TR" element for the header
		 *  @param {array} data Full table data (as derived from the original HTML)
		 *  @param {int} start Index for the current display starting point in the
		 *    display array
		 *  @param {int} end Index for the current display ending point in the
		 *    display array
		 *  @param {array int} display Index array to translate the visual position
		 *    to the full data array
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.headerCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "fheaderCallback": function( head, data, start, end, display ) {
		 *          head.getElementsByTagName('th')[0].innerHTML = "Displaying "+(end-start)+" records";
		 *        }
		 *      } );
		 *    } )
		 */
		"fnHeaderCallback": null,
	
	
		/**
		 * The information element can be used to convey information about the current
		 * state of the table. Although the internationalisation options presented by
		 * DataTables are quite capable of dealing with most customisations, there may
		 * be times where you wish to customise the string further. This callback
		 * allows you to do exactly that.
		 *  @type function
		 *  @param {object} oSettings DataTables settings object
		 *  @param {int} start Starting position in data for the draw
		 *  @param {int} end End position in data for the draw
		 *  @param {int} max Total number of rows in the table (regardless of
		 *    filtering)
		 *  @param {int} total Total number of rows in the data set, after filtering
		 *  @param {string} pre The string that DataTables has formatted using it's
		 *    own rules
		 *  @returns {string} The string to be displayed in the information element.
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.infoCallback
		 *
		 *  @example
		 *    $('#example').dataTable( {
		 *      "infoCallback": function( settings, start, end, max, total, pre ) {
		 *        return start +" to "+ end;
		 *      }
		 *    } );
		 */
		"fnInfoCallback": null,
	
	
		/**
		 * Called when the table has been initialised. Normally DataTables will
		 * initialise sequentially and there will be no need for this function,
		 * however, this does not hold true when using external language information
		 * since that is obtained using an async XHR call.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} json The JSON object request from the server - only
		 *    present if client-side Ajax sourced data is used
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.initComplete
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "initComplete": function(settings, json) {
		 *          alert( 'DataTables has finished its initialisation.' );
		 *        }
		 *      } );
		 *    } )
		 */
		"fnInitComplete": null,
	
	
		/**
		 * Called at the very start of each table draw and can be used to cancel the
		 * draw by returning false, any other return (including undefined) results in
		 * the full draw occurring).
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @returns {boolean} False will cancel the draw, anything else (including no
		 *    return) will allow it to complete.
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.preDrawCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "preDrawCallback": function( settings ) {
		 *          if ( $('#test').val() == 1 ) {
		 *            return false;
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnPreDrawCallback": null,
	
	
		/**
		 * This function allows you to 'post process' each row after it have been
		 * generated for each table draw, but before it is rendered on screen. This
		 * function might be used for setting the row class name etc.
		 *  @type function
		 *  @param {node} row "TR" element for the current row
		 *  @param {array} data Raw data array for this row
		 *  @param {int} displayIndex The display index for the current table draw
		 *  @param {int} displayIndexFull The index of the data in the full list of
		 *    rows (after filtering)
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.rowCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "rowCallback": function( row, data, displayIndex, displayIndexFull ) {
		 *          // Bold the grade for all 'A' grade browsers
		 *          if ( data[4] == "A" ) {
		 *            $('td:eq(4)', row).html( '<b>A</b>' );
		 *          }
		 *        }
		 *      } );
		 *    } );
		 */
		"fnRowCallback": null,
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * This parameter allows you to override the default function which obtains
		 * the data from the server so something more suitable for your application.
		 * For example you could use POST data, or pull information from a Gears or
		 * AIR database.
		 *  @type function
		 *  @member
		 *  @param {string} source HTTP source to obtain the data from (`ajax`)
		 *  @param {array} data A key/value pair object containing the data to send
		 *    to the server
		 *  @param {function} callback to be called on completion of the data get
		 *    process that will draw the data on the page.
		 *  @param {object} settings DataTables settings object
		 *
		 *  @dtopt Callbacks
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverData
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"fnServerData": null,
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 *  It is often useful to send extra data to the server when making an Ajax
		 * request - for example custom filtering information, and this callback
		 * function makes it trivial to send extra information to the server. The
		 * passed in parameter is the data set that has been constructed by
		 * DataTables, and you can add to this or modify it as you require.
		 *  @type function
		 *  @param {array} data Data array (array of objects which are name/value
		 *    pairs) that has been constructed by DataTables and will be sent to the
		 *    server. In the case of Ajax sourced data with server-side processing
		 *    this will be an empty array, for server-side processing there will be a
		 *    significant number of parameters!
		 *  @returns {undefined} Ensure that you modify the data array passed in,
		 *    as this is passed by reference.
		 *
		 *  @dtopt Callbacks
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverParams
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"fnServerParams": null,
	
	
		/**
		 * Load the table state. With this function you can define from where, and how, the
		 * state of a table is loaded. By default DataTables will load from `localStorage`
		 * but you might wish to use a server-side database or cookies.
		 *  @type function
		 *  @member
		 *  @param {object} settings DataTables settings object
		 *  @return {object} The DataTables state object to be loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoadCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadCallback": function (settings) {
		 *          var o;
		 *
		 *          // Send an Ajax request to the server to get the data. Note that
		 *          // this is a synchronous request.
		 *          $.ajax( {
		 *            "url": "/state_load",
		 *            "async": false,
		 *            "dataType": "json",
		 *            "success": function (json) {
		 *              o = json;
		 *            }
		 *          } );
		 *
		 *          return o;
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoadCallback": function ( settings ) {
			try {
				return JSON.parse(
					(settings.iStateDuration === -1 ? sessionStorage : localStorage).getItem(
						'DataTables_'+settings.sInstance+'_'+location.pathname
					)
				);
			} catch (e) {}
		},
	
	
		/**
		 * Callback which allows modification of the saved state prior to loading that state.
		 * This callback is called when the table is loading state from the stored data, but
		 * prior to the settings object being modified by the saved state. Note that for
		 * plug-in authors, you should use the `stateLoadParams` event to load parameters for
		 * a plug-in.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object that is to be loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoadParams
		 *
		 *  @example
		 *    // Remove a saved filter, so filtering is never loaded
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadParams": function (settings, data) {
		 *          data.oSearch.sSearch = "";
		 *        }
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Disallow state loading by returning false
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoadParams": function (settings, data) {
		 *          return false;
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoadParams": null,
	
	
		/**
		 * Callback that is called when the state has been loaded from the state saving method
		 * and the DataTables settings object has been modified as a result of the loaded state.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object that was loaded
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateLoaded
		 *
		 *  @example
		 *    // Show an alert with the filtering value that was saved
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateLoaded": function (settings, data) {
		 *          alert( 'Saved filter was: '+data.oSearch.sSearch );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateLoaded": null,
	
	
		/**
		 * Save the table state. This function allows you to define where and how the state
		 * information for the table is stored By default DataTables will use `localStorage`
		 * but you might wish to use a server-side database or cookies.
		 *  @type function
		 *  @member
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object to be saved
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateSaveCallback
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateSaveCallback": function (settings, data) {
		 *          // Send an Ajax request to the server with the state object
		 *          $.ajax( {
		 *            "url": "/state_save",
		 *            "data": data,
		 *            "dataType": "json",
		 *            "method": "POST"
		 *            "success": function () {}
		 *          } );
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateSaveCallback": function ( settings, data ) {
			try {
				(settings.iStateDuration === -1 ? sessionStorage : localStorage).setItem(
					'DataTables_'+settings.sInstance+'_'+location.pathname,
					JSON.stringify( data )
				);
			} catch (e) {}
		},
	
	
		/**
		 * Callback which allows modification of the state to be saved. Called when the table
		 * has changed state a new state save is required. This method allows modification of
		 * the state saving object prior to actually doing the save, including addition or
		 * other state properties or modification. Note that for plug-in authors, you should
		 * use the `stateSaveParams` event to save parameters for a plug-in.
		 *  @type function
		 *  @param {object} settings DataTables settings object
		 *  @param {object} data The state object to be saved
		 *
		 *  @dtopt Callbacks
		 *  @name DataTable.defaults.stateSaveParams
		 *
		 *  @example
		 *    // Remove a saved filter, so filtering is never saved
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateSave": true,
		 *        "stateSaveParams": function (settings, data) {
		 *          data.oSearch.sSearch = "";
		 *        }
		 *      } );
		 *    } );
		 */
		"fnStateSaveParams": null,
	
	
		/**
		 * Duration for which the saved state information is considered valid. After this period
		 * has elapsed the state will be returned to the default.
		 * Value is given in seconds.
		 *  @type int
		 *  @default 7200 <i>(2 hours)</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.stateDuration
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "stateDuration": 60*60*24; // 1 day
		 *      } );
		 *    } )
		 */
		"iStateDuration": 7200,
	
	
		/**
		 * When enabled DataTables will not make a request to the server for the first
		 * page draw - rather it will use the data already on the page (no sorting etc
		 * will be applied to it), thus saving on an XHR at load time. `deferLoading`
		 * is used to indicate that deferred loading is required, but it is also used
		 * to tell DataTables how many records there are in the full table (allowing
		 * the information element and pagination to be displayed correctly). In the case
		 * where a filtering is applied to the table on initial load, this can be
		 * indicated by giving the parameter as an array, where the first element is
		 * the number of records available after filtering and the second element is the
		 * number of records without filtering (allowing the table information element
		 * to be shown correctly).
		 *  @type int | array
		 *  @default null
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.deferLoading
		 *
		 *  @example
		 *    // 57 records available in the table, no filtering applied
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "scripts/server_processing.php",
		 *        "deferLoading": 57
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // 57 records after filtering, 100 without filtering (an initial filter applied)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "serverSide": true,
		 *        "ajax": "scripts/server_processing.php",
		 *        "deferLoading": [ 57, 100 ],
		 *        "search": {
		 *          "search": "my_filter"
		 *        }
		 *      } );
		 *    } );
		 */
		"iDeferLoading": null,
	
	
		/**
		 * Number of rows to display on a single page when using pagination. If
		 * feature enabled (`lengthChange`) then the end user will be able to override
		 * this to a custom setting using a pop-up menu.
		 *  @type int
		 *  @default 10
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.pageLength
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "pageLength": 50
		 *      } );
		 *    } )
		 */
		"iDisplayLength": 10,
	
	
		/**
		 * Define the starting point for data display when using DataTables with
		 * pagination. Note that this parameter is the number of records, rather than
		 * the page number, so if you have 10 records per page and want to start on
		 * the third page, it should be "20".
		 *  @type int
		 *  @default 0
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.displayStart
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "displayStart": 20
		 *      } );
		 *    } )
		 */
		"iDisplayStart": 0,
	
	
		/**
		 * By default DataTables allows keyboard navigation of the table (sorting, paging,
		 * and filtering) by adding a `tabindex` attribute to the required elements. This
		 * allows you to tab through the controls and press the enter key to activate them.
		 * The tabindex is default 0, meaning that the tab follows the flow of the document.
		 * You can overrule this using this parameter if you wish. Use a value of -1 to
		 * disable built-in keyboard navigation.
		 *  @type int
		 *  @default 0
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.tabIndex
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "tabIndex": 1
		 *      } );
		 *    } );
		 */
		"iTabIndex": 0,
	
	
		/**
		 * Classes that DataTables assigns to the various components and features
		 * that it adds to the HTML table. This allows classes to be configured
		 * during initialisation in addition to through the static
		 * {@link DataTable.ext.oStdClasses} object).
		 *  @namespace
		 *  @name DataTable.defaults.classes
		 */
		"oClasses": {},
	
	
		/**
		 * All strings that DataTables uses in the user interface that it creates
		 * are defined in this object, allowing you to modified them individually or
		 * completely replace them all as required.
		 *  @namespace
		 *  @name DataTable.defaults.language
		 */
		"oLanguage": {
			/**
			 * Strings that are used for WAI-ARIA labels and controls only (these are not
			 * actually visible on the page, but will be read by screenreaders, and thus
			 * must be internationalised as well).
			 *  @namespace
			 *  @name DataTable.defaults.language.aria
			 */
			"oAria": {
				/**
				 * ARIA label that is added to the table headers when the column may be
				 * sorted ascending by activing the column (click or return when focused).
				 * Note that the column header is prefixed to this string.
				 *  @type string
				 *  @default : activate to sort column ascending
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.aria.sortAscending
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "aria": {
				 *            "sortAscending": " - click/return to sort ascending"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sSortAscending": ": activate to sort column ascending",
	
				/**
				 * ARIA label that is added to the table headers when the column may be
				 * sorted descending by activing the column (click or return when focused).
				 * Note that the column header is prefixed to this string.
				 *  @type string
				 *  @default : activate to sort column ascending
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.aria.sortDescending
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "aria": {
				 *            "sortDescending": " - click/return to sort descending"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sSortDescending": ": activate to sort column descending"
			},
	
			/**
			 * Pagination string used by DataTables for the built-in pagination
			 * control types.
			 *  @namespace
			 *  @name DataTable.defaults.language.paginate
			 */
			"oPaginate": {
				/**
				 * Text to use when using the 'full_numbers' type of pagination for the
				 * button to take the user to the first page.
				 *  @type string
				 *  @default First
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.first
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "first": "First page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sFirst": "First",
	
	
				/**
				 * Text to use when using the 'full_numbers' type of pagination for the
				 * button to take the user to the last page.
				 *  @type string
				 *  @default Last
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.last
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "last": "Last page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sLast": "Last",
	
	
				/**
				 * Text to use for the 'next' pagination button (to take the user to the
				 * next page).
				 *  @type string
				 *  @default Next
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.next
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "next": "Next page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sNext": "Next",
	
	
				/**
				 * Text to use for the 'previous' pagination button (to take the user to
				 * the previous page).
				 *  @type string
				 *  @default Previous
				 *
				 *  @dtopt Language
				 *  @name DataTable.defaults.language.paginate.previous
				 *
				 *  @example
				 *    $(document).ready( function() {
				 *      $('#example').dataTable( {
				 *        "language": {
				 *          "paginate": {
				 *            "previous": "Previous page"
				 *          }
				 *        }
				 *      } );
				 *    } );
				 */
				"sPrevious": "Previous"
			},
	
			/**
			 * This string is shown in preference to `zeroRecords` when the table is
			 * empty of data (regardless of filtering). Note that this is an optional
			 * parameter - if it is not given, the value of `zeroRecords` will be used
			 * instead (either the default or given value).
			 *  @type string
			 *  @default No data available in table
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.emptyTable
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "emptyTable": "No data available in table"
			 *        }
			 *      } );
			 *    } );
			 */
			"sEmptyTable": "No data available in table",
	
	
			/**
			 * This string gives information to the end user about the information
			 * that is current on display on the page. The following tokens can be
			 * used in the string and will be dynamically replaced as the table
			 * display updates. This tokens can be placed anywhere in the string, or
			 * removed as needed by the language requires:
			 *
			 * * `\_START\_` - Display index of the first record on the current page
			 * * `\_END\_` - Display index of the last record on the current page
			 * * `\_TOTAL\_` - Number of records in the table after filtering
			 * * `\_MAX\_` - Number of records in the table without filtering
			 * * `\_PAGE\_` - Current page number
			 * * `\_PAGES\_` - Total number of pages of data in the table
			 *
			 *  @type string
			 *  @default Showing _START_ to _END_ of _TOTAL_ entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.info
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "info": "Showing page _PAGE_ of _PAGES_"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfo": "Showing _START_ to _END_ of _TOTAL_ entries",
	
	
			/**
			 * Display information string for when the table is empty. Typically the
			 * format of this string should match `info`.
			 *  @type string
			 *  @default Showing 0 to 0 of 0 entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoEmpty
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoEmpty": "No entries to show"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoEmpty": "Showing 0 to 0 of 0 entries",
	
	
			/**
			 * When a user filters the information in a table, this string is appended
			 * to the information (`info`) to give an idea of how strong the filtering
			 * is. The variable _MAX_ is dynamically updated.
			 *  @type string
			 *  @default (filtered from _MAX_ total entries)
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoFiltered
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoFiltered": " - filtering from _MAX_ records"
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoFiltered": "(filtered from _MAX_ total entries)",
	
	
			/**
			 * If can be useful to append extra information to the info string at times,
			 * and this variable does exactly that. This information will be appended to
			 * the `info` (`infoEmpty` and `infoFiltered` in whatever combination they are
			 * being used) at all times.
			 *  @type string
			 *  @default <i>Empty string</i>
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.infoPostFix
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "infoPostFix": "All records shown are derived from real information."
			 *        }
			 *      } );
			 *    } );
			 */
			"sInfoPostFix": "",
	
	
			/**
			 * This decimal place operator is a little different from the other
			 * language options since DataTables doesn't output floating point
			 * numbers, so it won't ever use this for display of a number. Rather,
			 * what this parameter does is modify the sort methods of the table so
			 * that numbers which are in a format which has a character other than
			 * a period (`.`) as a decimal place will be sorted numerically.
			 *
			 * Note that numbers with different decimal places cannot be shown in
			 * the same table and still be sortable, the table must be consistent.
			 * However, multiple different tables on the page can use different
			 * decimal place characters.
			 *  @type string
			 *  @default 
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.decimal
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "decimal": ","
			 *          "thousands": "."
			 *        }
			 *      } );
			 *    } );
			 */
			"sDecimal": "",
	
	
			/**
			 * DataTables has a build in number formatter (`formatNumber`) which is
			 * used to format large numbers that are used in the table information.
			 * By default a comma is used, but this can be trivially changed to any
			 * character you wish with this parameter.
			 *  @type string
			 *  @default ,
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.thousands
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "thousands": "'"
			 *        }
			 *      } );
			 *    } );
			 */
			"sThousands": ",",
	
	
			/**
			 * Detail the action that will be taken when the drop down menu for the
			 * pagination length option is changed. The '_MENU_' variable is replaced
			 * with a default select list of 10, 25, 50 and 100, and can be replaced
			 * with a custom select box if required.
			 *  @type string
			 *  @default Show _MENU_ entries
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.lengthMenu
			 *
			 *  @example
			 *    // Language change only
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "lengthMenu": "Display _MENU_ records"
			 *        }
			 *      } );
			 *    } );
			 *
			 *  @example
			 *    // Language and options change
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "lengthMenu": 'Display <select>'+
			 *            '<option value="10">10</option>'+
			 *            '<option value="20">20</option>'+
			 *            '<option value="30">30</option>'+
			 *            '<option value="40">40</option>'+
			 *            '<option value="50">50</option>'+
			 *            '<option value="-1">All</option>'+
			 *            '</select> records'
			 *        }
			 *      } );
			 *    } );
			 */
			"sLengthMenu": "Show _MENU_ entries",
	
	
			/**
			 * When using Ajax sourced data and during the first draw when DataTables is
			 * gathering the data, this message is shown in an empty row in the table to
			 * indicate to the end user the the data is being loaded. Note that this
			 * parameter is not used when loading data by server-side processing, just
			 * Ajax sourced data with client-side processing.
			 *  @type string
			 *  @default Loading...
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.loadingRecords
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "loadingRecords": "Please wait - loading..."
			 *        }
			 *      } );
			 *    } );
			 */
			"sLoadingRecords": "Loading...",
	
	
			/**
			 * Text which is displayed when the table is processing a user action
			 * (usually a sort command or similar).
			 *  @type string
			 *  @default Processing...
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.processing
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "processing": "DataTables is currently busy"
			 *        }
			 *      } );
			 *    } );
			 */
			"sProcessing": "Processing...",
	
	
			/**
			 * Details the actions that will be taken when the user types into the
			 * filtering input text box. The variable "_INPUT_", if used in the string,
			 * is replaced with the HTML text box for the filtering input allowing
			 * control over where it appears in the string. If "_INPUT_" is not given
			 * then the input box is appended to the string automatically.
			 *  @type string
			 *  @default Search:
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.search
			 *
			 *  @example
			 *    // Input text box will be appended at the end automatically
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "search": "Filter records:"
			 *        }
			 *      } );
			 *    } );
			 *
			 *  @example
			 *    // Specify where the filter should appear
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "search": "Apply filter _INPUT_ to table"
			 *        }
			 *      } );
			 *    } );
			 */
			"sSearch": "Search:",
	
	
			/**
			 * All of the language information can be stored in a file on the
			 * server-side, which DataTables will look up if this parameter is passed.
			 * It must store the URL of the language file, which is in a JSON format,
			 * and the object has the same properties as the oLanguage object in the
			 * initialiser object (i.e. the above parameters). Please refer to one of
			 * the example language files to see how this works in action.
			 *  @type string
			 *  @default <i>Empty string - i.e. disabled</i>
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.url
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "url": "http://www.sprymedia.co.uk/dataTables/lang.txt"
			 *        }
			 *      } );
			 *    } );
			 */
			"sUrl": "",
	
	
			/**
			 * Text shown inside the table records when the is no information to be
			 * displayed after filtering. `emptyTable` is shown when there is simply no
			 * information in the table at all (regardless of filtering).
			 *  @type string
			 *  @default No matching records found
			 *
			 *  @dtopt Language
			 *  @name DataTable.defaults.language.zeroRecords
			 *
			 *  @example
			 *    $(document).ready( function() {
			 *      $('#example').dataTable( {
			 *        "language": {
			 *          "zeroRecords": "No records to display"
			 *        }
			 *      } );
			 *    } );
			 */
			"sZeroRecords": "No matching records found"
		},
	
	
		/**
		 * This parameter allows you to have define the global filtering state at
		 * initialisation time. As an object the `search` parameter must be
		 * defined, but all other parameters are optional. When `regex` is true,
		 * the search string will be treated as a regular expression, when false
		 * (default) it will be treated as a straight string. When `smart`
		 * DataTables will use it's smart filtering methods (to word match at
		 * any point in the data), when false this will not be done.
		 *  @namespace
		 *  @extends DataTable.models.oSearch
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.search
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "search": {"search": "Initial search"}
		 *      } );
		 *    } )
		 */
		"oSearch": $.extend( {}, DataTable.models.oSearch ),
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * By default DataTables will look for the property `data` (or `aaData` for
		 * compatibility with DataTables 1.9-) when obtaining data from an Ajax
		 * source or for server-side processing - this parameter allows that
		 * property to be changed. You can use Javascript dotted object notation to
		 * get a data source for multiple levels of nesting.
		 *  @type string
		 *  @default data
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.ajaxDataProp
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sAjaxDataProp": "data",
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * You can instruct DataTables to load data from an external
		 * source using this parameter (use aData if you want to pass data in you
		 * already have). Simply provide a url a JSON object can be obtained from.
		 *  @type string
		 *  @default null
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.ajaxSource
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sAjaxSource": null,
	
	
		/**
		 * This initialisation variable allows you to specify exactly where in the
		 * DOM you want DataTables to inject the various controls it adds to the page
		 * (for example you might want the pagination controls at the top of the
		 * table). DIV elements (with or without a custom class) can also be added to
		 * aid styling. The follow syntax is used:
		 *   <ul>
		 *     <li>The following options are allowed:
		 *       <ul>
		 *         <li>'l' - Length changing</li>
		 *         <li>'f' - Filtering input</li>
		 *         <li>'t' - The table!</li>
		 *         <li>'i' - Information</li>
		 *         <li>'p' - Pagination</li>
		 *         <li>'r' - pRocessing</li>
		 *       </ul>
		 *     </li>
		 *     <li>The following constants are allowed:
		 *       <ul>
		 *         <li>'H' - jQueryUI theme "header" classes ('fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix')</li>
		 *         <li>'F' - jQueryUI theme "footer" classes ('fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix')</li>
		 *       </ul>
		 *     </li>
		 *     <li>The following syntax is expected:
		 *       <ul>
		 *         <li>'&lt;' and '&gt;' - div elements</li>
		 *         <li>'&lt;"class" and '&gt;' - div with a class</li>
		 *         <li>'&lt;"#id" and '&gt;' - div with an ID</li>
		 *       </ul>
		 *     </li>
		 *     <li>Examples:
		 *       <ul>
		 *         <li>'&lt;"wrapper"flipt&gt;'</li>
		 *         <li>'&lt;lf&lt;t&gt;ip&gt;'</li>
		 *       </ul>
		 *     </li>
		 *   </ul>
		 *  @type string
		 *  @default lfrtip <i>(when `jQueryUI` is false)</i> <b>or</b>
		 *    <"H"lfr>t<"F"ip> <i>(when `jQueryUI` is true)</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.dom
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "dom": '&lt;"top"i&gt;rt&lt;"bottom"flp&gt;&lt;"clear"&gt;'
		 *      } );
		 *    } );
		 */
		"sDom": "lfrtip",
	
	
		/**
		 * DataTables features four different built-in options for the buttons to
		 * display for pagination control:
		 *
		 * * `simple` - 'Previous' and 'Next' buttons only
		 * * 'simple_numbers` - 'Previous' and 'Next' buttons, plus page numbers
		 * * `full` - 'First', 'Previous', 'Next' and 'Last' buttons
		 * * `full_numbers` - 'First', 'Previous', 'Next' and 'Last' buttons, plus
		 *   page numbers
		 *  
		 * Further methods can be added using {@link DataTable.ext.oPagination}.
		 *  @type string
		 *  @default simple_numbers
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.pagingType
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "pagingType": "full_numbers"
		 *      } );
		 *    } )
		 */
		"sPaginationType": "simple_numbers",
	
	
		/**
		 * Enable horizontal scrolling. When a table is too wide to fit into a
		 * certain layout, or you have a large number of columns in the table, you
		 * can enable x-scrolling to show the table in a viewport, which can be
		 * scrolled. This property can be `true` which will allow the table to
		 * scroll horizontally when needed, or any CSS unit, or a number (in which
		 * case it will be treated as a pixel measurement). Setting as simply `true`
		 * is recommended.
		 *  @type boolean|string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.scrollX
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollX": true,
		 *        "scrollCollapse": true
		 *      } );
		 *    } );
		 */
		"sScrollX": "",
	
	
		/**
		 * This property can be used to force a DataTable to use more width than it
		 * might otherwise do when x-scrolling is enabled. For example if you have a
		 * table which requires to be well spaced, this parameter is useful for
		 * "over-sizing" the table, and thus forcing scrolling. This property can by
		 * any CSS unit, or a number (in which case it will be treated as a pixel
		 * measurement).
		 *  @type string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Options
		 *  @name DataTable.defaults.scrollXInner
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollX": "100%",
		 *        "scrollXInner": "110%"
		 *      } );
		 *    } );
		 */
		"sScrollXInner": "",
	
	
		/**
		 * Enable vertical scrolling. Vertical scrolling will constrain the DataTable
		 * to the given height, and enable scrolling for any data which overflows the
		 * current viewport. This can be used as an alternative to paging to display
		 * a lot of data in a small area (although paging and scrolling can both be
		 * enabled at the same time). This property can be any CSS unit, or a number
		 * (in which case it will be treated as a pixel measurement).
		 *  @type string
		 *  @default <i>blank string - i.e. disabled</i>
		 *
		 *  @dtopt Features
		 *  @name DataTable.defaults.scrollY
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "scrollY": "200px",
		 *        "paginate": false
		 *      } );
		 *    } );
		 */
		"sScrollY": "",
	
	
		/**
		 * __Deprecated__ The functionality provided by this parameter has now been
		 * superseded by that provided through `ajax`, which should be used instead.
		 *
		 * Set the HTTP method that is used to make the Ajax call for server-side
		 * processing or Ajax sourced data.
		 *  @type string
		 *  @default GET
		 *
		 *  @dtopt Options
		 *  @dtopt Server-side
		 *  @name DataTable.defaults.serverMethod
		 *
		 *  @deprecated 1.10. Please use `ajax` for this functionality now.
		 */
		"sServerMethod": "GET",
	
	
		/**
		 * DataTables makes use of renderers when displaying HTML elements for
		 * a table. These renderers can be added or modified by plug-ins to
		 * generate suitable mark-up for a site. For example the Bootstrap
		 * integration plug-in for DataTables uses a paging button renderer to
		 * display pagination buttons in the mark-up required by Bootstrap.
		 *
		 * For further information about the renderers available see
		 * DataTable.ext.renderer
		 *  @type string|object
		 *  @default null
		 *
		 *  @name DataTable.defaults.renderer
		 *
		 */
		"renderer": null
	};
	
	_fnHungarianMap( DataTable.defaults );
	
	
	
	/*
	 * Developer note - See note in model.defaults.js about the use of Hungarian
	 * notation and camel case.
	 */
	
	/**
	 * Column options that can be given to DataTables at initialisation time.
	 *  @namespace
	 */
	DataTable.defaults.column = {
		/**
		 * Define which column(s) an order will occur on for this column. This
		 * allows a column's ordering to take multiple columns into account when
		 * doing a sort or use the data from a different column. For example first
		 * name / last name columns make sense to do a multi-column sort over the
		 * two columns.
		 *  @type array|int
		 *  @default null <i>Takes the value of the column index automatically</i>
		 *
		 *  @name DataTable.defaults.column.orderData
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderData": [ 0, 1 ], "targets": [ 0 ] },
		 *          { "orderData": [ 1, 0 ], "targets": [ 1 ] },
		 *          { "orderData": 2, "targets": [ 2 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "orderData": [ 0, 1 ] },
		 *          { "orderData": [ 1, 0 ] },
		 *          { "orderData": 2 },
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"aDataSort": null,
		"iDataSort": -1,
	
	
		/**
		 * You can control the default ordering direction, and even alter the
		 * behaviour of the sort handler (i.e. only allow ascending ordering etc)
		 * using this parameter.
		 *  @type array
		 *  @default [ 'asc', 'desc' ]
		 *
		 *  @name DataTable.defaults.column.orderSequence
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderSequence": [ "asc" ], "targets": [ 1 ] },
		 *          { "orderSequence": [ "desc", "asc", "asc" ], "targets": [ 2 ] },
		 *          { "orderSequence": [ "desc" ], "targets": [ 3 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          { "orderSequence": [ "asc" ] },
		 *          { "orderSequence": [ "desc", "asc", "asc" ] },
		 *          { "orderSequence": [ "desc" ] },
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"asSorting": [ 'asc', 'desc' ],
	
	
		/**
		 * Enable or disable filtering on the data in this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.searchable
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "searchable": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "searchable": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bSearchable": true,
	
	
		/**
		 * Enable or disable ordering on this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.orderable
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderable": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "orderable": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bSortable": true,
	
	
		/**
		 * Enable or disable the display of this column.
		 *  @type boolean
		 *  @default true
		 *
		 *  @name DataTable.defaults.column.visible
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "visible": false, "targets": [ 0 ] }
		 *        ] } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "visible": false },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ] } );
		 *    } );
		 */
		"bVisible": true,
	
	
		/**
		 * Developer definable function that is called whenever a cell is created (Ajax source,
		 * etc) or processed for input (DOM source). This can be used as a compliment to mRender
		 * allowing you to modify the DOM element (add background colour for example) when the
		 * element is available.
		 *  @type function
		 *  @param {element} td The TD node that has been created
		 *  @param {*} cellData The Data for the cell
		 *  @param {array|object} rowData The data for the whole row
		 *  @param {int} row The row index for the aoData data store
		 *  @param {int} col The column index for aoColumns
		 *
		 *  @name DataTable.defaults.column.createdCell
		 *  @dtopt Columns
		 *
		 *  @example
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [3],
		 *          "createdCell": function (td, cellData, rowData, row, col) {
		 *            if ( cellData == "1.7" ) {
		 *              $(td).css('color', 'blue')
		 *            }
		 *          }
		 *        } ]
		 *      });
		 *    } );
		 */
		"fnCreatedCell": null,
	
	
		/**
		 * This parameter has been replaced by `data` in DataTables to ensure naming
		 * consistency. `dataProp` can still be used, as there is backwards
		 * compatibility in DataTables for this option, but it is strongly
		 * recommended that you use `data` in preference to `dataProp`.
		 *  @name DataTable.defaults.column.dataProp
		 */
	
	
		/**
		 * This property can be used to read data from any data source property,
		 * including deeply nested objects / properties. `data` can be given in a
		 * number of different ways which effect its behaviour:
		 *
		 * * `integer` - treated as an array index for the data source. This is the
		 *   default that DataTables uses (incrementally increased for each column).
		 * * `string` - read an object property from the data source. There are
		 *   three 'special' options that can be used in the string to alter how
		 *   DataTables reads the data from the source object:
		 *    * `.` - Dotted Javascript notation. Just as you use a `.` in
		 *      Javascript to read from nested objects, so to can the options
		 *      specified in `data`. For example: `browser.version` or
		 *      `browser.name`. If your object parameter name contains a period, use
		 *      `\\` to escape it - i.e. `first\\.name`.
		 *    * `[]` - Array notation. DataTables can automatically combine data
		 *      from and array source, joining the data with the characters provided
		 *      between the two brackets. For example: `name[, ]` would provide a
		 *      comma-space separated list from the source array. If no characters
		 *      are provided between the brackets, the original array source is
		 *      returned.
		 *    * `()` - Function notation. Adding `()` to the end of a parameter will
		 *      execute a function of the name given. For example: `browser()` for a
		 *      simple function on the data source, `browser.version()` for a
		 *      function in a nested property or even `browser().version` to get an
		 *      object property if the function called returns an object. Note that
		 *      function notation is recommended for use in `render` rather than
		 *      `data` as it is much simpler to use as a renderer.
		 * * `null` - use the original data source for the row rather than plucking
		 *   data directly from it. This action has effects on two other
		 *   initialisation options:
		 *    * `defaultContent` - When null is given as the `data` option and
		 *      `defaultContent` is specified for the column, the value defined by
		 *      `defaultContent` will be used for the cell.
		 *    * `render` - When null is used for the `data` option and the `render`
		 *      option is specified for the column, the whole data source for the
		 *      row is used for the renderer.
		 * * `function` - the function given will be executed whenever DataTables
		 *   needs to set or get the data for a cell in the column. The function
		 *   takes three parameters:
		 *    * Parameters:
		 *      * `{array|object}` The data source for the row
		 *      * `{string}` The type call data requested - this will be 'set' when
		 *        setting data or 'filter', 'display', 'type', 'sort' or undefined
		 *        when gathering data. Note that when `undefined` is given for the
		 *        type DataTables expects to get the raw data for the object back<
		 *      * `{*}` Data to set when the second parameter is 'set'.
		 *    * Return:
		 *      * The return value from the function is not required when 'set' is
		 *        the type of call, but otherwise the return is what will be used
		 *        for the data requested.
		 *
		 * Note that `data` is a getter and setter option. If you just require
		 * formatting of data for output, you will likely want to use `render` which
		 * is simply a getter and thus simpler to use.
		 *
		 * Note that prior to DataTables 1.9.2 `data` was called `mDataProp`. The
		 * name change reflects the flexibility of this property and is consistent
		 * with the naming of mRender. If 'mDataProp' is given, then it will still
		 * be used by DataTables, as it automatically maps the old name to the new
		 * if required.
		 *
		 *  @type string|int|function|null
		 *  @default null <i>Use automatically calculated column index</i>
		 *
		 *  @name DataTable.defaults.column.data
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Read table data from objects
		 *    // JSON structure for each row:
		 *    //   {
		 *    //      "engine": {value},
		 *    //      "browser": {value},
		 *    //      "platform": {value},
		 *    //      "version": {value},
		 *    //      "grade": {value}
		 *    //   }
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/objects.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          { "data": "platform" },
		 *          { "data": "version" },
		 *          { "data": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Read information from deeply nested objects
		 *    // JSON structure for each row:
		 *    //   {
		 *    //      "engine": {value},
		 *    //      "browser": {value},
		 *    //      "platform": {
		 *    //         "inner": {value}
		 *    //      },
		 *    //      "details": [
		 *    //         {value}, {value}
		 *    //      ]
		 *    //   }
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/deep.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          { "data": "platform.inner" },
		 *          { "data": "platform.details.0" },
		 *          { "data": "platform.details.1" }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `data` as a function to provide different information for
		 *    // sorting, filtering and display. In this case, currency (price)
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": function ( source, type, val ) {
		 *            if (type === 'set') {
		 *              source.price = val;
		 *              // Store the computed dislay and filter values for efficiency
		 *              source.price_display = val=="" ? "" : "$"+numberFormat(val);
		 *              source.price_filter  = val=="" ? "" : "$"+numberFormat(val)+" "+val;
		 *              return;
		 *            }
		 *            else if (type === 'display') {
		 *              return source.price_display;
		 *            }
		 *            else if (type === 'filter') {
		 *              return source.price_filter;
		 *            }
		 *            // 'sort', 'type' and undefined all just use the integer
		 *            return source.price;
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using default content
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null,
		 *          "defaultContent": "Click to edit"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using array notation - outputting a list from an array
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": "name[, ]"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 */
		"mData": null,
	
	
		/**
		 * This property is the rendering partner to `data` and it is suggested that
		 * when you want to manipulate data for display (including filtering,
		 * sorting etc) without altering the underlying data for the table, use this
		 * property. `render` can be considered to be the the read only companion to
		 * `data` which is read / write (then as such more complex). Like `data`
		 * this option can be given in a number of different ways to effect its
		 * behaviour:
		 *
		 * * `integer` - treated as an array index for the data source. This is the
		 *   default that DataTables uses (incrementally increased for each column).
		 * * `string` - read an object property from the data source. There are
		 *   three 'special' options that can be used in the string to alter how
		 *   DataTables reads the data from the source object:
		 *    * `.` - Dotted Javascript notation. Just as you use a `.` in
		 *      Javascript to read from nested objects, so to can the options
		 *      specified in `data`. For example: `browser.version` or
		 *      `browser.name`. If your object parameter name contains a period, use
		 *      `\\` to escape it - i.e. `first\\.name`.
		 *    * `[]` - Array notation. DataTables can automatically combine data
		 *      from and array source, joining the data with the characters provided
		 *      between the two brackets. For example: `name[, ]` would provide a
		 *      comma-space separated list from the source array. If no characters
		 *      are provided between the brackets, the original array source is
		 *      returned.
		 *    * `()` - Function notation. Adding `()` to the end of a parameter will
		 *      execute a function of the name given. For example: `browser()` for a
		 *      simple function on the data source, `browser.version()` for a
		 *      function in a nested property or even `browser().version` to get an
		 *      object property if the function called returns an object.
		 * * `object` - use different data for the different data types requested by
		 *   DataTables ('filter', 'display', 'type' or 'sort'). The property names
		 *   of the object is the data type the property refers to and the value can
		 *   defined using an integer, string or function using the same rules as
		 *   `render` normally does. Note that an `_` option _must_ be specified.
		 *   This is the default value to use if you haven't specified a value for
		 *   the data type requested by DataTables.
		 * * `function` - the function given will be executed whenever DataTables
		 *   needs to set or get the data for a cell in the column. The function
		 *   takes three parameters:
		 *    * Parameters:
		 *      * {array|object} The data source for the row (based on `data`)
		 *      * {string} The type call data requested - this will be 'filter',
		 *        'display', 'type' or 'sort'.
		 *      * {array|object} The full data source for the row (not based on
		 *        `data`)
		 *    * Return:
		 *      * The return value from the function is what will be used for the
		 *        data requested.
		 *
		 *  @type string|int|function|object|null
		 *  @default null Use the data source value.
		 *
		 *  @name DataTable.defaults.column.render
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Create a comma separated list from an array of objects
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "ajaxSource": "sources/deep.txt",
		 *        "columns": [
		 *          { "data": "engine" },
		 *          { "data": "browser" },
		 *          {
		 *            "data": "platform",
		 *            "render": "[, ].name"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Execute a function to obtain data
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null, // Use the full data source object for the renderer's source
		 *          "render": "browserName()"
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // As an object, extracting different data for the different types
		 *    // This would be used with a data source such as:
		 *    //   { "phone": 5552368, "phone_filter": "5552368 555-2368", "phone_display": "555-2368" }
		 *    // Here the `phone` integer is used for sorting and type detection, while `phone_filter`
		 *    // (which has both forms) is used for filtering for if a user inputs either format, while
		 *    // the formatted phone number is the one that is shown in the table.
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": null, // Use the full data source object for the renderer's source
		 *          "render": {
		 *            "_": "phone",
		 *            "filter": "phone_filter",
		 *            "display": "phone_display"
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Use as a function to create a link from the data source
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "data": "download_link",
		 *          "render": function ( data, type, full ) {
		 *            return '<a href="'+data+'">Download</a>';
		 *          }
		 *        } ]
		 *      } );
		 *    } );
		 */
		"mRender": null,
	
	
		/**
		 * Change the cell type created for the column - either TD cells or TH cells. This
		 * can be useful as TH cells have semantic meaning in the table body, allowing them
		 * to act as a header for a row (you may wish to add scope='row' to the TH elements).
		 *  @type string
		 *  @default td
		 *
		 *  @name DataTable.defaults.column.cellType
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Make the first column use TH cells
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [ {
		 *          "targets": [ 0 ],
		 *          "cellType": "th"
		 *        } ]
		 *      } );
		 *    } );
		 */
		"sCellType": "td",
	
	
		/**
		 * Class to give to each cell in this column.
		 *  @type string
		 *  @default <i>Empty string</i>
		 *
		 *  @name DataTable.defaults.column.class
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "class": "my_class", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "class": "my_class" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sClass": "",
	
		/**
		 * When DataTables calculates the column widths to assign to each column,
		 * it finds the longest string in each column and then constructs a
		 * temporary table and reads the widths from that. The problem with this
		 * is that "mmm" is much wider then "iiii", but the latter is a longer
		 * string - thus the calculation can go wrong (doing it properly and putting
		 * it into an DOM object and measuring that is horribly(!) slow). Thus as
		 * a "work around" we provide this option. It will append its value to the
		 * text that is found to be the longest string for the column - i.e. padding.
		 * Generally you shouldn't need this!
		 *  @type string
		 *  @default <i>Empty string<i>
		 *
		 *  @name DataTable.defaults.column.contentPadding
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          null,
		 *          {
		 *            "contentPadding": "mmm"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sContentPadding": "",
	
	
		/**
		 * Allows a default value to be given for a column's data, and will be used
		 * whenever a null data source is encountered (this can be because `data`
		 * is set to null, or because the data source itself is null).
		 *  @type string
		 *  @default null
		 *
		 *  @name DataTable.defaults.column.defaultContent
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          {
		 *            "data": null,
		 *            "defaultContent": "Edit",
		 *            "targets": [ -1 ]
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          null,
		 *          {
		 *            "data": null,
		 *            "defaultContent": "Edit"
		 *          }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sDefaultContent": null,
	
	
		/**
		 * This parameter is only used in DataTables' server-side processing. It can
		 * be exceptionally useful to know what columns are being displayed on the
		 * client side, and to map these to database fields. When defined, the names
		 * also allow DataTables to reorder information from the server if it comes
		 * back in an unexpected order (i.e. if you switch your columns around on the
		 * client-side, your server-side code does not also need updating).
		 *  @type string
		 *  @default <i>Empty string</i>
		 *
		 *  @name DataTable.defaults.column.name
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "name": "engine", "targets": [ 0 ] },
		 *          { "name": "browser", "targets": [ 1 ] },
		 *          { "name": "platform", "targets": [ 2 ] },
		 *          { "name": "version", "targets": [ 3 ] },
		 *          { "name": "grade", "targets": [ 4 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "name": "engine" },
		 *          { "name": "browser" },
		 *          { "name": "platform" },
		 *          { "name": "version" },
		 *          { "name": "grade" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sName": "",
	
	
		/**
		 * Defines a data source type for the ordering which can be used to read
		 * real-time information from the table (updating the internally cached
		 * version) prior to ordering. This allows ordering to occur on user
		 * editable elements such as form inputs.
		 *  @type string
		 *  @default std
		 *
		 *  @name DataTable.defaults.column.orderDataType
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "orderDataType": "dom-text", "targets": [ 2, 3 ] },
		 *          { "type": "numeric", "targets": [ 3 ] },
		 *          { "orderDataType": "dom-select", "targets": [ 4 ] },
		 *          { "orderDataType": "dom-checkbox", "targets": [ 5 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          null,
		 *          null,
		 *          { "orderDataType": "dom-text" },
		 *          { "orderDataType": "dom-text", "type": "numeric" },
		 *          { "orderDataType": "dom-select" },
		 *          { "orderDataType": "dom-checkbox" }
		 *        ]
		 *      } );
		 *    } );
		 */
		"sSortDataType": "std",
	
	
		/**
		 * The title of this column.
		 *  @type string
		 *  @default null <i>Derived from the 'TH' value for this column in the
		 *    original HTML table.</i>
		 *
		 *  @name DataTable.defaults.column.title
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "title": "My column title", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "title": "My column title" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sTitle": null,
	
	
		/**
		 * The type allows you to specify how the data for this column will be
		 * ordered. Four types (string, numeric, date and html (which will strip
		 * HTML tags before ordering)) are currently available. Note that only date
		 * formats understood by Javascript's Date() object will be accepted as type
		 * date. For example: "Mar 26, 2008 5:03 PM". May take the values: 'string',
		 * 'numeric', 'date' or 'html' (by default). Further types can be adding
		 * through plug-ins.
		 *  @type string
		 *  @default null <i>Auto-detected from raw data</i>
		 *
		 *  @name DataTable.defaults.column.type
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "type": "html", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "type": "html" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sType": null,
	
	
		/**
		 * Defining the width of the column, this parameter may take any CSS value
		 * (3em, 20px etc). DataTables applies 'smart' widths to columns which have not
		 * been given a specific width through this interface ensuring that the table
		 * remains readable.
		 *  @type string
		 *  @default null <i>Automatic</i>
		 *
		 *  @name DataTable.defaults.column.width
		 *  @dtopt Columns
		 *
		 *  @example
		 *    // Using `columnDefs`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columnDefs": [
		 *          { "width": "20%", "targets": [ 0 ] }
		 *        ]
		 *      } );
		 *    } );
		 *
		 *  @example
		 *    // Using `columns`
		 *    $(document).ready( function() {
		 *      $('#example').dataTable( {
		 *        "columns": [
		 *          { "width": "20%" },
		 *          null,
		 *          null,
		 *          null,
		 *          null
		 *        ]
		 *      } );
		 *    } );
		 */
		"sWidth": null
	};
	
	_fnHungarianMap( DataTable.defaults.column );
	
	
	
	/**
	 * DataTables settings object - this holds all the information needed for a
	 * given table, including configuration, data and current application of the
	 * table options. DataTables does not have a single instance for each DataTable
	 * with the settings attached to that instance, but rather instances of the
	 * DataTable "class" are created on-the-fly as needed (typically by a
	 * $().dataTable() call) and the settings object is then applied to that
	 * instance.
	 *
	 * Note that this object is related to {@link DataTable.defaults} but this
	 * one is the internal data store for DataTables's cache of columns. It should
	 * NOT be manipulated outside of DataTables. Any configuration should be done
	 * through the initialisation options.
	 *  @namespace
	 *  @todo Really should attach the settings object to individual instances so we
	 *    don't need to create new instances on each $().dataTable() call (if the
	 *    table already exists). It would also save passing oSettings around and
	 *    into every single function. However, this is a very significant
	 *    architecture change for DataTables and will almost certainly break
	 *    backwards compatibility with older installations. This is something that
	 *    will be done in 2.0.
	 */
	DataTable.models.oSettings = {
		/**
		 * Primary features of DataTables and their enablement state.
		 *  @namespace
		 */
		"oFeatures": {
	
			/**
			 * Flag to say if DataTables should automatically try to calculate the
			 * optimum table and columns widths (true) or not (false).
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bAutoWidth": null,
	
			/**
			 * Delay the creation of TR and TD elements until they are actually
			 * needed by a driven page draw. This can give a significant speed
			 * increase for Ajax source and Javascript source data, but makes no
			 * difference at all fro DOM and server-side processing tables.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bDeferRender": null,
	
			/**
			 * Enable filtering on the table or not. Note that if this is disabled
			 * then there is no filtering at all on the table, including fnFilter.
			 * To just remove the filtering input use sDom and remove the 'f' option.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bFilter": null,
	
			/**
			 * Table information element (the 'Showing x of y records' div) enable
			 * flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bInfo": null,
	
			/**
			 * Present a user control allowing the end user to change the page size
			 * when pagination is enabled.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bLengthChange": null,
	
			/**
			 * Pagination enabled or not. Note that if this is disabled then length
			 * changing must also be disabled.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bPaginate": null,
	
			/**
			 * Processing indicator enable flag whenever DataTables is enacting a
			 * user request - typically an Ajax request for server-side processing.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bProcessing": null,
	
			/**
			 * Server-side processing enabled flag - when enabled DataTables will
			 * get all data from the server for every draw - there is no filtering,
			 * sorting or paging done on the client-side.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bServerSide": null,
	
			/**
			 * Sorting enablement flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSort": null,
	
			/**
			 * Multi-column sorting
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSortMulti": null,
	
			/**
			 * Apply a class to the columns which are being sorted to provide a
			 * visual highlight or not. This can slow things down when enabled since
			 * there is a lot of DOM interaction.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bSortClasses": null,
	
			/**
			 * State saving enablement flag.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bStateSave": null
		},
	
	
		/**
		 * Scrolling settings for a table.
		 *  @namespace
		 */
		"oScroll": {
			/**
			 * When the table is shorter in height than sScrollY, collapse the
			 * table container down to the height of the table (when true).
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type boolean
			 */
			"bCollapse": null,
	
			/**
			 * Width of the scrollbar for the web-browser's platform. Calculated
			 * during table initialisation.
			 *  @type int
			 *  @default 0
			 */
			"iBarWidth": 0,
	
			/**
			 * Viewport width for horizontal scrolling. Horizontal scrolling is
			 * disabled if an empty string.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 */
			"sX": null,
	
			/**
			 * Width to expand the table to when using x-scrolling. Typically you
			 * should not need to use this.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 *  @deprecated
			 */
			"sXInner": null,
	
			/**
			 * Viewport height for vertical scrolling. Vertical scrolling is disabled
			 * if an empty string.
			 * Note that this parameter will be set by the initialisation routine. To
			 * set a default use {@link DataTable.defaults}.
			 *  @type string
			 */
			"sY": null
		},
	
		/**
		 * Language information for the table.
		 *  @namespace
		 *  @extends DataTable.defaults.oLanguage
		 */
		"oLanguage": {
			/**
			 * Information callback function. See
			 * {@link DataTable.defaults.fnInfoCallback}
			 *  @type function
			 *  @default null
			 */
			"fnInfoCallback": null
		},
	
		/**
		 * Browser support parameters
		 *  @namespace
		 */
		"oBrowser": {
			/**
			 * Indicate if the browser incorrectly calculates width:100% inside a
			 * scrolling element (IE6/7)
			 *  @type boolean
			 *  @default false
			 */
			"bScrollOversize": false,
	
			/**
			 * Determine if the vertical scrollbar is on the right or left of the
			 * scrolling container - needed for rtl language layout, although not
			 * all browsers move the scrollbar (Safari).
			 *  @type boolean
			 *  @default false
			 */
			"bScrollbarLeft": false
		},
	
	
		"ajax": null,
	
	
		/**
		 * Array referencing the nodes which are used for the features. The
		 * parameters of this object match what is allowed by sDom - i.e.
		 *   <ul>
		 *     <li>'l' - Length changing</li>
		 *     <li>'f' - Filtering input</li>
		 *     <li>'t' - The table!</li>
		 *     <li>'i' - Information</li>
		 *     <li>'p' - Pagination</li>
		 *     <li>'r' - pRocessing</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aanFeatures": [],
	
		/**
		 * Store data information - see {@link DataTable.models.oRow} for detailed
		 * information.
		 *  @type array
		 *  @default []
		 */
		"aoData": [],
	
		/**
		 * Array of indexes which are in the current display (after filtering etc)
		 *  @type array
		 *  @default []
		 */
		"aiDisplay": [],
	
		/**
		 * Array of indexes for display - no filtering
		 *  @type array
		 *  @default []
		 */
		"aiDisplayMaster": [],
	
		/**
		 * Store information about each column that is in use
		 *  @type array
		 *  @default []
		 */
		"aoColumns": [],
	
		/**
		 * Store information about the table's header
		 *  @type array
		 *  @default []
		 */
		"aoHeader": [],
	
		/**
		 * Store information about the table's footer
		 *  @type array
		 *  @default []
		 */
		"aoFooter": [],
	
		/**
		 * Store the applied global search information in case we want to force a
		 * research or compare the old search to a new one.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @namespace
		 *  @extends DataTable.models.oSearch
		 */
		"oPreviousSearch": {},
	
		/**
		 * Store the applied search for each column - see
		 * {@link DataTable.models.oSearch} for the format that is used for the
		 * filtering information for each column.
		 *  @type array
		 *  @default []
		 */
		"aoPreSearchCols": [],
	
		/**
		 * Sorting that is applied to the table. Note that the inner arrays are
		 * used in the following manner:
		 * <ul>
		 *   <li>Index 0 - column number</li>
		 *   <li>Index 1 - current sorting direction</li>
		 * </ul>
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @todo These inner arrays should really be objects
		 */
		"aaSorting": null,
	
		/**
		 * Sorting that is always applied to the table (i.e. prefixed in front of
		 * aaSorting).
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"aaSortingFixed": [],
	
		/**
		 * Classes to use for the striping of a table.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"asStripeClasses": null,
	
		/**
		 * If restoring a table - we should restore its striping classes as well
		 *  @type array
		 *  @default []
		 */
		"asDestroyStripes": [],
	
		/**
		 * If restoring a table - we should restore its width
		 *  @type int
		 *  @default 0
		 */
		"sDestroyWidth": 0,
	
		/**
		 * Callback functions array for every time a row is inserted (i.e. on a draw).
		 *  @type array
		 *  @default []
		 */
		"aoRowCallback": [],
	
		/**
		 * Callback functions for the header on each draw.
		 *  @type array
		 *  @default []
		 */
		"aoHeaderCallback": [],
	
		/**
		 * Callback function for the footer on each draw.
		 *  @type array
		 *  @default []
		 */
		"aoFooterCallback": [],
	
		/**
		 * Array of callback functions for draw callback functions
		 *  @type array
		 *  @default []
		 */
		"aoDrawCallback": [],
	
		/**
		 * Array of callback functions for row created function
		 *  @type array
		 *  @default []
		 */
		"aoRowCreatedCallback": [],
	
		/**
		 * Callback functions for just before the table is redrawn. A return of
		 * false will be used to cancel the draw.
		 *  @type array
		 *  @default []
		 */
		"aoPreDrawCallback": [],
	
		/**
		 * Callback functions for when the table has been initialised.
		 *  @type array
		 *  @default []
		 */
		"aoInitComplete": [],
	
	
		/**
		 * Callbacks for modifying the settings to be stored for state saving, prior to
		 * saving state.
		 *  @type array
		 *  @default []
		 */
		"aoStateSaveParams": [],
	
		/**
		 * Callbacks for modifying the settings that have been stored for state saving
		 * prior to using the stored values to restore the state.
		 *  @type array
		 *  @default []
		 */
		"aoStateLoadParams": [],
	
		/**
		 * Callbacks for operating on the settings object once the saved state has been
		 * loaded
		 *  @type array
		 *  @default []
		 */
		"aoStateLoaded": [],
	
		/**
		 * Cache the table ID for quick access
		 *  @type string
		 *  @default <i>Empty string</i>
		 */
		"sTableId": "",
	
		/**
		 * The TABLE node for the main table
		 *  @type node
		 *  @default null
		 */
		"nTable": null,
	
		/**
		 * Permanent ref to the thead element
		 *  @type node
		 *  @default null
		 */
		"nTHead": null,
	
		/**
		 * Permanent ref to the tfoot element - if it exists
		 *  @type node
		 *  @default null
		 */
		"nTFoot": null,
	
		/**
		 * Permanent ref to the tbody element
		 *  @type node
		 *  @default null
		 */
		"nTBody": null,
	
		/**
		 * Cache the wrapper node (contains all DataTables controlled elements)
		 *  @type node
		 *  @default null
		 */
		"nTableWrapper": null,
	
		/**
		 * Indicate if when using server-side processing the loading of data
		 * should be deferred until the second draw.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 *  @default false
		 */
		"bDeferLoading": false,
	
		/**
		 * Indicate if all required information has been read in
		 *  @type boolean
		 *  @default false
		 */
		"bInitialised": false,
	
		/**
		 * Information about open rows. Each object in the array has the parameters
		 * 'nTr' and 'nParent'
		 *  @type array
		 *  @default []
		 */
		"aoOpenRows": [],
	
		/**
		 * Dictate the positioning of DataTables' control elements - see
		 * {@link DataTable.model.oInit.sDom}.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default null
		 */
		"sDom": null,
	
		/**
		 * Which type of pagination should be used.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default two_button
		 */
		"sPaginationType": "two_button",
	
		/**
		 * The state duration (for `stateSave`) in seconds.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type int
		 *  @default 0
		 */
		"iStateDuration": 0,
	
		/**
		 * Array of callback functions for state saving. Each array element is an
		 * object with the following parameters:
		 *   <ul>
		 *     <li>function:fn - function to call. Takes two parameters, oSettings
		 *       and the JSON string to save that has been thus far created. Returns
		 *       a JSON string to be inserted into a json object
		 *       (i.e. '"param": [ 0, 1, 2]')</li>
		 *     <li>string:sName - name of callback</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aoStateSave": [],
	
		/**
		 * Array of callback functions for state loading. Each array element is an
		 * object with the following parameters:
		 *   <ul>
		 *     <li>function:fn - function to call. Takes two parameters, oSettings
		 *       and the object stored. May return false to cancel state loading</li>
		 *     <li>string:sName - name of callback</li>
		 *   </ul>
		 *  @type array
		 *  @default []
		 */
		"aoStateLoad": [],
	
		/**
		 * State that was loaded. Useful for back reference
		 *  @type object
		 *  @default null
		 */
		"oLoadedState": null,
	
		/**
		 * Source url for AJAX data for the table.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 *  @default null
		 */
		"sAjaxSource": null,
	
		/**
		 * Property from a given object from which to read the table data from. This
		 * can be an empty string (when not server-side processing), in which case
		 * it is  assumed an an array is given directly.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 */
		"sAjaxDataProp": null,
	
		/**
		 * Note if draw should be blocked while getting data
		 *  @type boolean
		 *  @default true
		 */
		"bAjaxDataGet": true,
	
		/**
		 * The last jQuery XHR object that was used for server-side data gathering.
		 * This can be used for working with the XHR information in one of the
		 * callbacks
		 *  @type object
		 *  @default null
		 */
		"jqXHR": null,
	
		/**
		 * JSON returned from the server in the last Ajax request
		 *  @type object
		 *  @default undefined
		 */
		"json": undefined,
	
		/**
		 * Data submitted as part of the last Ajax request
		 *  @type object
		 *  @default undefined
		 */
		"oAjaxData": undefined,
	
		/**
		 * Function to get the server-side data.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type function
		 */
		"fnServerData": null,
	
		/**
		 * Functions which are called prior to sending an Ajax request so extra
		 * parameters can easily be sent to the server
		 *  @type array
		 *  @default []
		 */
		"aoServerParams": [],
	
		/**
		 * Send the XHR HTTP method - GET or POST (could be PUT or DELETE if
		 * required).
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type string
		 */
		"sServerMethod": null,
	
		/**
		 * Format numbers for display.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type function
		 */
		"fnFormatNumber": null,
	
		/**
		 * List of options that can be used for the user selectable length menu.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type array
		 *  @default []
		 */
		"aLengthMenu": null,
	
		/**
		 * Counter for the draws that the table does. Also used as a tracker for
		 * server-side processing
		 *  @type int
		 *  @default 0
		 */
		"iDraw": 0,
	
		/**
		 * Indicate if a redraw is being done - useful for Ajax
		 *  @type boolean
		 *  @default false
		 */
		"bDrawing": false,
	
		/**
		 * Draw index (iDraw) of the last error when parsing the returned data
		 *  @type int
		 *  @default -1
		 */
		"iDrawError": -1,
	
		/**
		 * Paging display length
		 *  @type int
		 *  @default 10
		 */
		"_iDisplayLength": 10,
	
		/**
		 * Paging start point - aiDisplay index
		 *  @type int
		 *  @default 0
		 */
		"_iDisplayStart": 0,
	
		/**
		 * Server-side processing - number of records in the result set
		 * (i.e. before filtering), Use fnRecordsTotal rather than
		 * this property to get the value of the number of records, regardless of
		 * the server-side processing setting.
		 *  @type int
		 *  @default 0
		 *  @private
		 */
		"_iRecordsTotal": 0,
	
		/**
		 * Server-side processing - number of records in the current display set
		 * (i.e. after filtering). Use fnRecordsDisplay rather than
		 * this property to get the value of the number of records, regardless of
		 * the server-side processing setting.
		 *  @type boolean
		 *  @default 0
		 *  @private
		 */
		"_iRecordsDisplay": 0,
	
		/**
		 * Flag to indicate if jQuery UI marking and classes should be used.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 */
		"bJUI": null,
	
		/**
		 * The classes to use for the table
		 *  @type object
		 *  @default {}
		 */
		"oClasses": {},
	
		/**
		 * Flag attached to the settings object so you can check in the draw
		 * callback if filtering has been done in the draw. Deprecated in favour of
		 * events.
		 *  @type boolean
		 *  @default false
		 *  @deprecated
		 */
		"bFiltered": false,
	
		/**
		 * Flag attached to the settings object so you can check in the draw
		 * callback if sorting has been done in the draw. Deprecated in favour of
		 * events.
		 *  @type boolean
		 *  @default false
		 *  @deprecated
		 */
		"bSorted": false,
	
		/**
		 * Indicate that if multiple rows are in the header and there is more than
		 * one unique cell per column, if the top one (true) or bottom one (false)
		 * should be used for sorting / title by DataTables.
		 * Note that this parameter will be set by the initialisation routine. To
		 * set a default use {@link DataTable.defaults}.
		 *  @type boolean
		 */
		"bSortCellsTop": null,
	
		/**
		 * Initialisation object that is used for the table
		 *  @type object
		 *  @default null
		 */
		"oInit": null,
	
		/**
		 * Destroy callback functions - for plug-ins to attach themselves to the
		 * destroy so they can clean up markup and events.
		 *  @type array
		 *  @default []
		 */
		"aoDestroyCallback": [],
	
	
		/**
		 * Get the number of records in the current record set, before filtering
		 *  @type function
		 */
		"fnRecordsTotal": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsTotal * 1 :
				this.aiDisplayMaster.length;
		},
	
		/**
		 * Get the number of records in the current record set, after filtering
		 *  @type function
		 */
		"fnRecordsDisplay": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsDisplay * 1 :
				this.aiDisplay.length;
		},
	
		/**
		 * Get the display end point - aiDisplay index
		 *  @type function
		 */
		"fnDisplayEnd": function ()
		{
			var
				len      = this._iDisplayLength,
				start    = this._iDisplayStart,
				calc     = start + len,
				records  = this.aiDisplay.length,
				features = this.oFeatures,
				paginate = features.bPaginate;
	
			if ( features.bServerSide ) {
				return paginate === false || len === -1 ?
					start + records :
					Math.min( start+len, this._iRecordsDisplay );
			}
			else {
				return ! paginate || calc>records || len===-1 ?
					records :
					calc;
			}
		},
	
		/**
		 * The DataTables object for this table
		 *  @type object
		 *  @default null
		 */
		"oInstance": null,
	
		/**
		 * Unique identifier for each instance of the DataTables object. If there
		 * is an ID on the table node, then it takes that value, otherwise an
		 * incrementing internal counter is used.
		 *  @type string
		 *  @default null
		 */
		"sInstance": null,
	
		/**
		 * tabindex attribute value that is added to DataTables control elements, allowing
		 * keyboard navigation of the table and its controls.
		 */
		"iTabIndex": 0,
	
		/**
		 * DIV container for the footer scrolling table if scrolling
		 */
		"nScrollHead": null,
	
		/**
		 * DIV container for the footer scrolling table if scrolling
		 */
		"nScrollFoot": null,
	
		/**
		 * Last applied sort
		 *  @type array
		 *  @default []
		 */
		"aLastSort": [],
	
		/**
		 * Stored plug-in instances
		 *  @type object
		 *  @default {}
		 */
		"oPlugins": {}
	};

	/**
	 * Extension object for DataTables that is used to provide all extension
	 * options.
	 *
	 * Note that the `DataTable.ext` object is available through
	 * `jQuery.fn.dataTable.ext` where it may be accessed and manipulated. It is
	 * also aliased to `jQuery.fn.dataTableExt` for historic reasons.
	 *  @namespace
	 *  @extends DataTable.models.ext
	 */
	
	
	/**
	 * DataTables extensions
	 * 
	 * This namespace acts as a collection area for plug-ins that can be used to
	 * extend DataTables capabilities. Indeed many of the build in methods
	 * use this method to provide their own capabilities (sorting methods for
	 * example).
	 *
	 * Note that this namespace is aliased to `jQuery.fn.dataTableExt` for legacy
	 * reasons
	 *
	 *  @namespace
	 */
	DataTable.ext = _ext = {
		/**
		 * Element class names
		 *
		 *  @type object
		 *  @default {}
		 */
		classes: {},
	
	
		/**
		 * Error reporting.
		 * 
		 * How should DataTables report an error. Can take the value 'alert' or
		 * 'throw'
		 *
		 *  @type string
		 *  @default alert
		 */
		errMode: "alert",
	
	
		/**
		 * Feature plug-ins.
		 * 
		 * This is an array of objects which describe the feature plug-ins that are
		 * available to DataTables. These feature plug-ins are then available for
		 * use through the `dom` initialisation option.
		 * 
		 * Each feature plug-in is described by an object which must have the
		 * following properties:
		 * 
		 * * `fnInit` - function that is used to initialise the plug-in,
		 * * `cFeature` - a character so the feature can be enabled by the `dom`
		 *   instillation option. This is case sensitive.
		 *
		 * The `fnInit` function has the following input parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 *
		 * And the following return is expected:
		 * 
		 * * {node|null} The element which contains your feature. Note that the
		 *   return may also be void if your plug-in does not require to inject any
		 *   DOM elements into DataTables control (`dom`) - for example this might
		 *   be useful when developing a plug-in which allows table control via
		 *   keyboard entry
		 *
		 *  @type array
		 *
		 *  @example
		 *    $.fn.dataTable.ext.features.push( {
		 *      "fnInit": function( oSettings ) {
		 *        return new TableTools( { "oDTSettings": oSettings } );
		 *      },
		 *      "cFeature": "T"
		 *    } );
		 */
		feature: [],
	
	
		/**
		 * Row searching.
		 * 
		 * This method of searching is complimentary to the default type based
		 * searching, and a lot more comprehensive as it allows you complete control
		 * over the searching logic. Each element in this array is a function
		 * (parameters described below) that is called for every row in the table,
		 * and your logic decides if it should be included in the searching data set
		 * or not.
		 *
		 * Searching functions have the following input parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 * 2. `{array|object}` Data for the row to be processed (same as the
		 *    original format that was passed in as the data source, or an array
		 *    from a DOM data source
		 * 3. `{int}` Row index ({@link DataTable.models.oSettings.aoData}), which
		 *    can be useful to retrieve the `TR` element if you need DOM interaction.
		 *
		 * And the following return is expected:
		 *
		 * * {boolean} Include the row in the searched result set (true) or not
		 *   (false)
		 *
		 * Note that as with the main search ability in DataTables, technically this
		 * is "filtering", since it is subtractive. However, for consistency in
		 * naming we call it searching here.
		 *
		 *  @type array
		 *  @default []
		 *
		 *  @example
		 *    // The following example shows custom search being applied to the
		 *    // fourth column (i.e. the data[3] index) based on two input values
		 *    // from the end-user, matching the data in a certain range.
		 *    $.fn.dataTable.ext.search.push(
		 *      function( settings, data, dataIndex ) {
		 *        var min = document.getElementById('min').value * 1;
		 *        var max = document.getElementById('max').value * 1;
		 *        var version = data[3] == "-" ? 0 : data[3]*1;
		 *
		 *        if ( min == "" && max == "" ) {
		 *          return true;
		 *        }
		 *        else if ( min == "" && version < max ) {
		 *          return true;
		 *        }
		 *        else if ( min < version && "" == max ) {
		 *          return true;
		 *        }
		 *        else if ( min < version && version < max ) {
		 *          return true;
		 *        }
		 *        return false;
		 *      }
		 *    );
		 */
		search: [],
	
	
		/**
		 * Internal functions, exposed for used in plug-ins.
		 * 
		 * Please note that you should not need to use the internal methods for
		 * anything other than a plug-in (and even then, try to avoid if possible).
		 * The internal function may change between releases.
		 *
		 *  @type object
		 *  @default {}
		 */
		internal: {},
	
	
		/**
		 * Legacy configuration options. Enable and disable legacy options that
		 * are available in DataTables.
		 *
		 *  @type object
		 */
		legacy: {
			/**
			 * Enable / disable DataTables 1.9 compatible server-side processing
			 * requests
			 *
			 *  @type boolean
			 *  @default null
			 */
			ajax: null
		},
	
	
		/**
		 * Pagination plug-in methods.
		 * 
		 * Each entry in this object is a function and defines which buttons should
		 * be shown by the pagination rendering method that is used for the table:
		 * {@link DataTable.ext.renderer.pageButton}. The renderer addresses how the
		 * buttons are displayed in the document, while the functions here tell it
		 * what buttons to display. This is done by returning an array of button
		 * descriptions (what each button will do).
		 *
		 * Pagination types (the four built in options and any additional plug-in
		 * options defined here) can be used through the `paginationType`
		 * initialisation parameter.
		 *
		 * The functions defined take two parameters:
		 *
		 * 1. `{int} page` The current page index
		 * 2. `{int} pages` The number of pages in the table
		 *
		 * Each function is expected to return an array where each element of the
		 * array can be one of:
		 *
		 * * `first` - Jump to first page when activated
		 * * `last` - Jump to last page when activated
		 * * `previous` - Show previous page when activated
		 * * `next` - Show next page when activated
		 * * `{int}` - Show page of the index given
		 * * `{array}` - A nested array containing the above elements to add a
		 *   containing 'DIV' element (might be useful for styling).
		 *
		 * Note that DataTables v1.9- used this object slightly differently whereby
		 * an object with two functions would be defined for each plug-in. That
		 * ability is still supported by DataTables 1.10+ to provide backwards
		 * compatibility, but this option of use is now decremented and no longer
		 * documented in DataTables 1.10+.
		 *
		 *  @type object
		 *  @default {}
		 *
		 *  @example
		 *    // Show previous, next and current page buttons only
		 *    $.fn.dataTableExt.oPagination.current = function ( page, pages ) {
		 *      return [ 'previous', page, 'next' ];
		 *    };
		 */
		pager: {},
	
	
		renderer: {
			pageButton: {},
			header: {}
		},
	
	
		/**
		 * Ordering plug-ins - custom data source
		 * 
		 * The extension options for ordering of data available here is complimentary
		 * to the default type based ordering that DataTables typically uses. It
		 * allows much greater control over the the data that is being used to
		 * order a column, but is necessarily therefore more complex.
		 * 
		 * This type of ordering is useful if you want to do ordering based on data
		 * live from the DOM (for example the contents of an 'input' element) rather
		 * than just the static string that DataTables knows of.
		 * 
		 * The way these plug-ins work is that you create an array of the values you
		 * wish to be ordering for the column in question and then return that
		 * array. The data in the array much be in the index order of the rows in
		 * the table (not the currently ordering order!). Which order data gathering
		 * function is run here depends on the `dt-init columns.orderDataType`
		 * parameter that is used for the column (if any).
		 *
		 * The functions defined take two parameters:
		 *
		 * 1. `{object}` DataTables settings object: see
		 *    {@link DataTable.models.oSettings}
		 * 2. `{int}` Target column index
		 *
		 * Each function is expected to return an array:
		 *
		 * * `{array}` Data for the column to be ordering upon
		 *
		 *  @type array
		 *
		 *  @example
		 *    // Ordering using `input` node values
		 *    $.fn.dataTable.ext.order['dom-text'] = function  ( settings, col )
		 *    {
		 *      return this.api().column( col, {order:'index'} ).nodes().map( function ( td, i ) {
		 *        return $('input', td).val();
		 *      } );
		 *    }
		 */
		order: {},
	
	
		/**
		 * Type based plug-ins.
		 *
		 * Each column in DataTables has a type assigned to it, either by automatic
		 * detection or by direct assignment using the `type` option for the column.
		 * The type of a column will effect how it is ordering and search (plug-ins
		 * can also make use of the column type if required).
		 *
		 * @namespace
		 */
		type: {
			/**
			 * Type detection functions.
			 *
			 * The functions defined in this object are used to automatically detect
			 * a column's type, making initialisation of DataTables super easy, even
			 * when complex data is in the table.
			 *
			 * The functions defined take two parameters:
			 *
		     *  1. `{*}` Data from the column cell to be analysed
		     *  2. `{settings}` DataTables settings object. This can be used to
		     *     perform context specific type detection - for example detection
		     *     based on language settings such as using a comma for a decimal
		     *     place. Generally speaking the options from the settings will not
		     *     be required
			 *
			 * Each function is expected to return:
			 *
			 * * `{string|null}` Data type detected, or null if unknown (and thus
			 *   pass it on to the other type detection functions.
			 *
			 *  @type array
			 *
			 *  @example
			 *    // Currency type detection plug-in:
			 *    $.fn.dataTable.ext.type.detect.push(
			 *      function ( data, settings ) {
			 *        // Check the numeric part
			 *        if ( ! $.isNumeric( data.substring(1) ) ) {
			 *          return null;
			 *        }
			 *
			 *        // Check prefixed by currency
			 *        if ( data.charAt(0) == '$' || data.charAt(0) == '&pound;' ) {
			 *          return 'currency';
			 *        }
			 *        return null;
			 *      }
			 *    );
			 */
			detect: [],
	
	
			/**
			 * Type based search formatting.
			 *
			 * The type based searching functions can be used to pre-format the
			 * data to be search on. For example, it can be used to strip HTML
			 * tags or to de-format telephone numbers for numeric only searching.
			 *
			 * Note that is a search is not defined for a column of a given type,
			 * no search formatting will be performed.
			 * 
			 * Pre-processing of searching data plug-ins - When you assign the sType
			 * for a column (or have it automatically detected for you by DataTables
			 * or a type detection plug-in), you will typically be using this for
			 * custom sorting, but it can also be used to provide custom searching
			 * by allowing you to pre-processing the data and returning the data in
			 * the format that should be searched upon. This is done by adding
			 * functions this object with a parameter name which matches the sType
			 * for that target column. This is the corollary of <i>afnSortData</i>
			 * for searching data.
			 *
			 * The functions defined take a single parameter:
			 *
		     *  1. `{*}` Data from the column cell to be prepared for searching
			 *
			 * Each function is expected to return:
			 *
			 * * `{string|null}` Formatted string that will be used for the searching.
			 *
			 *  @type object
			 *  @default {}
			 *
			 *  @example
			 *    $.fn.dataTable.ext.type.search['title-numeric'] = function ( d ) {
			 *      return d.replace(/\n/g," ").replace( /<.*?>/g, "" );
			 *    }
			 */
			search: {},
	
	
			/**
			 * Type based ordering.
			 *
			 * The column type tells DataTables what ordering to apply to the table
			 * when a column is sorted upon. The order for each type that is defined,
			 * is defined by the functions available in this object.
			 *
			 * Each ordering option can be described by three properties added to
			 * this object:
			 *
			 * * `{type}-pre` - Pre-formatting function
			 * * `{type}-asc` - Ascending order function
			 * * `{type}-desc` - Descending order function
			 *
			 * All three can be used together, only `{type}-pre` or only
			 * `{type}-asc` and `{type}-desc` together. It is generally recommended
			 * that only `{type}-pre` is used, as this provides the optimal
			 * implementation in terms of speed, although the others are provided
			 * for compatibility with existing Javascript sort functions.
			 *
			 * `{type}-pre`: Functions defined take a single parameter:
			 *
		     *  1. `{*}` Data from the column cell to be prepared for ordering
			 *
			 * And return:
			 *
			 * * `{*}` Data to be sorted upon
			 *
			 * `{type}-asc` and `{type}-desc`: Functions are typical Javascript sort
			 * functions, taking two parameters:
			 *
		     *  1. `{*}` Data to compare to the second parameter
		     *  2. `{*}` Data to compare to the first parameter
			 *
			 * And returning:
			 *
			 * * `{*}` Ordering match: <0 if first parameter should be sorted lower
			 *   than the second parameter, ===0 if the two parameters are equal and
			 *   >0 if the first parameter should be sorted height than the second
			 *   parameter.
			 * 
			 *  @type object
			 *  @default {}
			 *
			 *  @example
			 *    // Numeric ordering of formatted numbers with a pre-formatter
			 *    $.extend( $.fn.dataTable.ext.type.order, {
			 *      "string-pre": function(x) {
			 *        a = (a === "-" || a === "") ? 0 : a.replace( /[^\d\-\.]/g, "" );
			 *        return parseFloat( a );
			 *      }
			 *    } );
			 *
			 *  @example
			 *    // Case-sensitive string ordering, with no pre-formatting method
			 *    $.extend( $.fn.dataTable.ext.order, {
			 *      "string-case-asc": function(x,y) {
			 *        return ((x < y) ? -1 : ((x > y) ? 1 : 0));
			 *      },
			 *      "string-case-desc": function(x,y) {
			 *        return ((x < y) ? 1 : ((x > y) ? -1 : 0));
			 *      }
			 *    } );
			 */
			order: {}
		},
	
		/**
		 * Unique DataTables instance counter
		 *
		 * @type int
		 * @private
		 */
		_unique: 0,
	
	
		//
		// Depreciated
		// The following properties are retained for backwards compatiblity only.
		// The should not be used in new projects and will be removed in a future
		// version
		//
	
		/**
		 * Version check function.
		 *  @type function
		 *  @depreciated Since 1.10
		 */
		fnVersionCheck: DataTable.fnVersionCheck,
	
	
		/**
		 * Index for what 'this' index API functions should use
		 *  @type int
		 *  @deprecated Since v1.10
		 */
		iApiIndex: 0,
	
	
		/**
		 * jQuery UI class container
		 *  @type object
		 *  @deprecated Since v1.10
		 */
		oJUIClasses: {},
	
	
		/**
		 * Software version
		 *  @type string
		 *  @deprecated Since v1.10
		 */
		sVersion: DataTable.version
	};
	
	
	//
	// Backwards compatibility. Alias to pre 1.10 Hungarian notation counter parts
	//
	$.extend( _ext, {
		afnFiltering: _ext.search,
		aTypes:       _ext.type.detect,
		ofnSearch:    _ext.type.search,
		oSort:        _ext.type.order,
		afnSortData:  _ext.order,
		aoFeatures:   _ext.feature,
		oApi:         _ext.internal,
		oStdClasses:  _ext.classes,
		oPagination:  _ext.pager
	} );
	
	
	$.extend( DataTable.ext.classes, {
		"sTable": "dataTable",
		"sNoFooter": "no-footer",
	
		/* Paging buttons */
		"sPageButton": "paginate_button",
		"sPageButtonActive": "current",
		"sPageButtonDisabled": "disabled",
	
		/* Striping classes */
		"sStripeOdd": "odd",
		"sStripeEven": "even",
	
		/* Empty row */
		"sRowEmpty": "dataTables_empty",
	
		/* Features */
		"sWrapper": "dataTables_wrapper",
		"sFilter": "dataTables_filter",
		"sInfo": "dataTables_info",
		"sPaging": "dataTables_paginate paging_", /* Note that the type is postfixed */
		"sLength": "dataTables_length",
		"sProcessing": "dataTables_processing",
	
		/* Sorting */
		"sSortAsc": "sorting_asc",
		"sSortDesc": "sorting_desc",
		"sSortable": "sorting", /* Sortable in both directions */
		"sSortableAsc": "sorting_asc_disabled",
		"sSortableDesc": "sorting_desc_disabled",
		"sSortableNone": "sorting_disabled",
		"sSortColumn": "sorting_", /* Note that an int is postfixed for the sorting order */
	
		/* Filtering */
		"sFilterInput": "",
	
		/* Page length */
		"sLengthSelect": "",
	
		/* Scrolling */
		"sScrollWrapper": "dataTables_scroll",
		"sScrollHead": "dataTables_scrollHead",
		"sScrollHeadInner": "dataTables_scrollHeadInner",
		"sScrollBody": "dataTables_scrollBody",
		"sScrollFoot": "dataTables_scrollFoot",
		"sScrollFootInner": "dataTables_scrollFootInner",
	
		/* Misc */
		"sHeaderTH": "",
		"sFooterTH": "",
	
		// Deprecated
		"sSortJUIAsc": "",
		"sSortJUIDesc": "",
		"sSortJUI": "",
		"sSortJUIAscAllowed": "",
		"sSortJUIDescAllowed": "",
		"sSortJUIWrapper": "",
		"sSortIcon": "",
		"sJUIHeader": "",
		"sJUIFooter": ""
	} );
	
	
	(function() {
	
	// Reused strings for better compression. Closure compiler appears to have a
	// weird edge case where it is trying to expand strings rather than use the
	// variable version. This results in about 200 bytes being added, for very
	// little preference benefit since it this run on script load only.
	var _empty = '';
	_empty = '';
	
	var _stateDefault = _empty + 'ui-state-default';
	var _sortIcon     = _empty + 'css_right ui-icon ui-icon-';
	var _headerFooter = _empty + 'fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix';
	
	$.extend( DataTable.ext.oJUIClasses, DataTable.ext.classes, {
		/* Full numbers paging buttons */
		"sPageButton":         "fg-button ui-button "+_stateDefault,
		"sPageButtonActive":   "ui-state-disabled",
		"sPageButtonDisabled": "ui-state-disabled",
	
		/* Features */
		"sPaging": "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+
			"ui-buttonset-multi paging_", /* Note that the type is postfixed */
	
		/* Sorting */
		"sSortAsc":            _stateDefault+" sorting_asc",
		"sSortDesc":           _stateDefault+" sorting_desc",
		"sSortable":           _stateDefault+" sorting",
		"sSortableAsc":        _stateDefault+" sorting_asc_disabled",
		"sSortableDesc":       _stateDefault+" sorting_desc_disabled",
		"sSortableNone":       _stateDefault+" sorting_disabled",
		"sSortJUIAsc":         _sortIcon+"triangle-1-n",
		"sSortJUIDesc":        _sortIcon+"triangle-1-s",
		"sSortJUI":            _sortIcon+"carat-2-n-s",
		"sSortJUIAscAllowed":  _sortIcon+"carat-1-n",
		"sSortJUIDescAllowed": _sortIcon+"carat-1-s",
		"sSortJUIWrapper":     "DataTables_sort_wrapper",
		"sSortIcon":           "DataTables_sort_icon",
	
		/* Scrolling */
		"sScrollHead": "dataTables_scrollHead "+_stateDefault,
		"sScrollFoot": "dataTables_scrollFoot "+_stateDefault,
	
		/* Misc */
		"sHeaderTH":  _stateDefault,
		"sFooterTH":  _stateDefault,
		"sJUIHeader": _headerFooter+" ui-corner-tl ui-corner-tr",
		"sJUIFooter": _headerFooter+" ui-corner-bl ui-corner-br"
	} );
	
	}());
	
	
	
	var extPagination = DataTable.ext.pager;
	
	function _numbers ( page, pages ) {
		var
			numbers = [],
			buttons = extPagination.numbers_length,
			half = Math.floor( buttons / 2 ),
			i = 1;
	
		if ( pages <= buttons ) {
			numbers = _range( 0, pages );
		}
		else if ( page <= half ) {
			numbers = _range( 0, buttons-2 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
		}
		else if ( page >= pages - 1 - half ) {
			numbers = _range( pages-(buttons-2), pages );
			numbers.splice( 0, 0, 'ellipsis' ); // no unshift in ie6
			numbers.splice( 0, 0, 0 );
		}
		else {
			numbers = _range( page-1, page+2 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
			numbers.splice( 0, 0, 'ellipsis' );
			numbers.splice( 0, 0, 0 );
		}
	
		numbers.DT_el = 'span';
		return numbers;
	}
	
	
	$.extend( extPagination, {
		simple: function ( page, pages ) {
			return [ 'previous', 'next' ];
		},
	
		full: function ( page, pages ) {
			return [  'first', 'previous', 'next', 'last' ];
		},
	
		simple_numbers: function ( page, pages ) {
			return [ 'previous', _numbers(page, pages), 'next' ];
		},
	
		full_numbers: function ( page, pages ) {
			return [ 'first', 'previous', _numbers(page, pages), 'next', 'last' ];
		},
	
		// For testing and plug-ins to use
		_numbers: _numbers,
		numbers_length: 7
	} );
	
	
	$.extend( true, DataTable.ext.renderer, {
		pageButton: {
			_: function ( settings, host, idx, buttons, page, pages ) {
				var classes = settings.oClasses;
				var lang = settings.oLanguage.oPaginate;
				var btnDisplay, btnClass, counter=0;
	
				var attach = function( container, buttons ) {
					var i, ien, node, button;
					var clickHandler = function ( e ) {
						_fnPageChange( settings, e.data.action, true );
					};
	
					for ( i=0, ien=buttons.length ; i<ien ; i++ ) {
						button = buttons[i];
	
						if ( $.isArray( button ) ) {
							var inner = $( '<'+(button.DT_el || 'div')+'/>' )
								.appendTo( container );
							attach( inner, button );
						}
						else {
							btnDisplay = '';
							btnClass = '';
	
							switch ( button ) {
								case 'ellipsis':
									container.append('<span>&hellip;</span>');
									break;
	
								case 'first':
									btnDisplay = lang.sFirst;
									btnClass = button + (page > 0 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'previous':
									btnDisplay = lang.sPrevious;
									btnClass = button + (page > 0 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'next':
									btnDisplay = lang.sNext;
									btnClass = button + (page < pages-1 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								case 'last':
									btnDisplay = lang.sLast;
									btnClass = button + (page < pages-1 ?
										'' : ' '+classes.sPageButtonDisabled);
									break;
	
								default:
									btnDisplay = button + 1;
									btnClass = page === button ?
										classes.sPageButtonActive : '';
									break;
							}
	
							if ( btnDisplay ) {
								node = $('<a>', {
										'class': classes.sPageButton+' '+btnClass,
										'aria-controls': settings.sTableId,
										'data-dt-idx': counter,
										'tabindex': settings.iTabIndex,
										'id': idx === 0 && typeof button === 'string' ?
											settings.sTableId +'_'+ button :
											null
									} )
									.html( btnDisplay )
									.appendTo( container );
	
								_fnBindAction(
									node, {action: button}, clickHandler
								);
	
								counter++;
							}
						}
					}
				};
	
				// Because this approach is destroying and recreating the paging
				// elements, focus is lost on the select button which is bad for
				// accessibility. So we want to restore focus once the draw has
				// completed
				var activeEl = $(document.activeElement).data('dt-idx');
	
				attach( $(host).empty(), buttons );
	
				if ( activeEl !== null ) {
					$(host).find( '[data-dt-idx='+activeEl+']' ).focus();
				}
			}
		}
	} );
	
	
	
	var __numericReplace = function ( d, decimalPlace, re1, re2 ) {
		if ( !d || d === '-' ) {
			return -Infinity;
		}
	
		// If a decimal place other than `.` is used, it needs to be given to the
		// function so we can detect it and replace with a `.` which is the only
		// decimal place Javascript recognises - it is not locale aware.
		if ( decimalPlace ) {
			d = _numToDecimal( d, decimalPlace );
		}
	
		if ( d.replace ) {
			if ( re1 ) {
				d = d.replace( re1, '' );
			}
	
			if ( re2 ) {
				d = d.replace( re2, '' );
			}
		}
	
		return d * 1;
	};
	
	
	// Add the numeric 'deformatting' functions for sorting. This is done in a
	// function to provide an easy ability for the language options to add
	// additional methods if a non-period decimal place is used.
	function _addNumericSort ( decimalPlace ) {
		$.each(
			{
				// Plain numbers
				"num": function ( d ) {
					return __numericReplace( d, decimalPlace );
				},
	
				// Formatted numbers
				"num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_formatted_numeric );
				},
	
				// HTML numeric
				"html-num": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html );
				},
	
				// HTML numeric, formatted
				"html-num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html, _re_formatted_numeric );
				}
			},
			function ( key, fn ) {
				_ext.type.order[ key+decimalPlace+'-pre' ] = fn;
			}
		);
	}
	
	
	// Default sort methods
	$.extend( _ext.type.order, {
		// Dates
		"date-pre": function ( d ) {
			return Date.parse( d ) || 0;
		},
	
		// html
		"html-pre": function ( a ) {
			return ! a ?
				'' :
				a.replace ?
					a.replace( /<.*?>/g, "" ).toLowerCase() :
					a+'';
		},
	
		// string
		"string-pre": function ( a ) {
			return typeof a === 'string' ?
				a.toLowerCase() :
				! a || ! a.toString ?
					'' :
					a.toString();
		},
	
		// string-asc and -desc are retained only for compatibility with the old
		// sort methods
		"string-asc": function ( x, y ) {
			return ((x < y) ? -1 : ((x > y) ? 1 : 0));
		},
	
		"string-desc": function ( x, y ) {
			return ((x < y) ? 1 : ((x > y) ? -1 : 0));
		}
	} );
	
	
	// Numeric sorting types - order doesn't matter here
	_addNumericSort( '' );
	
	
	// Built in type detection. See model.ext.aTypes for information about
	// what is required from this methods.
	$.extend( DataTable.ext.type.detect, [
		// Plain numbers - first since V8 detects some plain numbers as dates
		// e.g. Date.parse('55') (but not all, e.g. Date.parse('22')...).
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal ) ? 'num'+decimal : null;
		},
	
		// Dates (only those recognised by the browser's Date.parse)
		function ( d, settings )
		{
			// V8 will remove any unknown characters at the start of the expression,
			// leading to false matches such as `$245.12` being a valid date. See
			// forum thread 18941 for detail.
			if ( d && ! _re_date_start.test(d) ) {
				return null;
			}
			var parsed = Date.parse(d);
			return (parsed !== null && !isNaN(parsed)) || _empty(d) ? 'date' : null;
		},
	
		// Formatted numbers
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal, true ) ? 'num-fmt'+decimal : null;
		},
	
		// HTML numeric
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal ) ? 'html-num'+decimal : null;
		},
	
		// HTML numeric, formatted
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal, true ) ? 'html-num-fmt'+decimal : null;
		},
	
		// HTML (this is strict checking - there must be html)
		function ( d, settings )
		{
			return _empty( d ) || (typeof d === 'string' && d.indexOf('<') !== -1) ?
				'html' : null;
		}
	] );
	
	
	
	// Filter formatting functions. See model.ext.ofnSearch for information about
	// what is required from these methods.
	
	
	$.extend( DataTable.ext.type.search, {
		html: function ( data ) {
			return _empty(data) ?
				'' :
				typeof data === 'string' ?
					data
						.replace( _re_new_lines, " " )
						.replace( _re_html, "" ) :
					'';
		},
	
		string: function ( data ) {
			return _empty(data) ?
				'' :
				typeof data === 'string' ?
					data.replace( _re_new_lines, " " ) :
					data;
		}
	} );
	
	
	
	$.extend( true, DataTable.ext.renderer, {
		header: {
			_: function ( settings, cell, column, classes ) {
				// No additional mark-up required
				// Attach a sort listener to update on sort - note that using the
				// `DT` namespace will allow the event to be removed automatically
				// on destroy, while the `dt` namespaced event is the one we are
				// listening for
				$(settings.nTable).on( 'order.dt.DT', function ( e, settings, sorting, columns ) {
					var colIdx = column.idx;
	
					cell
						.removeClass(
							column.sSortingClass +' '+
							classes.sSortAsc +' '+
							classes.sSortDesc
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);
				} );
			},
	
			jqueryui: function ( settings, cell, column, classes ) {
				var colIdx = column.idx;
	
				$('<div/>')
					.addClass( classes.sSortJUIWrapper )
					.append( cell.contents() )
					.append( $('<span/>')
						.addClass( classes.sSortIcon+' '+column.sSortingClassJUI )
					)
					.appendTo( cell );
	
				// Attach a sort listener to update on sort
				$(settings.nTable).on( 'order.dt.DT', function ( e, settings, sorting, columns ) {
					cell
						.removeClass( classes.sSortAsc +" "+classes.sSortDesc )
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);
	
					cell
						.find( 'span.'+classes.sSortIcon )
						.removeClass(
							classes.sSortJUIAsc +" "+
							classes.sSortJUIDesc +" "+
							classes.sSortJUI +" "+
							classes.sSortJUIAscAllowed +" "+
							classes.sSortJUIDescAllowed
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortJUIAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortJUIDesc :
								column.sSortingClassJUI
						);
				} );
			}
		}
	} );
	
	/*
	 * Public helper functions. These aren't used internally by DataTables, or
	 * called by any of the options passed into DataTables, but they can be used
	 * externally by developers working with DataTables. They are helper functions
	 * to make working with DataTables a little bit easier.
	 */
	
	/**
	 * Helpers for `columns.render`.
	 *
	 * The options defined here can be used with the `columns.render` initialisation
	 * option to provide a display renderer. The following functions are defined:
	 *
	 * * `number` - Will format numeric data (defined by `columns.data`) for
	 *   display, retaining the original unformatted data for sorting and filtering.
	 *   It takes 4 parameters:
	 *   * `string` - Thousands grouping separator
	 *   * `string` - Decimal point indicator
	 *   * `integer` - Number of decimal points to show
	 *   * `string` (optional) - Prefix.
	 *
	 * @example
	 *   // Column definition using the number renderer
	 *   {
	 *     data: "salary",
	 *     render: $.fn.dataTable.render.number( '\'', '.', 0, '$' )
	 *   }
	 *
	 * @namespace
	 */
	DataTable.render = {
		number: function ( thousands, decimal, precision, prefix ) {
			return {
				display: function ( d ) {
					d = parseFloat( d );
					var intPart = parseInt( d, 10 );
					var floatPart = precision ?
						(decimal+(d - intPart).toFixed( precision )).substring( 2 ):
						'';
	
					return (prefix||'') +
						intPart.toString().replace(
							/\B(?=(\d{3})+(?!\d))/g, thousands
						) +
						floatPart;
				}
			};
		}
	};
	
	
	/*
	 * This is really a good bit rubbish this method of exposing the internal methods
	 * publicly... - To be fixed in 2.0 using methods on the prototype
	 */
	
	
	/**
	 * Create a wrapper function for exporting an internal functions to an external API.
	 *  @param {string} fn API function name
	 *  @returns {function} wrapped function
	 *  @memberof DataTable#internal
	 */
	function _fnExternApiFunc (fn)
	{
		return function() {
			var args = [_fnSettingsFromNode( this[DataTable.ext.iApiIndex] )].concat(
				Array.prototype.slice.call(arguments)
			);
			return DataTable.ext.internal[fn].apply( this, args );
		};
	}
	
	
	/**
	 * Reference to internal functions for use by plug-in developers. Note that
	 * these methods are references to internal functions and are considered to be
	 * private. If you use these methods, be aware that they are liable to change
	 * between versions.
	 *  @namespace
	 */
	$.extend( DataTable.ext.internal, {
		_fnExternApiFunc: _fnExternApiFunc,
		_fnBuildAjax: _fnBuildAjax,
		_fnAjaxUpdate: _fnAjaxUpdate,
		_fnAjaxParameters: _fnAjaxParameters,
		_fnAjaxUpdateDraw: _fnAjaxUpdateDraw,
		_fnAjaxDataSrc: _fnAjaxDataSrc,
		_fnAddColumn: _fnAddColumn,
		_fnColumnOptions: _fnColumnOptions,
		_fnAdjustColumnSizing: _fnAdjustColumnSizing,
		_fnVisibleToColumnIndex: _fnVisibleToColumnIndex,
		_fnColumnIndexToVisible: _fnColumnIndexToVisible,
		_fnVisbleColumns: _fnVisbleColumns,
		_fnGetColumns: _fnGetColumns,
		_fnColumnTypes: _fnColumnTypes,
		_fnApplyColumnDefs: _fnApplyColumnDefs,
		_fnHungarianMap: _fnHungarianMap,
		_fnCamelToHungarian: _fnCamelToHungarian,
		_fnLanguageCompat: _fnLanguageCompat,
		_fnBrowserDetect: _fnBrowserDetect,
		_fnAddData: _fnAddData,
		_fnAddTr: _fnAddTr,
		_fnNodeToDataIndex: _fnNodeToDataIndex,
		_fnNodeToColumnIndex: _fnNodeToColumnIndex,
		_fnGetCellData: _fnGetCellData,
		_fnSetCellData: _fnSetCellData,
		_fnSplitObjNotation: _fnSplitObjNotation,
		_fnGetObjectDataFn: _fnGetObjectDataFn,
		_fnSetObjectDataFn: _fnSetObjectDataFn,
		_fnGetDataMaster: _fnGetDataMaster,
		_fnClearTable: _fnClearTable,
		_fnDeleteIndex: _fnDeleteIndex,
		_fnInvalidateRow: _fnInvalidateRow,
		_fnGetRowElements: _fnGetRowElements,
		_fnCreateTr: _fnCreateTr,
		_fnBuildHead: _fnBuildHead,
		_fnDrawHead: _fnDrawHead,
		_fnDraw: _fnDraw,
		_fnReDraw: _fnReDraw,
		_fnAddOptionsHtml: _fnAddOptionsHtml,
		_fnDetectHeader: _fnDetectHeader,
		_fnGetUniqueThs: _fnGetUniqueThs,
		_fnFeatureHtmlFilter: _fnFeatureHtmlFilter,
		_fnFilterComplete: _fnFilterComplete,
		_fnFilterCustom: _fnFilterCustom,
		_fnFilterColumn: _fnFilterColumn,
		_fnFilter: _fnFilter,
		_fnFilterCreateSearch: _fnFilterCreateSearch,
		_fnEscapeRegex: _fnEscapeRegex,
		_fnFilterData: _fnFilterData,
		_fnFeatureHtmlInfo: _fnFeatureHtmlInfo,
		_fnUpdateInfo: _fnUpdateInfo,
		_fnInfoMacros: _fnInfoMacros,
		_fnInitialise: _fnInitialise,
		_fnInitComplete: _fnInitComplete,
		_fnLengthChange: _fnLengthChange,
		_fnFeatureHtmlLength: _fnFeatureHtmlLength,
		_fnFeatureHtmlPaginate: _fnFeatureHtmlPaginate,
		_fnPageChange: _fnPageChange,
		_fnFeatureHtmlProcessing: _fnFeatureHtmlProcessing,
		_fnProcessingDisplay: _fnProcessingDisplay,
		_fnFeatureHtmlTable: _fnFeatureHtmlTable,
		_fnScrollDraw: _fnScrollDraw,
		_fnApplyToChildren: _fnApplyToChildren,
		_fnCalculateColumnWidths: _fnCalculateColumnWidths,
		_fnThrottle: _fnThrottle,
		_fnConvertToWidth: _fnConvertToWidth,
		_fnScrollingWidthAdjust: _fnScrollingWidthAdjust,
		_fnGetWidestNode: _fnGetWidestNode,
		_fnGetMaxLenString: _fnGetMaxLenString,
		_fnStringToCss: _fnStringToCss,
		_fnScrollBarWidth: _fnScrollBarWidth,
		_fnSortFlatten: _fnSortFlatten,
		_fnSort: _fnSort,
		_fnSortAria: _fnSortAria,
		_fnSortListener: _fnSortListener,
		_fnSortAttachListener: _fnSortAttachListener,
		_fnSortingClasses: _fnSortingClasses,
		_fnSortData: _fnSortData,
		_fnSaveState: _fnSaveState,
		_fnLoadState: _fnLoadState,
		_fnSettingsFromNode: _fnSettingsFromNode,
		_fnLog: _fnLog,
		_fnMap: _fnMap,
		_fnBindAction: _fnBindAction,
		_fnCallbackReg: _fnCallbackReg,
		_fnCallbackFire: _fnCallbackFire,
		_fnLengthOverflow: _fnLengthOverflow,
		_fnRenderer: _fnRenderer,
		_fnDataSource: _fnDataSource,
		_fnRowAttributes: _fnRowAttributes,
		_fnCalculateEnd: function () {} // Used by a lot of plug-ins, but redundant
		                                // in 1.10, so this dead-end function is
		                                // added to prevent errors
	} );
	

	// jQuery access
	$.fn.dataTable = DataTable;

	// Legacy aliases
	$.fn.dataTableSettings = DataTable.settings;
	$.fn.dataTableExt = DataTable.ext;

	// With a capital `D` we return a DataTables API instance rather than a
	// jQuery object
	$.fn.DataTable = function ( opts ) {
		return $(this).dataTable( opts ).api();
	};

	// All properties that are available to $.fn.dataTable should also be
	// available on $.fn.DataTable
	$.each( DataTable, function ( prop, val ) {
		$.fn.DataTable[ prop ] = val;
	} );


	// Information about events fired by DataTables - for documentation.
	/**
	 * Draw event, fired whenever the table is redrawn on the page, at the same
	 * point as fnDrawCallback. This may be useful for binding events or
	 * performing calculations when the table is altered at all.
	 *  @name DataTable#draw.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Search event, fired when the searching applied to the table (using the
	 * built-in global search, or column filters) is altered.
	 *  @name DataTable#search.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Page change event, fired when the paging of the table is altered.
	 *  @name DataTable#page.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Order event, fired when the ordering applied to the table is altered.
	 *  @name DataTable#order.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * DataTables initialisation complete event, fired when the table is fully
	 * drawn, including Ajax data loaded, if Ajax data is required.
	 *  @name DataTable#init.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The JSON object request from the server - only
	 *    present if client-side Ajax sourced data is used</li></ol>
	 */

	/**
	 * State save event, fired when the table has changed state a new state save
	 * is required. This event allows modification of the state saving object
	 * prior to actually doing the save, including addition or other state
	 * properties (for plug-ins) or modification of a DataTables core property.
	 *  @name DataTable#stateSaveParams.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The state information to be saved
	 */

	/**
	 * State load event, fired when the table is loading state from the stored
	 * data, but prior to the settings object being modified by the saved state
	 * - allowing modification of the saved state is required or loading of
	 * state for a plug-in.
	 *  @name DataTable#stateLoadParams.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The saved state information
	 */

	/**
	 * State loaded event, fired when state has been loaded from stored data and
	 * the settings object has been modified by the loaded data.
	 *  @name DataTable#stateLoaded.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {object} json The saved state information
	 */

	/**
	 * Processing event, fired when DataTables is doing some kind of processing
	 * (be it, order, searcg or anything else). It can be used to indicate to
	 * the end user that there is something happening, or that something has
	 * finished.
	 *  @name DataTable#processing.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} oSettings DataTables settings object
	 *  @param {boolean} bShow Flag for if DataTables is doing processing or not
	 */

	/**
	 * Ajax (XHR) event, fired whenever an Ajax request is completed from a
	 * request to made to the server for new data. This event is called before
	 * DataTables processed the returned data, so it can also be used to pre-
	 * process the data returned from the server, if needed.
	 *
	 * Note that this trigger is called in `fnServerData`, if you override
	 * `fnServerData` and which to use this event, you need to trigger it in you
	 * success function.
	 *  @name DataTable#xhr.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {object} json JSON returned from the server
	 *
	 *  @example
	 *     // Use a custom property returned from the server in another DOM element
	 *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {
	 *       $('#status').html( json.status );
	 *     } );
	 *
	 *  @example
	 *     // Pre-process the data returned from the server
	 *     $('#table').dataTable().on('xhr.dt', function (e, settings, json) {
	 *       for ( var i=0, ien=json.aaData.length ; i<ien ; i++ ) {
	 *         json.aaData[i].sum = json.aaData[i].one + json.aaData[i].two;
	 *       }
	 *       // Note no return - manipulate the data directly in the JSON object.
	 *     } );
	 */

	/**
	 * Destroy event, fired when the DataTable is destroyed by calling fnDestroy
	 * or passing the bDestroy:true parameter in the initialisation object. This
	 * can be used to remove bound events, added DOM nodes, etc.
	 *  @name DataTable#destroy.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Page length change event, fired when number of records to show on each
	 * page (the length) is changed.
	 *  @name DataTable#length.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {integer} len New length
	 */

	/**
	 * Column sizing has changed.
	 *  @name DataTable#column-sizing.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 */

	/**
	 * Column visibility has changed.
	 *  @name DataTable#column-visibility.dt
	 *  @event
	 *  @param {event} e jQuery event object
	 *  @param {object} o DataTables settings object {@link DataTable.models.oSettings}
	 *  @param {int} column Column index
	 *  @param {bool} vis `false` if column now hidden, or `true` if visible
	 */

	return $.fn.dataTable;
}));

}(window, document));

;/*! URI.js v1.13.2 http://medialize.github.io/URI.js/ */
/* build contains: IPv6.js, punycode.js, SecondLevelDomains.js, URI.js, URITemplate.js, jquery.URI.js */
(function(f,h){"object"===typeof exports?module.exports=h():"function"===typeof define&&define.amd?define(h):f.IPv6=h(f)})(this,function(f){var h=f&&f.IPv6;return{best:function(g){g=g.toLowerCase().split(":");var f=g.length,b=8;""===g[0]&&""===g[1]&&""===g[2]?(g.shift(),g.shift()):""===g[0]&&""===g[1]?g.shift():""===g[f-1]&&""===g[f-2]&&g.pop();f=g.length;-1!==g[f-1].indexOf(".")&&(b=7);var m;for(m=0;m<f&&""!==g[m];m++);if(m<b)for(g.splice(m,1,"0000");g.length<b;)g.splice(m,0,"0000");for(m=0;m<b;m++){for(var f=
    g[m].split(""),h=0;3>h;h++)if("0"===f[0]&&1<f.length)f.splice(0,1);else break;g[m]=f.join("")}var f=-1,s=h=0,q=-1,w=!1;for(m=0;m<b;m++)w?"0"===g[m]?s+=1:(w=!1,s>h&&(f=q,h=s)):"0"===g[m]&&(w=!0,q=m,s=1);s>h&&(f=q,h=s);1<h&&g.splice(f,h,"");f=g.length;b="";""===g[0]&&(b=":");for(m=0;m<f;m++){b+=g[m];if(m===f-1)break;b+=":"}""===g[f-1]&&(b+=":");return b},noConflict:function(){f.IPv6===this&&(f.IPv6=h);return this}}});
(function(f){function h(a){throw RangeError(A[a]);}function g(a,c){for(var d=a.length;d--;)a[d]=c(a[d]);return a}function p(a,c){return g(a.split(n),c).join(".")}function b(a){for(var c=[],d=0,b=a.length,n,e;d<b;)n=a.charCodeAt(d++),55296<=n&&56319>=n&&d<b?(e=a.charCodeAt(d++),56320==(e&64512)?c.push(((n&1023)<<10)+(e&1023)+65536):(c.push(n),d--)):c.push(n);return c}function m(a){return g(a,function(a){var c="";65535<a&&(a-=65536,c+=D(a>>>10&1023|55296),a=56320|a&1023);return c+=D(a)}).join("")}function u(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               c){return a+22+75*(26>a)-((0!=c)<<5)}function s(a,c,d){var b=0;a=d?z(a/G):a>>1;for(a+=z(a/c);a>v*y>>1;b+=l)a=z(a/v);return z(b+(v+1)*a/(a+H))}function q(c){var d=[],b=c.length,n,e=0,A=E,f=C,k,q,g,v,t;k=c.lastIndexOf(a);0>k&&(k=0);for(q=0;q<k;++q)128<=c.charCodeAt(q)&&h("not-basic"),d.push(c.charCodeAt(q));for(k=0<k?k+1:0;k<b;){q=e;n=1;for(g=l;;g+=l){k>=b&&h("invalid-input");v=c.charCodeAt(k++);v=10>v-48?v-22:26>v-65?v-65:26>v-97?v-97:l;(v>=l||v>z((r-e)/n))&&h("overflow");e+=v*n;t=g<=f?x:g>=f+y?y:
    g-f;if(v<t)break;v=l-t;n>z(r/v)&&h("overflow");n*=v}n=d.length+1;f=s(e-q,n,0==q);z(e/n)>r-A&&h("overflow");A+=z(e/n);e%=n;d.splice(e++,0,A)}return m(d)}function w(c){var d,n,e,A,k,f,q,v,g,t=[],w,m,p;c=b(c);w=c.length;d=E;n=0;k=C;for(f=0;f<w;++f)g=c[f],128>g&&t.push(D(g));for((e=A=t.length)&&t.push(a);e<w;){q=r;for(f=0;f<w;++f)g=c[f],g>=d&&g<q&&(q=g);m=e+1;q-d>z((r-n)/m)&&h("overflow");n+=(q-d)*m;d=q;for(f=0;f<w;++f)if(g=c[f],g<d&&++n>r&&h("overflow"),g==d){v=n;for(q=l;;q+=l){g=q<=k?x:q>=k+y?y:q-k;
    if(v<g)break;p=v-g;v=l-g;t.push(D(u(g+p%v,0)));v=z(p/v)}t.push(D(u(v,0)));k=s(n,m,e==A);n=0;++e}++n;++d}return t.join("")}var B="object"==typeof exports&&exports,k="object"==typeof module&&module&&module.exports==B&&module,t="object"==typeof global&&global;if(t.global===t||t.window===t)f=t;var e,r=2147483647,l=36,x=1,y=26,H=38,G=700,C=72,E=128,a="-",c=/^xn--/,d=/[^ -~]/,n=/\x2E|\u3002|\uFF0E|\uFF61/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
    "invalid-input":"Invalid input"},v=l-x,z=Math.floor,D=String.fromCharCode,F;e={version:"1.2.3",ucs2:{decode:b,encode:m},decode:q,encode:w,toASCII:function(a){return p(a,function(a){return d.test(a)?"xn--"+w(a):a})},toUnicode:function(a){return p(a,function(a){return c.test(a)?q(a.slice(4).toLowerCase()):a})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return e});else if(B&&!B.nodeType)if(k)k.exports=e;else for(F in e)e.hasOwnProperty(F)&&(B[F]=e[F]);else f.punycode=
    e})(this);
(function(f,h){"object"===typeof exports?module.exports=h():"function"===typeof define&&define.amd?define(h):f.SecondLevelDomains=h(f)})(this,function(f){var h=f&&f.SecondLevelDomains,g={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",
    bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",
    cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",
    et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",
    ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",
    kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",
    mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",
    pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",
    sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",
    na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",
    rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",
    tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",
    us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1)return!1;
    var h=f.lastIndexOf(".",b-1);if(0>=h||h>=b-1)return!1;var u=g.list[f.slice(b+1)];return u?0<=u.indexOf(" "+f.slice(h+1,b)+" "):!1},is:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1||0<=f.lastIndexOf(".",b-1))return!1;var h=g.list[f.slice(b+1)];return h?0<=h.indexOf(" "+f.slice(0,b)+" "):!1},get:function(f){var b=f.lastIndexOf(".");if(0>=b||b>=f.length-1)return null;var h=f.lastIndexOf(".",b-1);if(0>=h||h>=b-1)return null;var u=g.list[f.slice(b+1)];return!u||0>u.indexOf(" "+f.slice(h+
    1,b)+" ")?null:f.slice(h+1)},noConflict:function(){f.SecondLevelDomains===this&&(f.SecondLevelDomains=h);return this}};return g});
(function(f,h){"object"===typeof exports?module.exports=h(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],h):f.URI=h(f.punycode,f.IPv6,f.SecondLevelDomains,f)})(this,function(f,h,g,p){function b(a,c){if(!(this instanceof b))return new b(a,c);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==c?this.absoluteTo(c):this}function m(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,
    "\\$1")}function u(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function s(a){return"Array"===u(a)}function q(a,c){var d,b;if(s(c)){d=0;for(b=c.length;d<b;d++)if(!q(a,c[d]))return!1;return!0}var e=u(c);d=0;for(b=a.length;d<b;d++)if("RegExp"===e){if("string"===typeof a[d]&&a[d].match(c))return!0}else if(a[d]===c)return!0;return!1}function w(a,c){if(!s(a)||!s(c)||a.length!==c.length)return!1;a.sort();c.sort();for(var d=0,b=a.length;d<b;d++)if(a[d]!==c[d])return!1;
    return!0}function B(a){return escape(a)}function k(a){return encodeURIComponent(a).replace(/[!'()*]/g,B).replace(/\*/g,"%2A")}var t=p&&p.URI;b.version="1.13.2";var e=b.prototype,r=Object.prototype.hasOwnProperty;b._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}};b.duplicateQueryParameters=!1;b.escapeQuerySpace=!0;b.protocol_expression=
    /^[a-z][a-z0-9.+-]*$/i;b.idn_expression=/[^a-z0-9\.-]/i;b.punycode_expression=/(xn--)/i;b.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;b.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
    b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;b.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};b.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};b.invalid_hostname_characters=
        /[^a-zA-Z0-9\.-]/;b.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"};b.getDomAttribute=function(a){if(a&&a.nodeName){var c=a.nodeName.toLowerCase();return"input"===c&&"image"!==a.type?void 0:b.domAttributes[c]}};b.encode=k;b.decode=decodeURIComponent;b.iso8859=function(){b.encode=escape;b.decode=unescape};b.unicode=function(){b.encode=k;b.decode=decodeURIComponent};b.characters=
    {pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};b.encodeQuery=
        function(a,c){var d=b.encode(a+"");void 0===c&&(c=b.escapeQuerySpace);return c?d.replace(/%20/g,"+"):d};b.decodeQuery=function(a,c){a+="";void 0===c&&(c=b.escapeQuerySpace);try{return b.decode(c?a.replace(/\+/g,"%20"):a)}catch(d){return a}};b.recodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.encodePathSegment(b.decode(a[c]));return a.join("/")};b.decodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.decodePathSegment(a[c]);return a.join("/")};
    var l={encode:"encode",decode:"decode"},x,y=function(a,c){return function(d){return b[c](d+"").replace(b.characters[a][c].expression,function(d){return b.characters[a][c].map[d]})}};for(x in l)b[x+"PathSegment"]=y("pathname",l[x]);b.encodeReserved=y("reserved","encode");b.parse=function(a,c){var d;c||(c={});d=a.indexOf("#");-1<d&&(c.fragment=a.substring(d+1)||null,a=a.substring(0,d));d=a.indexOf("?");-1<d&&(c.query=a.substring(d+1)||null,a=a.substring(0,d));"//"===a.substring(0,2)?(c.protocol=null,
        a=a.substring(2),a=b.parseAuthority(a,c)):(d=a.indexOf(":"),-1<d&&(c.protocol=a.substring(0,d)||null,c.protocol&&!c.protocol.match(b.protocol_expression)?c.protocol=void 0:"file"===c.protocol?a=a.substring(d+3):"//"===a.substring(d+1,d+3)?(a=a.substring(d+3),a=b.parseAuthority(a,c)):(a=a.substring(d+1),c.urn=!0)));c.path=a;return c};b.parseHost=function(a,c){var d=a.indexOf("/"),b;-1===d&&(d=a.length);"["===a.charAt(0)?(b=a.indexOf("]"),c.hostname=a.substring(1,b)||null,c.port=a.substring(b+2,d)||
        null,"/"===c.port&&(c.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(c.hostname=a.substring(0,d)||null,c.port=null):(b=a.substring(0,d).split(":"),c.hostname=b[0]||null,c.port=b[1]||null);c.hostname&&"/"!==a.substring(d).charAt(0)&&(d++,a="/"+a);return a.substring(d)||"/"};b.parseAuthority=function(a,c){a=b.parseUserinfo(a,c);return b.parseHost(a,c)};b.parseUserinfo=function(a,c){var d=a.indexOf("/"),n=-1<d?a.lastIndexOf("@",d):a.indexOf("@");-1<n&&(-1===d||n<d)?(d=a.substring(0,n).split(":"),c.username=
        d[0]?b.decode(d[0]):null,d.shift(),c.password=d[0]?b.decode(d.join(":")):null,a=a.substring(n+1)):(c.username=null,c.password=null);return a};b.parseQuery=function(a,c){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var d={},n=a.split("&"),e=n.length,f,k,q=0;q<e;q++)f=n[q].split("="),k=b.decodeQuery(f.shift(),c),f=f.length?b.decodeQuery(f.join("="),c):null,d[k]?("string"===typeof d[k]&&(d[k]=[d[k]]),d[k].push(f)):d[k]=f;return d};b.build=function(a){var c="";a.protocol&&
    (c+=a.protocol+":");a.urn||!c&&!a.hostname||(c+="//");c+=b.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(c+="/"),c+=a.path);"string"===typeof a.query&&a.query&&(c+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(c+="#"+a.fragment);return c};b.buildHost=function(a){var c="";if(a.hostname)c=b.ip6_expression.test(a.hostname)?c+("["+a.hostname+"]"):c+a.hostname;else return"";a.port&&(c+=":"+a.port);return c};b.buildAuthority=function(a){return b.buildUserinfo(a)+
        b.buildHost(a)};b.buildUserinfo=function(a){var c="";a.username&&(c+=b.encode(a.username),a.password&&(c+=":"+b.encode(a.password)),c+="@");return c};b.buildQuery=function(a,c,d){var n="",e,f,k,q;for(f in a)if(r.call(a,f)&&f)if(s(a[f]))for(e={},k=0,q=a[f].length;k<q;k++)void 0!==a[f][k]&&void 0===e[a[f][k]+""]&&(n+="&"+b.buildQueryParameter(f,a[f][k],d),!0!==c&&(e[a[f][k]+""]=!0));else void 0!==a[f]&&(n+="&"+b.buildQueryParameter(f,a[f],d));return n.substring(1)};b.buildQueryParameter=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           c,d){return b.encodeQuery(a,d)+(null!==c?"="+b.encodeQuery(c,d):"")};b.addQuery=function(a,c,d){if("object"===typeof c)for(var n in c)r.call(c,n)&&b.addQuery(a,n,c[n]);else if("string"===typeof c)void 0===a[c]?a[c]=d:("string"===typeof a[c]&&(a[c]=[a[c]]),s(d)||(d=[d]),a[c]=a[c].concat(d));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};b.removeQuery=function(a,c,d){var n;if(s(c))for(d=0,n=c.length;d<n;d++)a[c[d]]=void 0;else if("object"===typeof c)for(n in c)r.call(c,
        n)&&b.removeQuery(a,n,c[n]);else if("string"===typeof c)if(void 0!==d)if(a[c]===d)a[c]=void 0;else{if(s(a[c])){n=a[c];var e={},f,k;if(s(d))for(f=0,k=d.length;f<k;f++)e[d[f]]=!0;else e[d]=!0;f=0;for(k=n.length;f<k;f++)void 0!==e[n[f]]&&(n.splice(f,1),k--,f--);a[c]=n}}else a[c]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};b.hasQuery=function(a,c,d,n){if("object"===typeof c){for(var e in c)if(r.call(c,e)&&!b.hasQuery(a,e,c[e]))return!1;return!0}if("string"!==
        typeof c)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(u(d)){case "Undefined":return c in a;case "Boolean":return a=Boolean(s(a[c])?a[c].length:a[c]),d===a;case "Function":return!!d(a[c],c,a);case "Array":return s(a[c])?(n?q:w)(a[c],d):!1;case "RegExp":return s(a[c])?n?q(a[c],d):!1:Boolean(a[c]&&a[c].match(d));case "Number":d=String(d);case "String":return s(a[c])?n?q(a[c],d):!1:a[c]===d;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");
    }};b.commonPath=function(a,c){var d=Math.min(a.length,c.length),b;for(b=0;b<d;b++)if(a.charAt(b)!==c.charAt(b)){b--;break}if(1>b)return a.charAt(0)===c.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(b)||"/"!==c.charAt(b))b=a.substring(0,b).lastIndexOf("/");return a.substring(0,b+1)};b.withinString=function(a,c,d){d||(d={});var e=d.start||b.findUri.start,f=d.end||b.findUri.end,k=d.trim||b.findUri.trim,q=/[a-z0-9-]=["']?$/i;for(e.lastIndex=0;;){var g=e.exec(a);if(!g)break;g=g.index;if(d.ignoreHtml){var t=
        a.slice(Math.max(g-3,0),g);if(t&&q.test(t))continue}var t=g+a.slice(g).search(f),h=a.slice(g,t).replace(k,"");d.ignore&&d.ignore.test(h)||(t=g+h.length,h=c(h,g,t,a),a=a.slice(0,g)+h+a.slice(t),e.lastIndex=g+h.length)}e.lastIndex=0;return a};b.ensureValidHostname=function(a){if(a.match(b.invalid_hostname_characters)){if(!f)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(f.toASCII(a).match(b.invalid_hostname_characters))throw new TypeError('Hostname "'+
        a+'" contains characters other than [A-Z0-9.-]');}};b.noConflict=function(a){if(a)return a={URI:this.noConflict()},p.URITemplate&&"function"===typeof p.URITemplate.noConflict&&(a.URITemplate=p.URITemplate.noConflict()),p.IPv6&&"function"===typeof p.IPv6.noConflict&&(a.IPv6=p.IPv6.noConflict()),p.SecondLevelDomains&&"function"===typeof p.SecondLevelDomains.noConflict&&(a.SecondLevelDomains=p.SecondLevelDomains.noConflict()),a;p.URI===this&&(p.URI=t);return this};e.build=function(a){if(!0===a)this._deferred_build=
        !0;else if(void 0===a||this._deferred_build)this._string=b.build(this._parts),this._deferred_build=!1;return this};e.clone=function(){return new b(this)};e.valueOf=e.toString=function(){return this.build(!1)._string};l={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};y=function(a){return function(c,d){if(void 0===c)return this._parts[a]||"";this._parts[a]=c||null;this.build(!d);return this}};for(x in l)e[x]=y(l[x]);l={query:"?",fragment:"#"};y=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              c){return function(d,b){if(void 0===d)return this._parts[a]||"";null!==d&&(d+="",d.charAt(0)===c&&(d=d.substring(1)));this._parts[a]=d;this.build(!b);return this}};for(x in l)e[x]=y(x,l[x]);l={search:["?","query"],hash:["#","fragment"]};y=function(a,c){return function(d,b){var e=this[a](d,b);return"string"===typeof e&&e.length?c+e:e}};for(x in l)e[x]=y(l[x][1],l[x][0]);e.pathname=function(a,c){if(void 0===a||!0===a){var d=this._parts.path||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}this._parts.path=
        a?b.recodePath(a):"/";this.build(!c);return this};e.path=e.pathname;e.href=function(a,c){var d;if(void 0===a)return this.toString();this._string="";this._parts=b._parts();var e=a instanceof b,f="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(f=b.getDomAttribute(a),a=a[f]||"",f=!1);!e&&f&&void 0!==a.pathname&&(a=a.toString());if("string"===typeof a)this._parts=b.parse(a,this._parts);else if(e||f)for(d in e=e?a._parts:a,e)r.call(this._parts,d)&&(this._parts[d]=e[d]);else throw new TypeError("invalid input");
        this.build(!c);return this};e.is=function(a){var c=!1,d=!1,e=!1,f=!1,k=!1,q=!1,t=!1,h=!this._parts.urn;this._parts.hostname&&(h=!1,d=b.ip4_expression.test(this._parts.hostname),e=b.ip6_expression.test(this._parts.hostname),c=d||e,k=(f=!c)&&g&&g.has(this._parts.hostname),q=f&&b.idn_expression.test(this._parts.hostname),t=f&&b.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return h;case "absolute":return!h;case "domain":case "name":return f;case "sld":return k;
        case "ip":return c;case "ip4":case "ipv4":case "inet4":return d;case "ip6":case "ipv6":case "inet6":return e;case "idn":return q;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return t}return null};var H=e.protocol,G=e.port,C=e.hostname;e.protocol=function(a,c){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(b.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return H.call(this,
        a,c)};e.scheme=e.protocol;e.port=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return G.call(this,a,c)};e.hostname=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var d={};b.parseHost(a,d);a=d.hostname}return C.call(this,a,c)};e.host=function(a,c){if(this._parts.urn)return void 0===a?"":this;
        if(void 0===a)return this._parts.hostname?b.buildHost(this._parts):"";b.parseHost(a,this._parts);this.build(!c);return this};e.authority=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildAuthority(this._parts):"";b.parseAuthority(a,this._parts);this.build(!c);return this};e.userinfo=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var d=b.buildUserinfo(this._parts);return d.substring(0,
            d.length-1)}"@"!==a[a.length-1]&&(a+="@");b.parseUserinfo(a,this._parts);this.build(!c);return this};e.resource=function(a,c){var d;if(void 0===a)return this.path()+this.search()+this.hash();d=b.parse(a);this._parts.path=d.path;this._parts.query=d.query;this._parts.fragment=d.fragment;this.build(!c);return this};e.subdomain=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.length-this.domain().length-
        1;return this._parts.hostname.substring(0,d)||""}d=this._parts.hostname.length-this.domain().length;d=this._parts.hostname.substring(0,d);d=new RegExp("^"+m(d));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&b.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(d,a);this.build(!c);return this};e.domain=function(a,c){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.match(/\./g);
        if(d&&2>d.length)return this._parts.hostname;d=this._parts.hostname.length-this.tld(c).length-1;d=this._parts.hostname.lastIndexOf(".",d-1)+1;return this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");b.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(d=new RegExp(m(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a));this.build(!c);return this};e.tld=function(a,c){if(this._parts.urn)return void 0===a?
        "":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),d=this._parts.hostname.substring(d+1);return!0!==c&&g&&g.list[d.toLowerCase()]?g.get(this._parts.hostname)||d:d}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(g&&g.is(a))d=new RegExp(m(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a);else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||
        this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");d=new RegExp(m(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(d,a)}else throw new TypeError("cannot set TLD empty");this.build(!c);return this};e.directory=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var d=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,
        d)||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}d=this._parts.path.length-this.filename().length;d=this._parts.path.substring(0,d);d=new RegExp("^"+m(d));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=b.recodePath(a);this._parts.path=this._parts.path.replace(d,a);this.build(!c);return this};e.filename=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";
        var d=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(d+1);return a?b.decodePathSegment(d):d}d=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(d=!0);var e=new RegExp(m(this.filename())+"$");a=b.recodePath(a);this._parts.path=this._parts.path.replace(e,a);d?this.normalizePath(c):this.build(!c);return this};e.suffix=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this.filename(),
        e=d.lastIndexOf(".");if(-1===e)return"";d=d.substring(e+1);d=/^[a-z0-9%]+$/i.test(d)?d:"";return a?b.decodePathSegment(d):d}"."===a.charAt(0)&&(a=a.substring(1));if(d=this.suffix())e=a?new RegExp(m(d)+"$"):new RegExp(m("."+d)+"$");else{if(!a)return this;this._parts.path+="."+b.recodePath(a)}e&&(a=b.recodePath(a),this._parts.path=this._parts.path.replace(e,a));this.build(!c);return this};e.segment=function(a,c,d){var b=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),e=e.split(b);void 0!==
    a&&"number"!==typeof a&&(d=c,c=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');f&&e.shift();0>a&&(a=Math.max(e.length+a,0));if(void 0===c)return void 0===a?e:e[a];if(null===a||void 0===e[a])if(s(c)){e=[];a=0;for(var k=c.length;a<k;a++)if(c[a].length||e.length&&e[e.length-1].length)e.length&&!e[e.length-1].length&&e.pop(),e.push(c[a])}else{if(c||"string"===typeof c)""===e[e.length-1]?e[e.length-1]=c:e.push(c)}else c||"string"===typeof c&&c.length?
        e[a]=c:e.splice(a,1);f&&e.unshift("");return this.path(e.join(b),d)};e.segmentCoded=function(a,c,d){var e,f;"number"!==typeof a&&(d=c,c=a,a=void 0);if(void 0===c){a=this.segment(a,c,d);if(s(a))for(e=0,f=a.length;e<f;e++)a[e]=b.decode(a[e]);else a=void 0!==a?b.decode(a):void 0;return a}if(s(c))for(e=0,f=c.length;e<f;e++)c[e]=b.decode(c[e]);else c="string"===typeof c?b.encode(c):c;return this.segment(a,c,d)};var E=e.query;e.query=function(a,c){if(!0===a)return b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
        if("function"===typeof a){var d=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=a.call(this,d);this._parts.query=b.buildQuery(e||d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!c);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=b.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this):E.call(this,a,c)};e.setQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
        if("object"===typeof a)for(var f in a)r.call(a,f)&&(e[f]=a[f]);else if("string"===typeof a)e[a]=void 0!==c?c:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.addQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.addQuery(e,a,void 0===c?null:c);this._parts.query=
        b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.removeQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.removeQuery(e,a,c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};e.hasQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
        return b.hasQuery(e,a,c,d)};e.setSearch=e.setQuery;e.addSearch=e.addQuery;e.removeSearch=e.removeQuery;e.hasSearch=e.hasQuery;e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};e.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),
        this.build(!a));return this};e.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&f?this._parts.hostname=f.toASCII(this._parts.hostname):this.is("IPv6")&&h&&(this._parts.hostname=h.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};e.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===b.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};e.normalizePath=
        function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var c,d=this._parts.path,e="",f,k;"/"!==d.charAt(0)&&(c=!0,d="/"+d);d=d.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");c&&(e=d.substring(1).match(/^(\.\.\/)+/)||"")&&(e=e[0]);for(;;){f=d.indexOf("/..");if(-1===f)break;else if(0===f){d=d.substring(3);continue}k=d.substring(0,f).lastIndexOf("/");-1===k&&(k=f);d=d.substring(0,k)+d.substring(f+3)}c&&this.is("relative")&&(d=e+d.substring(1));d=b.recodePath(d);
            this._parts.path=d;this.build(!a);return this};e.normalizePathname=e.normalizePath;e.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(b.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};e.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};e.normalizeSearch=e.normalizeQuery;e.normalizeHash=e.normalizeFragment;e.iso8859=function(){var a=
        b.encode,c=b.decode;b.encode=escape;b.decode=decodeURIComponent;this.normalize();b.encode=a;b.decode=c;return this};e.unicode=function(){var a=b.encode,c=b.decode;b.encode=k;b.decode=unescape;this.normalize();b.encode=a;b.decode=c;return this};e.readable=function(){var a=this.clone();a.username("").password("").normalize();var c="";a._parts.protocol&&(c+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&f?(c+=f.toUnicode(a._parts.hostname),a._parts.port&&(c+=":"+a._parts.port)):c+=a.host());
        a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(c+="/");c+=a.path(!0);if(a._parts.query){for(var d="",e=0,k=a._parts.query.split("&"),g=k.length;e<g;e++){var q=(k[e]||"").split("="),d=d+("&"+b.decodeQuery(q[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==q[1]&&(d+="="+b.decodeQuery(q[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=b.decodeQuery(a.hash(),!0)};e.absoluteTo=function(a){var c=this.clone(),d=["protocol","username",
        "password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof b||(a=new b(a));c._parts.protocol||(c._parts.protocol=a._parts.protocol);if(this._parts.hostname)return c;for(e=0;f=d[e];e++)c._parts[f]=a._parts[f];c._parts.path?".."===c._parts.path.substring(-2)&&(c._parts.path+="/"):(c._parts.path=a._parts.path,c._parts.query||(c._parts.query=a._parts.query));"/"!==c.path().charAt(0)&&(a=a.directory(),c._parts.path=(a?
        a+"/":"")+c._parts.path,c.normalizePath());c.build();return c};e.relativeTo=function(a){var c=this.clone().normalize(),d,e,f,k;if(c._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new b(a)).normalize();d=c._parts;e=a._parts;f=c.path();k=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==k.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");d.protocol===e.protocol&&(d.protocol=null);if(d.username===
        e.username&&d.password===e.password&&null===d.protocol&&null===d.username&&null===d.password&&d.hostname===e.hostname&&d.port===e.port)d.hostname=null,d.port=null;else return c.build();if(f===k)return d.path="",c.build();a=b.commonPath(c.path(),a.path());if(!a)return c.build();e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");d.path=e+d.path.substring(a.length);return c.build()};e.equals=function(a){var c=this.clone();a=new b(a);var d={},e={},f={},k;c.normalize();a.normalize();
        if(c.toString()===a.toString())return!0;d=c.query();e=a.query();c.query("");a.query("");if(c.toString()!==a.toString()||d.length!==e.length)return!1;d=b.parseQuery(d,this._parts.escapeQuerySpace);e=b.parseQuery(e,this._parts.escapeQuerySpace);for(k in d)if(r.call(d,k)){if(!s(d[k])){if(d[k]!==e[k])return!1}else if(!w(d[k],e[k]))return!1;f[k]=!0}for(k in e)if(r.call(e,k)&&!f[k])return!1;return!0};e.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};e.escapeQuerySpace=
        function(a){this._parts.escapeQuerySpace=!!a;return this};return b});
(function(f,h){"object"===typeof exports?module.exports=h(require("./URI")):"function"===typeof define&&define.amd?define(["./URI"],h):f.URITemplate=h(f.URI,f)})(this,function(f,h){function g(b){if(g._cache[b])return g._cache[b];if(!(this instanceof g))return new g(b);this.expression=b;g._cache[b]=this;return this}function p(b){this.data=b;this.cache={}}var b=h&&h.URITemplate,m=Object.prototype.hasOwnProperty,u=g.prototype,s={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},
    "+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",
        separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};g._cache={};g.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;g.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/;g.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/;g.expand=function(b,f){var h=s[b.operator],k=h.named?"Named":"Unnamed",t=b.variables,e=[],r,l,m;for(m=0;l=t[m];m++)r=f.get(l.name),r.val.length?e.push(g["expand"+k](r,h,l.explode,l.explode&&h.separator||",",l.maxlength,l.name)):r.type&&e.push("");return e.length?h.prefix+e.join(h.separator):
    ""};g.expandNamed=function(b,g,h,k,t,e){var r="",l=g.encode;g=g.empty_name_separator;var m=!b[l].length,s=2===b.type?"":f[l](e),p,u,C;u=0;for(C=b.val.length;u<C;u++)t?(p=f[l](b.val[u][1].substring(0,t)),2===b.type&&(s=f[l](b.val[u][0].substring(0,t)))):m?(p=f[l](b.val[u][1]),2===b.type?(s=f[l](b.val[u][0]),b[l].push([s,p])):b[l].push([void 0,p])):(p=b[l][u][1],2===b.type&&(s=b[l][u][0])),r&&(r+=k),h?r+=s+(g||p?"=":"")+p:(u||(r+=f[l](e)+(g||p?"=":"")),2===b.type&&(r+=s+","),r+=p);return r};g.expandUnnamed=
    function(b,g,h,k,t){var e="",r=g.encode;g=g.empty_name_separator;var l=!b[r].length,m,s,p,u;p=0;for(u=b.val.length;p<u;p++)t?s=f[r](b.val[p][1].substring(0,t)):l?(s=f[r](b.val[p][1]),b[r].push([2===b.type?f[r](b.val[p][0]):void 0,s])):s=b[r][p][1],e&&(e+=k),2===b.type&&(m=t?f[r](b.val[p][0].substring(0,t)):b[r][p][0],e+=m,e=h?e+(g||s?"=":""):e+","),e+=s;return e};g.noConflict=function(){h.URITemplate===g&&(h.URITemplate=b);return g};u.expand=function(b){var f="";this.parts&&this.parts.length||this.parse();
    b instanceof p||(b=new p(b));for(var h=0,k=this.parts.length;h<k;h++)f+="string"===typeof this.parts[h]?this.parts[h]:g.expand(this.parts[h],b);return f};u.parse=function(){var b=this.expression,f=g.EXPRESSION_PATTERN,h=g.VARIABLE_PATTERN,k=g.VARIABLE_NAME_PATTERN,t=[],e=0,r,l,m;for(f.lastIndex=0;;){l=f.exec(b);if(null===l){t.push(b.substring(e));break}else t.push(b.substring(e,l.index)),e=l.index+l[0].length;if(!s[l[1]])throw Error('Unknown Operator "'+l[1]+'" in "'+l[0]+'"');if(!l[3])throw Error('Unclosed Expression "'+
    l[0]+'"');r=l[2].split(",");for(var p=0,u=r.length;p<u;p++){m=r[p].match(h);if(null===m)throw Error('Invalid Variable "'+r[p]+'" in "'+l[0]+'"');if(m[1].match(k))throw Error('Invalid Variable Name "'+m[1]+'" in "'+l[0]+'"');r[p]={name:m[1],explode:!!m[3],maxlength:m[4]&&parseInt(m[4],10)}}if(!r.length)throw Error('Expression Missing Variable(s) "'+l[0]+'"');t.push({expression:l[0],operator:l[1],variables:r})}t.length||t.push(b);this.parts=t;return this};p.prototype.get=function(b){var f=this.data,
    g={type:0,val:[],encode:[],encodeReserved:[]},k;if(void 0!==this.cache[b])return this.cache[b];this.cache[b]=g;f="[object Function]"===String(Object.prototype.toString.call(f))?f(b):"[object Function]"===String(Object.prototype.toString.call(f[b]))?f[b](b):f[b];if(void 0!==f&&null!==f)if("[object Array]"===String(Object.prototype.toString.call(f))){k=0;for(b=f.length;k<b;k++)void 0!==f[k]&&null!==f[k]&&g.val.push([void 0,String(f[k])]);g.val.length&&(g.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(f))){for(k in f)m.call(f,
    k)&&void 0!==f[k]&&null!==f[k]&&g.val.push([k,String(f[k])]);g.val.length&&(g.type=2)}else g.type=1,g.val.push([void 0,String(f)]);return g};f.expand=function(b,h){var m=(new g(b)).expand(h);return new f(m)};return g});
(function(f,h){"object"===typeof exports?module.exports=h(require("jquery","./URI")):"function"===typeof define&&define.amd?define(["jquery","./URI"],h):h(f.jQuery,f.URI)})(this,function(f,h){function g(b){return b.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function p(b){var f=b.nodeName.toLowerCase();return"input"===f&&"image"!==b.type?void 0:h.domAttributes[f]}function b(b){return{get:function(g){return f(g).uri()[b]()},set:function(g,e){f(g).uri()[b](e);return e}}}function m(b,g){var e,h,l;if(!p(b)||
    !g)return!1;e=g.match(B);if(!e||!e[5]&&":"!==e[2]&&!s[e[2]])return!1;l=f(b).uri();if(e[5])return l.is(e[5]);if(":"===e[2])return h=e[1].toLowerCase()+":",s[h]?s[h](l,e[4]):!1;h=e[1].toLowerCase();return u[h]?s[e[2]](l[h](),e[4],h):!1}var u={},s={"=":function(b,f){return b===f},"^=":function(b,f){return!!(b+"").match(new RegExp("^"+g(f),"i"))},"$=":function(b,f){return!!(b+"").match(new RegExp(g(f)+"$","i"))},"*=":function(b,f,e){"directory"===e&&(b+="/");return!!(b+"").match(new RegExp(g(f),"i"))},
    "equals:":function(b,f){return b.equals(f)},"is:":function(b,f){return b.is(f)}};f.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "),function(g,h){u[h]=!0;f.attrHooks["uri:"+h]=b(h)});var q=function(b,g){return f(b).uri().href(g).toString()};f.each(["src","href","action","uri","cite"],function(b,g){f.attrHooks[g]={set:q}});f.attrHooks.uri.get=function(b){return f(b).uri()};
    f.fn.uri=function(b){var f=this.first(),e=f.get(0),g=p(e);if(!g)throw Error('Element "'+e.nodeName+'" does not have either property: href, src, action, cite');if(void 0!==b){var l=f.data("uri");if(l)return l.href(b);b instanceof h||(b=h(b||""))}else{if(b=f.data("uri"))return b;b=h(f.attr(g)||"")}b._dom_element=e;b._dom_attribute=g;b.normalize();f.data("uri",b);return b};h.prototype.build=function(b){if(this._dom_element)this._string=h.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,
        this._string),this._dom_element[this._dom_attribute]=this._string;else if(!0===b)this._deferred_build=!0;else if(void 0===b||this._deferred_build)this._string=h.build(this._parts),this._deferred_build=!1;return this};var w,B=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;w=f.expr.createPseudo?f.expr.createPseudo(function(b){return function(f){return m(f,b)}}):function(b,f,e){return m(b,e[3])};f.expr[":"].uri=w;return f});
;(function(){

   "use strict";

   window.SHB = {

    getMeta: function(tag){

     var metas = document.getElementsByTagName('meta'); 

     for (var i=0; i<metas.length; i++) { 
      if (metas[i].getAttribute("name") == tag) { 
       return metas[i].getAttribute("content"); 
      } 
     } 

     return "";
    },

    init: function(){

     if(typeof this.orig !== 'object'){
      this.orig = {};
      this.orig.defaults = this.defaults;
      this.orig.buttons = this.buttons;
     }
     this.defaults.desc = this.getMeta('description');
     this.defaults.img = this.getMeta('image');
    },

    reset: function(){

     this.defaults = this.orig.defaults;
     this.buttons = this.orig.buttons;
    },

    defaults: {

     btnTitle: 'Share via ',
     btnTag: 'a',
     btnLinkAttr: 'href',
     btnClass: 'btn btn-default', //Default TWBS Class
     btnSizeClass: '', // empty | btn-sm | btn-lg | btn-xs
     shareBtnText: 'Share:', //String
     url: window.location.href,
     iconClass: 'fa',
     iconSize: 'fa-lg',
     twitterName: 'bflyon', //Your website's Twitter Account
     title: document.title,
    },

    buttons: {

     fbLike: {

      iconClass: 'fa-thumbs-o-up fb',
      iconURL: 'http://www.facebook.com/plugins/like.php',
      iconParams: {
       url: 'href',
      } 
     },

     fbShare: {

      iconClass: 'fa-facebook fb',
      iconURL: 'http://www.facebook.com/sharer.php',
      iconParams: {
       url: 'u',
       desc: 't',
      } 
     },

     tweet: {

      iconClass: 'fa-twitter tw',
      iconURL: 'http://twitter.com/share',
      iconParams: {
       url: 'url',
       desc: 'text',
       twitterName: 'via',
      } 
     },

     plusOne: {

      btnClass: 'google-plus-one',
      iconHTML: '<span class="google">1</span>',
      iconClass: 'fa-google-plus google',
      iconURL: 'https://apis.google.com/_/+1/fastbutton',
      iconSize: 'fa-2x',
      iconParams: {
       url: 'url',
       other: { 
        hl: 'en',
        usegapi: '1',
        size: 'standard',
       }
      } 
     },

     plusShare: {

      iconClass: 'fa-google-plus google',
      iconURL: 'https://plus.google.com/share',
      iconParams: {
       url: 'url',
      } 
     },

     linkedInShare: {

      iconClass: 'fa-linkedin linkin',
      iconURL: 'http://www.linkedin.com/shareArticle',
      iconParams: {
       url: 'url',
      } 
     },

     vkShare: {

      iconClass: 'fa-vk vk',
      iconURL: 'http://vk.com/share.php',
      iconParams: {
       url: 'url',
       title: 'title',
       desc: 'description',
       img: 'image',
      } 
     },

     pinterest: {

      iconClass: 'fa-pinterest pinterest',
      iconURL: 'http://www.pinterest.com/pin/create/button/',
      iconParams: {
       url: 'url',
       title: 'title',
       desc: 'description',
       img: 'media',
      } 
     },

     surf: {

      iconClass: 'surfingbird',
      iconURL: 'http://surfingbird.ru/share',
      iconParams: {
       url: 'url',
       title: 'title',
       desc: 'description',
       img: 'screenshot',
      } 
     },

    },

    build: function(conf){

     this.init();

     if(typeof conf == 'string'){

      this.container = document.getElementById(conf);
      this.toBuild = this.prepareBtnConf(this.buttons);

     }else{

      this.container = document.getElementById(conf.elementID);
      var buttons = (typeof conf.buttons == 'object') ? conf.buttons : '*';

      if(buttons === '*'){

       this.toBuild = this.prepareBtnConf(this.buttons);

      }else{

       this.toBuild = this.prepareBtnConf(conf.buttons);
      }

      if(typeof conf.pref == 'object'){

       for (var index in conf.pref) {
        
        this.defaults[index] = (typeof conf.pref[index] == 'string') ? conf.pref[index] : this.defaults[index];
       };
      }
     }

     return this.btn();
    },


    btn: function(){

     for(var index in this.toBuild){

      var link = '';

      for(var ind in this.toBuild[index].iconParams){

       if(ind == 'other'){

        for(var indx in this.toBuild[index].iconParams[ind]){

         link = link + '' + indx + '=' + encodeURIComponent(this.toBuild[index].iconParams[ind][indx]) + '&';
        }

       }else{

        link = link + '' + this.toBuild[index].iconParams[ind] + '=' + encodeURIComponent(this.defaults[ind]) + '&';
       }
      }

      var b = document.createElement(this.defaults.btnTag);
      var bClass = (typeof this.toBuild[index].btnClass == 'string') ? this.toBuild[index].btnClass + ' ' + this.defaults.btnClass : this.defaults.btnClass;
      
      var linkStartsWith = (this.toBuild[index].iconURL.indexOf('?') !== -1) ? '&' : '?';
      b.setAttribute(this.defaults.btnLinkAttr, this.toBuild[index].iconURL + linkStartsWith + link);
      b.setAttribute('class', bClass + ' ' + this.defaults.btnSizeClass);
      b.setAttribute('target', '_blank');

      var size = (typeof this.toBuild[index].iconSize == 'string') ? this.toBuild[index].iconSize : this.defaults.iconSize;
      var i = document.createElement('i');
      i.setAttribute('class', size + ' ' + this.toBuild[index].iconClass + ' ' + this.defaults.iconClass);

      if(typeof this.toBuild[index].iconHTML == 'string'){

       b.innerHTML = this.toBuild[index].iconHTML; 
      }

      b.appendChild(i);
      this.container.appendChild(b);
     }

     this.reset();

     return this.container;
    },

    prepareBtnConf: function(btn){

     var b = {};

     for (var index in btn) {

      if(typeof this.buttons[index] == 'object'){
       
       b[index] = this.buttons[index];
         
       b[index].iconClass = (typeof btn[index].iconClass === 'object') ? btn[index].iconClass : this.buttons[index].iconClass;
       b[index].iconURL = (typeof btn[index].iconURL === 'object') ? btn[index].iconURL : this.buttons[index].iconURL;
       b[index].iconParams = (typeof btn[index].iconParams === 'object') ? btn[index].iconParams : this.buttons[index].iconParams;
       b[index].iconSize = (typeof btn[index].iconSize === 'object') ? btn[index].iconSize : this.buttons[index].iconSize;
      }else{

       b[index] = btn[index];
      }
     };

     return b;
    }
   }
  })();
;/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.5.6
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

/*jslint browser:true, node:true*/
/*global define, Event, Node*/


/**
 * Instantiate fast-clicking listeners on the specificed layer.
 *
 * @constructor
 * @param {Element} layer The layer to listen on
 */
function FastClick(layer) {
	'use strict';
	var oldOnClick, self = this;


	/**
	 * Whether a click is currently being tracked.
	 *
	 * @type boolean
	 */
	this.trackingClick = false;


	/**
	 * Timestamp for when when click tracking started.
	 *
	 * @type number
	 */
	this.trackingClickStart = 0;


	/**
	 * The element being tracked for a click.
	 *
	 * @type EventTarget
	 */
	this.targetElement = null;


	/**
	 * X-coordinate of touch start event.
	 *
	 * @type number
	 */
	this.touchStartX = 0;


	/**
	 * Y-coordinate of touch start event.
	 *
	 * @type number
	 */
	this.touchStartY = 0;


	/**
	 * ID of the last touch, retrieved from Touch.identifier.
	 *
	 * @type number
	 */
	this.lastTouchIdentifier = 0;


	/**
	 * The FastClick layer.
	 *
	 * @type Element
	 */
	this.layer = layer;

	if (!layer || !layer.nodeType) {
		throw new TypeError('Layer must be a document node');
	}

	/** @type function() */
	this.onClick = function() { FastClick.prototype.onClick.apply(self, arguments); };

	/** @type function() */
	this.onTouchStart = function() { FastClick.prototype.onTouchStart.apply(self, arguments); };

	/** @type function() */
	this.onTouchEnd = function() { FastClick.prototype.onTouchEnd.apply(self, arguments); };

	/** @type function() */
	this.onTouchCancel = function() { FastClick.prototype.onTouchCancel.apply(self, arguments); };

	// Devices that don't support touch don't need FastClick
	if (typeof window.ontouchstart === 'undefined') {
		return;
	}

	// Set up event handlers as required
	layer.addEventListener('click', this.onClick, true);
	layer.addEventListener('touchstart', this.onTouchStart, false);
	layer.addEventListener('touchend', this.onTouchEnd, false);
	layer.addEventListener('touchcancel', this.onTouchCancel, false);

	// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
	// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick
	// layer when they are cancelled.
	if (!Event.prototype.stopImmediatePropagation) {
		layer.removeEventListener = function(type, callback, capture) {
			var rmv = Node.prototype.removeEventListener;
			if (type === 'click') {
				rmv.call(layer, type, callback.hijacked || callback, capture);
			} else {
				rmv.call(layer, type, callback, capture);
			}
		};

		layer.addEventListener = function(type, callback, capture) {
			var adv = Node.prototype.addEventListener;
			if (type === 'click') {
				adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {
					if (!event.propagationStopped) {
						callback(event);
					}
				}), capture);
			} else {
				adv.call(layer, type, callback, capture);
			}
		};
	}

	// If a handler is already declared in the element's onclick attribute, it will be fired before
	// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and
	// adding it as listener.
	if (typeof layer.onclick === 'function') {

		// Android browser on at least 3.2 requires a new reference to the function in layer.onclick
		// - the old one won't work if passed to addEventListener directly.
		oldOnClick = layer.onclick;
		layer.addEventListener('click', function(event) {
			oldOnClick(event);
		}, false);
		layer.onclick = null;
	}
}


/**
 * Android requires an exception for labels.
 *
 * @type boolean
 */
FastClick.prototype.deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0;


/**
 * iOS requires an exception for alert confirm dialogs.
 *
 * @type boolean
 */
FastClick.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent);


/**
 * iOS 4 requires an exception for select elements.
 *
 * @type boolean
 */
FastClick.prototype.deviceIsIOS4 = FastClick.prototype.deviceIsIOS && (/OS 4_\d(_\d)?/).test(navigator.userAgent);


/**
 * iOS 6.0(+?) requires the target element to be manually derived
 *
 * @type boolean
 */
FastClick.prototype.deviceIsIOSWithBadTarget = FastClick.prototype.deviceIsIOS && (/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);


/**
 * Determine whether a given element requires a native click.
 *
 * @param {EventTarget|Element} target Target DOM element
 * @returns {boolean} Returns true if the element needs a native click
 */
FastClick.prototype.needsClick = function(target) {
	'use strict';
	switch (target.nodeName.toLowerCase()) {
	case 'button':
	case 'input':

		// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)
		if (this.deviceIsIOS && target.type === 'file') {
			return true;
		}

		// Don't send a synthetic click to disabled inputs (issue #62)
		return target.disabled;
	case 'label':
	case 'video':
		return true;
	default:
		return (/\bneedsclick\b/).test(target.className);
	}
};


/**
 * Determine whether a given element requires a call to focus to simulate click into element.
 *
 * @param {EventTarget|Element} target Target DOM element
 * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.
 */
FastClick.prototype.needsFocus = function(target) {
	'use strict';
	switch (target.nodeName.toLowerCase()) {
	case 'textarea':
	case 'select':
		return true;
	case 'input':
		switch (target.type) {
		case 'button':
		case 'checkbox':
		case 'file':
		case 'image':
		case 'radio':
		case 'submit':
			return false;
		}

		// No point in attempting to focus disabled inputs
		return !target.disabled;
	default:
		return (/\bneedsfocus\b/).test(target.className);
	}
};


/**
 * Send a click event to the specified element.
 *
 * @param {EventTarget|Element} targetElement
 * @param {Event} event
 */
FastClick.prototype.sendClick = function(targetElement, event) {
	'use strict';
	var clickEvent, touch;

	// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)
	if (document.activeElement && document.activeElement !== targetElement) {
		document.activeElement.blur();
	}

	touch = event.changedTouches[0];

	// Synthesise a click event, with an extra attribute so it can be tracked
	clickEvent = document.createEvent('MouseEvents');
	clickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
	clickEvent.forwardedTouchEvent = true;
	targetElement.dispatchEvent(clickEvent);
};


/**
 * @param {EventTarget|Element} targetElement
 */
FastClick.prototype.focus = function(targetElement) {
	'use strict';
	var length;

	if (this.deviceIsIOS && targetElement.setSelectionRange) {
		length = targetElement.value.length;
		targetElement.setSelectionRange(length, length);
	} else {
		targetElement.focus();
	}
};


/**
 * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.
 *
 * @param {EventTarget|Element} targetElement
 */
FastClick.prototype.updateScrollParent = function(targetElement) {
	'use strict';
	var scrollParent, parentElement;

	scrollParent = targetElement.fastClickScrollParent;

	// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the
	// target element was moved to another parent.
	if (!scrollParent || !scrollParent.contains(targetElement)) {
		parentElement = targetElement;
		do {
			if (parentElement.scrollHeight > parentElement.offsetHeight) {
				scrollParent = parentElement;
				targetElement.fastClickScrollParent = parentElement;
				break;
			}

			parentElement = parentElement.parentElement;
		} while (parentElement);
	}

	// Always update the scroll top tracker if possible.
	if (scrollParent) {
		scrollParent.fastClickLastScrollTop = scrollParent.scrollTop;
	}
};


/**
 * @param {EventTarget} targetElement
 * @returns {Element|EventTarget}
 */
FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {
	'use strict';

	// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.
	if (eventTarget.nodeType === Node.TEXT_NODE) {
		return eventTarget.parentNode;
	}

	return eventTarget;
};


/**
 * On touch start, record the position and scroll offset.
 *
 * @param {Event} event
 * @returns {boolean}
 */
FastClick.prototype.onTouchStart = function(event) {
	'use strict';
	var targetElement, touch, selection;

	targetElement = this.getTargetElementFromEventTarget(event.target);
	touch = event.targetTouches[0];

	if (this.deviceIsIOS) {

		// Only trusted events will deselect text on iOS (issue #49)
		selection = window.getSelection();
		if (selection.rangeCount && !selection.isCollapsed) {
			return true;
		}

		if (!this.deviceIsIOS4) {

			// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):
			// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched
			// with the same identifier as the touch event that previously triggered the click that triggered the alert.
			// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an
			// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.
			if (touch.identifier === this.lastTouchIdentifier) {
				event.preventDefault();
				return false;
			}
		
			this.lastTouchIdentifier = touch.identifier;

			// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:
			// 1) the user does a fling scroll on the scrollable layer
			// 2) the user stops the fling scroll with another tap
			// then the event.target of the last 'touchend' event will be the element that was under the user's finger
			// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check
			// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).
			this.updateScrollParent(targetElement);
		}
	}

	this.trackingClick = true;
	this.trackingClickStart = event.timeStamp;
	this.targetElement = targetElement;

	this.touchStartX = touch.pageX;
	this.touchStartY = touch.pageY;

	// Prevent phantom clicks on fast double-tap (issue #36)
	if ((event.timeStamp - this.lastClickTime) < 200) {
		event.preventDefault();
	}

	return true;
};


/**
 * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.
 *
 * @param {Event} event
 * @returns {boolean}
 */
FastClick.prototype.touchHasMoved = function(event) {
	'use strict';
	var touch = event.changedTouches[0];

	if (Math.abs(touch.pageX - this.touchStartX) > 10 || Math.abs(touch.pageY - this.touchStartY) > 10) {
		return true;
	}

	return false;
};


/**
 * Attempt to find the labelled control for the given label element.
 *
 * @param {EventTarget|HTMLLabelElement} labelElement
 * @returns {Element|null}
 */
FastClick.prototype.findControl = function(labelElement) {
	'use strict';

	// Fast path for newer browsers supporting the HTML5 control attribute
	if (labelElement.control !== undefined) {
		return labelElement.control;
	}

	// All browsers under test that support touch events also support the HTML5 htmlFor attribute
	if (labelElement.htmlFor) {
		return document.getElementById(labelElement.htmlFor);
	}

	// If no for attribute exists, attempt to retrieve the first labellable descendant element
	// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label
	return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');
};


/**
 * On touch end, determine whether to send a click event at once.
 *
 * @param {Event} event
 * @returns {boolean}
 */
FastClick.prototype.onTouchEnd = function(event) {
	'use strict';
	var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;

	// If the touch has moved, cancel the click tracking
	if (this.touchHasMoved(event)) {
		this.trackingClick = false;
		this.targetElement = null;
	}

	if (!this.trackingClick) {
		return true;
	}

	// Prevent phantom clicks on fast double-tap (issue #36)
	if ((event.timeStamp - this.lastClickTime) < 200) {
		this.cancelNextClick = true;
		return true;
	}

	this.lastClickTime = event.timeStamp;

	trackingClickStart = this.trackingClickStart;
	this.trackingClick = false;
	this.trackingClickStart = 0;

	// On some iOS devices, the targetElement supplied with the event is invalid if the layer
	// is performing a transition or scroll, and has to be re-detected manually. Note that
	// for this to function correctly, it must be called *after* the event target is checked!
	// See issue #57; also filed as rdar://13048589 .
	if (this.deviceIsIOSWithBadTarget) {
		touch = event.changedTouches[0];
		targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset);
	}

	targetTagName = targetElement.tagName.toLowerCase();
	if (targetTagName === 'label') {
		forElement = this.findControl(targetElement);
		if (forElement) {
			this.focus(targetElement);
			if (this.deviceIsAndroid) {
				return false;
			}

			targetElement = forElement;
		}
	} else if (this.needsFocus(targetElement)) {

		// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.
		// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).
		if ((event.timeStamp - trackingClickStart) > 100 || (this.deviceIsIOS && window.top !== window && targetTagName === 'input')) {
			this.targetElement = null;
			return false;
		}

		this.focus(targetElement);

		// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.
		if (!this.deviceIsIOS4 || targetTagName !== 'select') {
			this.targetElement = null;
			event.preventDefault();
		}

		return false;
	}

	if (this.deviceIsIOS && !this.deviceIsIOS4) {

		// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled
		// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).
		scrollParent = targetElement.fastClickScrollParent;
		if (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {
			return true;
		}
	}

	// Prevent the actual click from going though - unless the target node is marked as requiring
	// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.
	if (!this.needsClick(targetElement)) {
		event.preventDefault();
		this.sendClick(targetElement, event);
	}

	return false;
};


/**
 * On touch cancel, stop tracking the click.
 *
 * @returns {void}
 */
FastClick.prototype.onTouchCancel = function() {
	'use strict';
	this.trackingClick = false;
	this.targetElement = null;
};


/**
 * On actual clicks, determine whether this is a touch-generated click, a click action occurring
 * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or
 * an actual click which should be permitted.
 *
 * @param {Event} event
 * @returns {boolean}
 */
FastClick.prototype.onClick = function(event) {
	'use strict';
	var oldTargetElement;

	// If a target element was never set (because a touch event was never fired) allow the click
	if (!this.targetElement) {
		return true;
	}

	if (event.forwardedTouchEvent) {
		return true;
	}

	oldTargetElement = this.targetElement;
	this.targetElement = null;

	// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.
	if (this.trackingClick) {
		this.trackingClick = false;
		return true;
	}

	// Programmatically generated events targeting a specific element should be permitted
	if (!event.cancelable) {
		return true;
	}

	// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.
	if (event.target.type === 'submit' && event.detail === 0) {
		return true;
	}

	// Derive and check the target element to see whether the click needs to be permitted;
	// unless explicitly enabled, prevent non-touch click events from triggering actions,
	// to prevent ghost/doubleclicks.
	if (!this.needsClick(oldTargetElement) || this.cancelNextClick) {
		this.cancelNextClick = false;

		// Prevent any user-added listeners declared on FastClick element from being fired.
		if (event.stopImmediatePropagation) {
			event.stopImmediatePropagation();
		} else {

			// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
			event.propagationStopped = true;
		}

		// Cancel the event
		event.stopPropagation();
		event.preventDefault();

		return false;
	}

	// If clicks are permitted, return true for the action to go through.
	return true;
};


/**
 * Remove all FastClick's event listeners.
 *
 * @returns {void}
 */
FastClick.prototype.destroy = function() {
	'use strict';
	var layer = this.layer;

	layer.removeEventListener('click', this.onClick, true);
	layer.removeEventListener('touchstart', this.onTouchStart, false);
	layer.removeEventListener('touchend', this.onTouchEnd, false);
	layer.removeEventListener('touchcancel', this.onTouchCancel, false);
};


if (typeof define !== 'undefined' && define.amd) {

	// AMD. Register as an anonymous module.
	define(function() {
		'use strict';
		return FastClick;
	});
}

if (typeof module !== 'undefined' && module.exports) {
	module.exports = function(layer) {
		'use strict';
		return new FastClick(layer);
	};

	module.exports.FastClick = FastClick;
}
;//fgnass.github.com/spin.js#v1.3

/**
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */
(function(root, factory) {

  /* CommonJS */
  if (typeof exports == 'object')  module.exports = factory()

  /* AMD module */
  else if (typeof define == 'function' && define.amd) define(factory)

  /* Browser global */
  else root.Spinner = factory()
}
(this, function() {
  "use strict";

  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */
    , animations = {} /* Animation rules keyed by their name */
    , useCssAnimations /* Whether to use CSS animations or setTimeout */

  /**
   * Utility function to create elements. If no tag name is given,
   * a DIV is created. Optionally properties can be passed.
   */
  function createEl(tag, prop) {
    var el = document.createElement(tag || 'div')
      , n

    for(n in prop) el[n] = prop[n]
    return el
  }

  /**
   * Appends children and returns the parent.
   */
  function ins(parent /* child1, child2, ...*/) {
    for (var i=1, n=arguments.length; i<n; i++)
      parent.appendChild(arguments[i])

    return parent
  }

  /**
   * Insert a new stylesheet to hold the @keyframe or VML rules.
   */
  var sheet = (function() {
    var el = createEl('style', {type : 'text/css'})
    ins(document.getElementsByTagName('head')[0], el)
    return el.sheet || el.styleSheet
  }())

  /**
   * Creates an opacity keyframe animation rule and returns its name.
   * Since most mobile Webkits have timing issues with animation-delay,
   * we create separate rules for each line/segment.
   */
  function addAnimation(alpha, trail, i, lines) {
    var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-')
      , start = 0.01 + i/lines * 100
      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)
      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()
      , pre = prefix && '-' + prefix + '-' || ''

    if (!animations[name]) {
      sheet.insertRule(
        '@' + pre + 'keyframes ' + name + '{' +
        '0%{opacity:' + z + '}' +
        start + '%{opacity:' + alpha + '}' +
        (start+0.01) + '%{opacity:1}' +
        (start+trail) % 100 + '%{opacity:' + alpha + '}' +
        '100%{opacity:' + z + '}' +
        '}', sheet.cssRules.length)

      animations[name] = 1
    }

    return name
  }

  /**
   * Tries various vendor prefixes and returns the first supported property.
   */
  function vendor(el, prop) {
    var s = el.style
      , pp
      , i

    if(s[prop] !== undefined) return prop
    prop = prop.charAt(0).toUpperCase() + prop.slice(1)
    for(i=0; i<prefixes.length; i++) {
      pp = prefixes[i]+prop
      if(s[pp] !== undefined) return pp
    }
  }

  /**
   * Sets multiple style properties at once.
   */
  function css(el, prop) {
    for (var n in prop)
      el.style[vendor(el, n)||n] = prop[n]

    return el
  }

  /**
   * Fills in default values.
   */
  function merge(obj) {
    for (var i=1; i < arguments.length; i++) {
      var def = arguments[i]
      for (var n in def)
        if (obj[n] === undefined) obj[n] = def[n]
    }
    return obj
  }

  /**
   * Returns the absolute page-offset of the given element.
   */
  function pos(el) {
    var o = { x:el.offsetLeft, y:el.offsetTop }
    while((el = el.offsetParent))
      o.x+=el.offsetLeft, o.y+=el.offsetTop

    return o
  }

  // Built-in defaults

  var defaults = {
    lines: 12,            // The number of lines to draw
    length: 7,            // The length of each line
    width: 5,             // The line thickness
    radius: 10,           // The radius of the inner circle
    rotate: 0,            // Rotation offset
    corners: 1,           // Roundness (0..1)
    color: '#000',        // #rgb or #rrggbb
    direction: 1,         // 1: clockwise, -1: counterclockwise
    speed: 1,             // Rounds per second
    trail: 100,           // Afterglow percentage
    opacity: 1/4,         // Opacity of the lines
    fps: 20,              // Frames per second when using setTimeout()
    zIndex: 2e9,          // Use a high z-index by default
    className: 'spinner', // CSS class to assign to the element
    top: 'auto',          // center vertically
    left: 'auto',         // center horizontally
    position: 'relative'  // element position
  }

  /** The constructor */
  function Spinner(o) {
    if (typeof this == 'undefined') return new Spinner(o)
    this.opts = merge(o || {}, Spinner.defaults, defaults)
  }

  // Global defaults that override the built-ins:
  Spinner.defaults = {}

  merge(Spinner.prototype, {

    /**
     * Adds the spinner to the given target element. If this instance is already
     * spinning, it is automatically removed from its previous target b calling
     * stop() internally.
     */
    spin: function(target) {
      this.stop()

      var self = this
        , o = self.opts
        , el = self.el = css(createEl(0, {className: o.className}), {position: o.position, width: 0, zIndex: o.zIndex})
        , mid = o.radius+o.length+o.width
        , ep // element position
        , tp // target position

      if (target) {
        target.insertBefore(el, target.firstChild||null)
        tp = pos(target)
        ep = pos(el)
        css(el, {
          left: (o.left == 'auto' ? tp.x-ep.x + (target.offsetWidth >> 1) : parseInt(o.left, 10) + mid) + 'px',
          top: (o.top == 'auto' ? tp.y-ep.y + (target.offsetHeight >> 1) : parseInt(o.top, 10) + mid)  + 'px'
        })
      }

      el.setAttribute('role', 'progressbar')
      self.lines(el, self.opts)

      if (!useCssAnimations) {
        // No CSS animation support, use setTimeout() instead
        var i = 0
          , start = (o.lines - 1) * (1 - o.direction) / 2
          , alpha
          , fps = o.fps
          , f = fps/o.speed
          , ostep = (1-o.opacity) / (f*o.trail / 100)
          , astep = f/o.lines

        ;(function anim() {
          i++;
          for (var j = 0; j < o.lines; j++) {
            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)

            self.opacity(el, j * o.direction + start, alpha, o)
          }
          self.timeout = self.el && setTimeout(anim, ~~(1000/fps))
        })()
      }
      return self
    },

    /**
     * Stops and removes the Spinner.
     */
    stop: function() {
      var el = this.el
      if (el) {
        clearTimeout(this.timeout)
        if (el.parentNode) el.parentNode.removeChild(el)
        this.el = undefined
      }
      return this
    },

    /**
     * Internal method that draws the individual lines. Will be overwritten
     * in VML fallback mode below.
     */
    lines: function(el, o) {
      var i = 0
        , start = (o.lines - 1) * (1 - o.direction) / 2
        , seg

      function fill(color, shadow) {
        return css(createEl(), {
          position: 'absolute',
          width: (o.length+o.width) + 'px',
          height: o.width + 'px',
          background: color,
          boxShadow: shadow,
          transformOrigin: 'left',
          transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',
          borderRadius: (o.corners * o.width>>1) + 'px'
        })
      }

      for (; i < o.lines; i++) {
        seg = css(createEl(), {
          position: 'absolute',
          top: 1+~(o.width/2) + 'px',
          transform: o.hwaccel ? 'translate3d(0,0,0)' : '',
          opacity: o.opacity,
          animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1/o.speed + 's linear infinite'
        })

        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}))

        ins(el, ins(seg, fill(o.color, '0 0 1px rgba(0,0,0,.1)')))
      }
      return el
    },

    /**
     * Internal method that adjusts the opacity of a single line.
     * Will be overwritten in VML fallback mode below.
     */
    opacity: function(el, i, val) {
      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val
    }

  })


  function initVML() {

    /* Utility function to create a VML tag */
    function vml(tag, attr) {
      return createEl('<' + tag + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', attr)
    }

    // No CSS transforms but VML support, add a CSS rule for VML elements:
    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')

    Spinner.prototype.lines = function(el, o) {
      var r = o.length+o.width
        , s = 2*r

      function grp() {
        return css(
          vml('group', {
            coordsize: s + ' ' + s,
            coordorigin: -r + ' ' + -r
          }),
          { width: s, height: s }
        )
      }

      var margin = -(o.width+o.length)*2 + 'px'
        , g = css(grp(), {position: 'absolute', top: margin, left: margin})
        , i

      function seg(i, dx, filter) {
        ins(g,
          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),
            ins(css(vml('roundrect', {arcsize: o.corners}), {
                width: r,
                height: o.width,
                left: o.radius,
                top: -o.width>>1,
                filter: filter
              }),
              vml('fill', {color: o.color, opacity: o.opacity}),
              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change
            )
          )
        )
      }

      if (o.shadow)
        for (i = 1; i <= o.lines; i++)
          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')

      for (i = 1; i <= o.lines; i++) seg(i)
      return ins(el, g)
    }

    Spinner.prototype.opacity = function(el, i, val, o) {
      var c = el.firstChild
      o = o.shadow && o.lines || 0
      if (c && i+o < c.childNodes.length) {
        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild
        if (c) c.opacity = val
      }
    }
  }

  var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})

  if (!vendor(probe, 'transform') && probe.adj) initVML()
  else useCssAnimations = vendor(probe, 'animation')

  return Spinner

}));;!function() {
  var d3 = {
    version: "3.4.6"
  };
  if (!Date.now) Date.now = function() {
    return +new Date();
  };
  var d3_arraySlice = [].slice, d3_array = function(list) {
    return d3_arraySlice.call(list);
  };
  var d3_document = document, d3_documentElement = d3_document.documentElement, d3_window = window;
  try {
    d3_array(d3_documentElement.childNodes)[0].nodeType;
  } catch (e) {
    d3_array = function(list) {
      var i = list.length, array = new Array(i);
      while (i--) array[i] = list[i];
      return array;
    };
  }
  try {
    d3_document.createElement("div").style.setProperty("opacity", 0, "");
  } catch (error) {
    var d3_element_prototype = d3_window.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = d3_window.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;
    d3_element_prototype.setAttribute = function(name, value) {
      d3_element_setAttribute.call(this, name, value + "");
    };
    d3_element_prototype.setAttributeNS = function(space, local, value) {
      d3_element_setAttributeNS.call(this, space, local, value + "");
    };
    d3_style_prototype.setProperty = function(name, value, priority) {
      d3_style_setProperty.call(this, name, value + "", priority);
    };
  }
  d3.ascending = d3_ascending;
  function d3_ascending(a, b) {
    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;
  }
  d3.descending = function(a, b) {
    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;
  };
  d3.min = function(array, f) {
    var i = -1, n = array.length, a, b;
    if (arguments.length === 1) {
      while (++i < n && !((a = array[i]) != null && a <= a)) a = undefined;
      while (++i < n) if ((b = array[i]) != null && a > b) a = b;
    } else {
      while (++i < n && !((a = f.call(array, array[i], i)) != null && a <= a)) a = undefined;
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;
    }
    return a;
  };
  d3.max = function(array, f) {
    var i = -1, n = array.length, a, b;
    if (arguments.length === 1) {
      while (++i < n && !((a = array[i]) != null && a <= a)) a = undefined;
      while (++i < n) if ((b = array[i]) != null && b > a) a = b;
    } else {
      while (++i < n && !((a = f.call(array, array[i], i)) != null && a <= a)) a = undefined;
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;
    }
    return a;
  };
  d3.extent = function(array, f) {
    var i = -1, n = array.length, a, b, c;
    if (arguments.length === 1) {
      while (++i < n && !((a = c = array[i]) != null && a <= a)) a = c = undefined;
      while (++i < n) if ((b = array[i]) != null) {
        if (a > b) a = b;
        if (c < b) c = b;
      }
    } else {
      while (++i < n && !((a = c = f.call(array, array[i], i)) != null && a <= a)) a = undefined;
      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {
        if (a > b) a = b;
        if (c < b) c = b;
      }
    }
    return [ a, c ];
  };
  d3.sum = function(array, f) {
    var s = 0, n = array.length, a, i = -1;
    if (arguments.length === 1) {
      while (++i < n) if (!isNaN(a = +array[i])) s += a;
    } else {
      while (++i < n) if (!isNaN(a = +f.call(array, array[i], i))) s += a;
    }
    return s;
  };
  function d3_number(x) {
    return x != null && !isNaN(x);
  }
  d3.mean = function(array, f) {
    var s = 0, n = array.length, a, i = -1, j = n;
    if (arguments.length === 1) {
      while (++i < n) if (d3_number(a = array[i])) s += a; else --j;
    } else {
      while (++i < n) if (d3_number(a = f.call(array, array[i], i))) s += a; else --j;
    }
    return j ? s / j : undefined;
  };
  d3.quantile = function(values, p) {
    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;
    return e ? v + e * (values[h] - v) : v;
  };
  d3.median = function(array, f) {
    if (arguments.length > 1) array = array.map(f);
    array = array.filter(d3_number);
    return array.length ? d3.quantile(array.sort(d3_ascending), .5) : undefined;
  };
  function d3_bisector(compare) {
    return {
      left: function(a, x, lo, hi) {
        if (arguments.length < 3) lo = 0;
        if (arguments.length < 4) hi = a.length;
        while (lo < hi) {
          var mid = lo + hi >>> 1;
          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;
        }
        return lo;
      },
      right: function(a, x, lo, hi) {
        if (arguments.length < 3) lo = 0;
        if (arguments.length < 4) hi = a.length;
        while (lo < hi) {
          var mid = lo + hi >>> 1;
          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;
        }
        return lo;
      }
    };
  }
  var d3_bisect = d3_bisector(d3_ascending);
  d3.bisectLeft = d3_bisect.left;
  d3.bisect = d3.bisectRight = d3_bisect.right;
  d3.bisector = function(f) {
    return d3_bisector(f.length === 1 ? function(d, x) {
      return d3_ascending(f(d), x);
    } : f);
  };
  d3.shuffle = function(array) {
    var m = array.length, t, i;
    while (m) {
      i = Math.random() * m-- | 0;
      t = array[m], array[m] = array[i], array[i] = t;
    }
    return array;
  };
  d3.permute = function(array, indexes) {
    var i = indexes.length, permutes = new Array(i);
    while (i--) permutes[i] = array[indexes[i]];
    return permutes;
  };
  d3.pairs = function(array) {
    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);
    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];
    return pairs;
  };
  d3.zip = function() {
    if (!(n = arguments.length)) return [];
    for (var i = -1, m = d3.min(arguments, d3_zipLength), zips = new Array(m); ++i < m; ) {
      for (var j = -1, n, zip = zips[i] = new Array(n); ++j < n; ) {
        zip[j] = arguments[j][i];
      }
    }
    return zips;
  };
  function d3_zipLength(d) {
    return d.length;
  }
  d3.transpose = function(matrix) {
    return d3.zip.apply(d3, matrix);
  };
  d3.keys = function(map) {
    var keys = [];
    for (var key in map) keys.push(key);
    return keys;
  };
  d3.values = function(map) {
    var values = [];
    for (var key in map) values.push(map[key]);
    return values;
  };
  d3.entries = function(map) {
    var entries = [];
    for (var key in map) entries.push({
      key: key,
      value: map[key]
    });
    return entries;
  };
  d3.merge = function(arrays) {
    var n = arrays.length, m, i = -1, j = 0, merged, array;
    while (++i < n) j += arrays[i].length;
    merged = new Array(j);
    while (--n >= 0) {
      array = arrays[n];
      m = array.length;
      while (--m >= 0) {
        merged[--j] = array[m];
      }
    }
    return merged;
  };
  var abs = Math.abs;
  d3.range = function(start, stop, step) {
    if (arguments.length < 3) {
      step = 1;
      if (arguments.length < 2) {
        stop = start;
        start = 0;
      }
    }
    if ((stop - start) / step === Infinity) throw new Error("infinite range");
    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;
    start *= k, stop *= k, step *= k;
    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);
    return range;
  };
  function d3_range_integerScale(x) {
    var k = 1;
    while (x * k % 1) k *= 10;
    return k;
  }
  function d3_class(ctor, properties) {
    try {
      for (var key in properties) {
        Object.defineProperty(ctor.prototype, key, {
          value: properties[key],
          enumerable: false
        });
      }
    } catch (e) {
      ctor.prototype = properties;
    }
  }
  d3.map = function(object) {
    var map = new d3_Map();
    if (object instanceof d3_Map) object.forEach(function(key, value) {
      map.set(key, value);
    }); else for (var key in object) map.set(key, object[key]);
    return map;
  };
  function d3_Map() {}
  d3_class(d3_Map, {
    has: d3_map_has,
    get: function(key) {
      return this[d3_map_prefix + key];
    },
    set: function(key, value) {
      return this[d3_map_prefix + key] = value;
    },
    remove: d3_map_remove,
    keys: d3_map_keys,
    values: function() {
      var values = [];
      this.forEach(function(key, value) {
        values.push(value);
      });
      return values;
    },
    entries: function() {
      var entries = [];
      this.forEach(function(key, value) {
        entries.push({
          key: key,
          value: value
        });
      });
      return entries;
    },
    size: d3_map_size,
    empty: d3_map_empty,
    forEach: function(f) {
      for (var key in this) if (key.charCodeAt(0) === d3_map_prefixCode) f.call(this, key.substring(1), this[key]);
    }
  });
  var d3_map_prefix = "\x00", d3_map_prefixCode = d3_map_prefix.charCodeAt(0);
  function d3_map_has(key) {
    return d3_map_prefix + key in this;
  }
  function d3_map_remove(key) {
    key = d3_map_prefix + key;
    return key in this && delete this[key];
  }
  function d3_map_keys() {
    var keys = [];
    this.forEach(function(key) {
      keys.push(key);
    });
    return keys;
  }
  function d3_map_size() {
    var size = 0;
    for (var key in this) if (key.charCodeAt(0) === d3_map_prefixCode) ++size;
    return size;
  }
  function d3_map_empty() {
    for (var key in this) if (key.charCodeAt(0) === d3_map_prefixCode) return false;
    return true;
  }
  d3.nest = function() {
    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;
    function map(mapType, array, depth) {
      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;
      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values;
      while (++i < n) {
        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {
          values.push(object);
        } else {
          valuesByKey.set(keyValue, [ object ]);
        }
      }
      if (mapType) {
        object = mapType();
        setter = function(keyValue, values) {
          object.set(keyValue, map(mapType, values, depth));
        };
      } else {
        object = {};
        setter = function(keyValue, values) {
          object[keyValue] = map(mapType, values, depth);
        };
      }
      valuesByKey.forEach(setter);
      return object;
    }
    function entries(map, depth) {
      if (depth >= keys.length) return map;
      var array = [], sortKey = sortKeys[depth++];
      map.forEach(function(key, keyMap) {
        array.push({
          key: key,
          values: entries(keyMap, depth)
        });
      });
      return sortKey ? array.sort(function(a, b) {
        return sortKey(a.key, b.key);
      }) : array;
    }
    nest.map = function(array, mapType) {
      return map(mapType, array, 0);
    };
    nest.entries = function(array) {
      return entries(map(d3.map, array, 0), 0);
    };
    nest.key = function(d) {
      keys.push(d);
      return nest;
    };
    nest.sortKeys = function(order) {
      sortKeys[keys.length - 1] = order;
      return nest;
    };
    nest.sortValues = function(order) {
      sortValues = order;
      return nest;
    };
    nest.rollup = function(f) {
      rollup = f;
      return nest;
    };
    return nest;
  };
  d3.set = function(array) {
    var set = new d3_Set();
    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);
    return set;
  };
  function d3_Set() {}
  d3_class(d3_Set, {
    has: d3_map_has,
    add: function(value) {
      this[d3_map_prefix + value] = true;
      return value;
    },
    remove: function(value) {
      value = d3_map_prefix + value;
      return value in this && delete this[value];
    },
    values: d3_map_keys,
    size: d3_map_size,
    empty: d3_map_empty,
    forEach: function(f) {
      for (var value in this) if (value.charCodeAt(0) === d3_map_prefixCode) f.call(this, value.substring(1));
    }
  });
  d3.behavior = {};
  d3.rebind = function(target, source) {
    var i = 1, n = arguments.length, method;
    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);
    return target;
  };
  function d3_rebind(target, source, method) {
    return function() {
      var value = method.apply(source, arguments);
      return value === source ? target : value;
    };
  }
  function d3_vendorSymbol(object, name) {
    if (name in object) return name;
    name = name.charAt(0).toUpperCase() + name.substring(1);
    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {
      var prefixName = d3_vendorPrefixes[i] + name;
      if (prefixName in object) return prefixName;
    }
  }
  var d3_vendorPrefixes = [ "webkit", "ms", "moz", "Moz", "o", "O" ];
  function d3_noop() {}
  d3.dispatch = function() {
    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;
    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);
    return dispatch;
  };
  function d3_dispatch() {}
  d3_dispatch.prototype.on = function(type, listener) {
    var i = type.indexOf("."), name = "";
    if (i >= 0) {
      name = type.substring(i + 1);
      type = type.substring(0, i);
    }
    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);
    if (arguments.length === 2) {
      if (listener == null) for (type in this) {
        if (this.hasOwnProperty(type)) this[type].on(name, null);
      }
      return this;
    }
  };
  function d3_dispatch_event(dispatch) {
    var listeners = [], listenerByName = new d3_Map();
    function event() {
      var z = listeners, i = -1, n = z.length, l;
      while (++i < n) if (l = z[i].on) l.apply(this, arguments);
      return dispatch;
    }
    event.on = function(name, listener) {
      var l = listenerByName.get(name), i;
      if (arguments.length < 2) return l && l.on;
      if (l) {
        l.on = null;
        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));
        listenerByName.remove(name);
      }
      if (listener) listeners.push(listenerByName.set(name, {
        on: listener
      }));
      return dispatch;
    };
    return event;
  }
  d3.event = null;
  function d3_eventPreventDefault() {
    d3.event.preventDefault();
  }
  function d3_eventSource() {
    var e = d3.event, s;
    while (s = e.sourceEvent) e = s;
    return e;
  }
  function d3_eventDispatch(target) {
    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;
    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);
    dispatch.of = function(thiz, argumentz) {
      return function(e1) {
        try {
          var e0 = e1.sourceEvent = d3.event;
          e1.target = target;
          d3.event = e1;
          dispatch[e1.type].apply(thiz, argumentz);
        } finally {
          d3.event = e0;
        }
      };
    };
    return dispatch;
  }
  d3.requote = function(s) {
    return s.replace(d3_requote_re, "\\$&");
  };
  var d3_requote_re = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
  var d3_subclass = {}.__proto__ ? function(object, prototype) {
    object.__proto__ = prototype;
  } : function(object, prototype) {
    for (var property in prototype) object[property] = prototype[property];
  };
  function d3_selection(groups) {
    d3_subclass(groups, d3_selectionPrototype);
    return groups;
  }
  var d3_select = function(s, n) {
    return n.querySelector(s);
  }, d3_selectAll = function(s, n) {
    return n.querySelectorAll(s);
  }, d3_selectMatcher = d3_documentElement[d3_vendorSymbol(d3_documentElement, "matchesSelector")], d3_selectMatches = function(n, s) {
    return d3_selectMatcher.call(n, s);
  };
  if (typeof Sizzle === "function") {
    d3_select = function(s, n) {
      return Sizzle(s, n)[0] || null;
    };
    d3_selectAll = Sizzle;
    d3_selectMatches = Sizzle.matchesSelector;
  }
  d3.selection = function() {
    return d3_selectionRoot;
  };
  var d3_selectionPrototype = d3.selection.prototype = [];
  d3_selectionPrototype.select = function(selector) {
    var subgroups = [], subgroup, subnode, group, node;
    selector = d3_selection_selector(selector);
    for (var j = -1, m = this.length; ++j < m; ) {
      subgroups.push(subgroup = []);
      subgroup.parentNode = (group = this[j]).parentNode;
      for (var i = -1, n = group.length; ++i < n; ) {
        if (node = group[i]) {
          subgroup.push(subnode = selector.call(node, node.__data__, i, j));
          if (subnode && "__data__" in node) subnode.__data__ = node.__data__;
        } else {
          subgroup.push(null);
        }
      }
    }
    return d3_selection(subgroups);
  };
  function d3_selection_selector(selector) {
    return typeof selector === "function" ? selector : function() {
      return d3_select(selector, this);
    };
  }
  d3_selectionPrototype.selectAll = function(selector) {
    var subgroups = [], subgroup, node;
    selector = d3_selection_selectorAll(selector);
    for (var j = -1, m = this.length; ++j < m; ) {
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {
        if (node = group[i]) {
          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));
          subgroup.parentNode = node;
        }
      }
    }
    return d3_selection(subgroups);
  };
  function d3_selection_selectorAll(selector) {
    return typeof selector === "function" ? selector : function() {
      return d3_selectAll(selector, this);
    };
  }
  var d3_nsPrefix = {
    svg: "http://www.w3.org/2000/svg",
    xhtml: "http://www.w3.org/1999/xhtml",
    xlink: "http://www.w3.org/1999/xlink",
    xml: "http://www.w3.org/XML/1998/namespace",
    xmlns: "http://www.w3.org/2000/xmlns/"
  };
  d3.ns = {
    prefix: d3_nsPrefix,
    qualify: function(name) {
      var i = name.indexOf(":"), prefix = name;
      if (i >= 0) {
        prefix = name.substring(0, i);
        name = name.substring(i + 1);
      }
      return d3_nsPrefix.hasOwnProperty(prefix) ? {
        space: d3_nsPrefix[prefix],
        local: name
      } : name;
    }
  };
  d3_selectionPrototype.attr = function(name, value) {
    if (arguments.length < 2) {
      if (typeof name === "string") {
        var node = this.node();
        name = d3.ns.qualify(name);
        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);
      }
      for (value in name) this.each(d3_selection_attr(value, name[value]));
      return this;
    }
    return this.each(d3_selection_attr(name, value));
  };
  function d3_selection_attr(name, value) {
    name = d3.ns.qualify(name);
    function attrNull() {
      this.removeAttribute(name);
    }
    function attrNullNS() {
      this.removeAttributeNS(name.space, name.local);
    }
    function attrConstant() {
      this.setAttribute(name, value);
    }
    function attrConstantNS() {
      this.setAttributeNS(name.space, name.local, value);
    }
    function attrFunction() {
      var x = value.apply(this, arguments);
      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);
    }
    function attrFunctionNS() {
      var x = value.apply(this, arguments);
      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);
    }
    return value == null ? name.local ? attrNullNS : attrNull : typeof value === "function" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;
  }
  function d3_collapse(s) {
    return s.trim().replace(/\s+/g, " ");
  }
  d3_selectionPrototype.classed = function(name, value) {
    if (arguments.length < 2) {
      if (typeof name === "string") {
        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;
        if (value = node.classList) {
          while (++i < n) if (!value.contains(name[i])) return false;
        } else {
          value = node.getAttribute("class");
          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;
        }
        return true;
      }
      for (value in name) this.each(d3_selection_classed(value, name[value]));
      return this;
    }
    return this.each(d3_selection_classed(name, value));
  };
  function d3_selection_classedRe(name) {
    return new RegExp("(?:^|\\s+)" + d3.requote(name) + "(?:\\s+|$)", "g");
  }
  function d3_selection_classes(name) {
    return name.trim().split(/^|\s+/);
  }
  function d3_selection_classed(name, value) {
    name = d3_selection_classes(name).map(d3_selection_classedName);
    var n = name.length;
    function classedConstant() {
      var i = -1;
      while (++i < n) name[i](this, value);
    }
    function classedFunction() {
      var i = -1, x = value.apply(this, arguments);
      while (++i < n) name[i](this, x);
    }
    return typeof value === "function" ? classedFunction : classedConstant;
  }
  function d3_selection_classedName(name) {
    var re = d3_selection_classedRe(name);
    return function(node, value) {
      if (c = node.classList) return value ? c.add(name) : c.remove(name);
      var c = node.getAttribute("class") || "";
      if (value) {
        re.lastIndex = 0;
        if (!re.test(c)) node.setAttribute("class", d3_collapse(c + " " + name));
      } else {
        node.setAttribute("class", d3_collapse(c.replace(re, " ")));
      }
    };
  }
  d3_selectionPrototype.style = function(name, value, priority) {
    var n = arguments.length;
    if (n < 3) {
      if (typeof name !== "string") {
        if (n < 2) value = "";
        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));
        return this;
      }
      if (n < 2) return d3_window.getComputedStyle(this.node(), null).getPropertyValue(name);
      priority = "";
    }
    return this.each(d3_selection_style(name, value, priority));
  };
  function d3_selection_style(name, value, priority) {
    function styleNull() {
      this.style.removeProperty(name);
    }
    function styleConstant() {
      this.style.setProperty(name, value, priority);
    }
    function styleFunction() {
      var x = value.apply(this, arguments);
      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);
    }
    return value == null ? styleNull : typeof value === "function" ? styleFunction : styleConstant;
  }
  d3_selectionPrototype.property = function(name, value) {
    if (arguments.length < 2) {
      if (typeof name === "string") return this.node()[name];
      for (value in name) this.each(d3_selection_property(value, name[value]));
      return this;
    }
    return this.each(d3_selection_property(name, value));
  };
  function d3_selection_property(name, value) {
    function propertyNull() {
      delete this[name];
    }
    function propertyConstant() {
      this[name] = value;
    }
    function propertyFunction() {
      var x = value.apply(this, arguments);
      if (x == null) delete this[name]; else this[name] = x;
    }
    return value == null ? propertyNull : typeof value === "function" ? propertyFunction : propertyConstant;
  }
  d3_selectionPrototype.text = function(value) {
    return arguments.length ? this.each(typeof value === "function" ? function() {
      var v = value.apply(this, arguments);
      this.textContent = v == null ? "" : v;
    } : value == null ? function() {
      this.textContent = "";
    } : function() {
      this.textContent = value;
    }) : this.node().textContent;
  };
  d3_selectionPrototype.html = function(value) {
    return arguments.length ? this.each(typeof value === "function" ? function() {
      var v = value.apply(this, arguments);
      this.innerHTML = v == null ? "" : v;
    } : value == null ? function() {
      this.innerHTML = "";
    } : function() {
      this.innerHTML = value;
    }) : this.node().innerHTML;
  };
  d3_selectionPrototype.append = function(name) {
    name = d3_selection_creator(name);
    return this.select(function() {
      return this.appendChild(name.apply(this, arguments));
    });
  };
  function d3_selection_creator(name) {
    return typeof name === "function" ? name : (name = d3.ns.qualify(name)).local ? function() {
      return this.ownerDocument.createElementNS(name.space, name.local);
    } : function() {
      return this.ownerDocument.createElementNS(this.namespaceURI, name);
    };
  }
  d3_selectionPrototype.insert = function(name, before) {
    name = d3_selection_creator(name);
    before = d3_selection_selector(before);
    return this.select(function() {
      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);
    });
  };
  d3_selectionPrototype.remove = function() {
    return this.each(function() {
      var parent = this.parentNode;
      if (parent) parent.removeChild(this);
    });
  };
  d3_selectionPrototype.data = function(value, key) {
    var i = -1, n = this.length, group, node;
    if (!arguments.length) {
      value = new Array(n = (group = this[0]).length);
      while (++i < n) {
        if (node = group[i]) {
          value[i] = node.__data__;
        }
      }
      return value;
    }
    function bind(group, groupData) {
      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;
      if (key) {
        var nodeByKeyValue = new d3_Map(), dataByKeyValue = new d3_Map(), keyValues = [], keyValue;
        for (i = -1; ++i < n; ) {
          keyValue = key.call(node = group[i], node.__data__, i);
          if (nodeByKeyValue.has(keyValue)) {
            exitNodes[i] = node;
          } else {
            nodeByKeyValue.set(keyValue, node);
          }
          keyValues.push(keyValue);
        }
        for (i = -1; ++i < m; ) {
          keyValue = key.call(groupData, nodeData = groupData[i], i);
          if (node = nodeByKeyValue.get(keyValue)) {
            updateNodes[i] = node;
            node.__data__ = nodeData;
          } else if (!dataByKeyValue.has(keyValue)) {
            enterNodes[i] = d3_selection_dataNode(nodeData);
          }
          dataByKeyValue.set(keyValue, nodeData);
          nodeByKeyValue.remove(keyValue);
        }
        for (i = -1; ++i < n; ) {
          if (nodeByKeyValue.has(keyValues[i])) {
            exitNodes[i] = group[i];
          }
        }
      } else {
        for (i = -1; ++i < n0; ) {
          node = group[i];
          nodeData = groupData[i];
          if (node) {
            node.__data__ = nodeData;
            updateNodes[i] = node;
          } else {
            enterNodes[i] = d3_selection_dataNode(nodeData);
          }
        }
        for (;i < m; ++i) {
          enterNodes[i] = d3_selection_dataNode(groupData[i]);
        }
        for (;i < n; ++i) {
          exitNodes[i] = group[i];
        }
      }
      enterNodes.update = updateNodes;
      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;
      enter.push(enterNodes);
      update.push(updateNodes);
      exit.push(exitNodes);
    }
    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);
    if (typeof value === "function") {
      while (++i < n) {
        bind(group = this[i], value.call(group, group.parentNode.__data__, i));
      }
    } else {
      while (++i < n) {
        bind(group = this[i], value);
      }
    }
    update.enter = function() {
      return enter;
    };
    update.exit = function() {
      return exit;
    };
    return update;
  };
  function d3_selection_dataNode(data) {
    return {
      __data__: data
    };
  }
  d3_selectionPrototype.datum = function(value) {
    return arguments.length ? this.property("__data__", value) : this.property("__data__");
  };
  d3_selectionPrototype.filter = function(filter) {
    var subgroups = [], subgroup, group, node;
    if (typeof filter !== "function") filter = d3_selection_filter(filter);
    for (var j = 0, m = this.length; j < m; j++) {
      subgroups.push(subgroup = []);
      subgroup.parentNode = (group = this[j]).parentNode;
      for (var i = 0, n = group.length; i < n; i++) {
        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {
          subgroup.push(node);
        }
      }
    }
    return d3_selection(subgroups);
  };
  function d3_selection_filter(selector) {
    return function() {
      return d3_selectMatches(this, selector);
    };
  }
  d3_selectionPrototype.order = function() {
    for (var j = -1, m = this.length; ++j < m; ) {
      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {
        if (node = group[i]) {
          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);
          next = node;
        }
      }
    }
    return this;
  };
  d3_selectionPrototype.sort = function(comparator) {
    comparator = d3_selection_sortComparator.apply(this, arguments);
    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);
    return this.order();
  };
  function d3_selection_sortComparator(comparator) {
    if (!arguments.length) comparator = d3_ascending;
    return function(a, b) {
      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;
    };
  }
  d3_selectionPrototype.each = function(callback) {
    return d3_selection_each(this, function(node, i, j) {
      callback.call(node, node.__data__, i, j);
    });
  };
  function d3_selection_each(groups, callback) {
    for (var j = 0, m = groups.length; j < m; j++) {
      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {
        if (node = group[i]) callback(node, i, j);
      }
    }
    return groups;
  }
  d3_selectionPrototype.call = function(callback) {
    var args = d3_array(arguments);
    callback.apply(args[0] = this, args);
    return this;
  };
  d3_selectionPrototype.empty = function() {
    return !this.node();
  };
  d3_selectionPrototype.node = function() {
    for (var j = 0, m = this.length; j < m; j++) {
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {
        var node = group[i];
        if (node) return node;
      }
    }
    return null;
  };
  d3_selectionPrototype.size = function() {
    var n = 0;
    this.each(function() {
      ++n;
    });
    return n;
  };
  function d3_selection_enter(selection) {
    d3_subclass(selection, d3_selection_enterPrototype);
    return selection;
  }
  var d3_selection_enterPrototype = [];
  d3.selection.enter = d3_selection_enter;
  d3.selection.enter.prototype = d3_selection_enterPrototype;
  d3_selection_enterPrototype.append = d3_selectionPrototype.append;
  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;
  d3_selection_enterPrototype.node = d3_selectionPrototype.node;
  d3_selection_enterPrototype.call = d3_selectionPrototype.call;
  d3_selection_enterPrototype.size = d3_selectionPrototype.size;
  d3_selection_enterPrototype.select = function(selector) {
    var subgroups = [], subgroup, subnode, upgroup, group, node;
    for (var j = -1, m = this.length; ++j < m; ) {
      upgroup = (group = this[j]).update;
      subgroups.push(subgroup = []);
      subgroup.parentNode = group.parentNode;
      for (var i = -1, n = group.length; ++i < n; ) {
        if (node = group[i]) {
          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));
          subnode.__data__ = node.__data__;
        } else {
          subgroup.push(null);
        }
      }
    }
    return d3_selection(subgroups);
  };
  d3_selection_enterPrototype.insert = function(name, before) {
    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);
    return d3_selectionPrototype.insert.call(this, name, before);
  };
  function d3_selection_enterInsertBefore(enter) {
    var i0, j0;
    return function(d, i, j) {
      var group = enter[j].update, n = group.length, node;
      if (j != j0) j0 = j, i0 = 0;
      if (i >= i0) i0 = i + 1;
      while (!(node = group[i0]) && ++i0 < n) ;
      return node;
    };
  }
  d3_selectionPrototype.transition = function() {
    var id = d3_transitionInheritId || ++d3_transitionId, subgroups = [], subgroup, node, transition = d3_transitionInherit || {
      time: Date.now(),
      ease: d3_ease_cubicInOut,
      delay: 0,
      duration: 250
    };
    for (var j = -1, m = this.length; ++j < m; ) {
      subgroups.push(subgroup = []);
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {
        if (node = group[i]) d3_transitionNode(node, i, id, transition);
        subgroup.push(node);
      }
    }
    return d3_transition(subgroups, id);
  };
  d3_selectionPrototype.interrupt = function() {
    return this.each(d3_selection_interrupt);
  };
  function d3_selection_interrupt() {
    var lock = this.__transition__;
    if (lock) ++lock.active;
  }
  d3.select = function(node) {
    var group = [ typeof node === "string" ? d3_select(node, d3_document) : node ];
    group.parentNode = d3_documentElement;
    return d3_selection([ group ]);
  };
  d3.selectAll = function(nodes) {
    var group = d3_array(typeof nodes === "string" ? d3_selectAll(nodes, d3_document) : nodes);
    group.parentNode = d3_documentElement;
    return d3_selection([ group ]);
  };
  var d3_selectionRoot = d3.select(d3_documentElement);
  d3_selectionPrototype.on = function(type, listener, capture) {
    var n = arguments.length;
    if (n < 3) {
      if (typeof type !== "string") {
        if (n < 2) listener = false;
        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));
        return this;
      }
      if (n < 2) return (n = this.node()["__on" + type]) && n._;
      capture = false;
    }
    return this.each(d3_selection_on(type, listener, capture));
  };
  function d3_selection_on(type, listener, capture) {
    var name = "__on" + type, i = type.indexOf("."), wrap = d3_selection_onListener;
    if (i > 0) type = type.substring(0, i);
    var filter = d3_selection_onFilters.get(type);
    if (filter) type = filter, wrap = d3_selection_onFilter;
    function onRemove() {
      var l = this[name];
      if (l) {
        this.removeEventListener(type, l, l.$);
        delete this[name];
      }
    }
    function onAdd() {
      var l = wrap(listener, d3_array(arguments));
      onRemove.call(this);
      this.addEventListener(type, this[name] = l, l.$ = capture);
      l._ = listener;
    }
    function removeAll() {
      var re = new RegExp("^__on([^.]+)" + d3.requote(type) + "$"), match;
      for (var name in this) {
        if (match = name.match(re)) {
          var l = this[name];
          this.removeEventListener(match[1], l, l.$);
          delete this[name];
        }
      }
    }
    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;
  }
  var d3_selection_onFilters = d3.map({
    mouseenter: "mouseover",
    mouseleave: "mouseout"
  });
  d3_selection_onFilters.forEach(function(k) {
    if ("on" + k in d3_document) d3_selection_onFilters.remove(k);
  });
  function d3_selection_onListener(listener, argumentz) {
    return function(e) {
      var o = d3.event;
      d3.event = e;
      argumentz[0] = this.__data__;
      try {
        listener.apply(this, argumentz);
      } finally {
        d3.event = o;
      }
    };
  }
  function d3_selection_onFilter(listener, argumentz) {
    var l = d3_selection_onListener(listener, argumentz);
    return function(e) {
      var target = this, related = e.relatedTarget;
      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {
        l.call(target, e);
      }
    };
  }
  var d3_event_dragSelect = "onselectstart" in d3_document ? null : d3_vendorSymbol(d3_documentElement.style, "userSelect"), d3_event_dragId = 0;
  function d3_event_dragSuppress() {
    var name = ".dragsuppress-" + ++d3_event_dragId, click = "click" + name, w = d3.select(d3_window).on("touchmove" + name, d3_eventPreventDefault).on("dragstart" + name, d3_eventPreventDefault).on("selectstart" + name, d3_eventPreventDefault);
    if (d3_event_dragSelect) {
      var style = d3_documentElement.style, select = style[d3_event_dragSelect];
      style[d3_event_dragSelect] = "none";
    }
    return function(suppressClick) {
      w.on(name, null);
      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;
      if (suppressClick) {
        function off() {
          w.on(click, null);
        }
        w.on(click, function() {
          d3_eventPreventDefault();
          off();
        }, true);
        setTimeout(off, 0);
      }
    };
  }
  d3.mouse = function(container) {
    return d3_mousePoint(container, d3_eventSource());
  };
  function d3_mousePoint(container, e) {
    if (e.changedTouches) e = e.changedTouches[0];
    var svg = container.ownerSVGElement || container;
    if (svg.createSVGPoint) {
      var point = svg.createSVGPoint();
      point.x = e.clientX, point.y = e.clientY;
      point = point.matrixTransform(container.getScreenCTM().inverse());
      return [ point.x, point.y ];
    }
    var rect = container.getBoundingClientRect();
    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];
  }
  d3.touches = function(container, touches) {
    if (arguments.length < 2) touches = d3_eventSource().touches;
    return touches ? d3_array(touches).map(function(touch) {
      var point = d3_mousePoint(container, touch);
      point.identifier = touch.identifier;
      return point;
    }) : [];
  };
  d3.behavior.drag = function() {
    var event = d3_eventDispatch(drag, "drag", "dragstart", "dragend"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_behavior_dragMouseSubject, "mousemove", "mouseup"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_behavior_dragTouchSubject, "touchmove", "touchend");
    function drag() {
      this.on("mousedown.drag", mousedown).on("touchstart.drag", touchstart);
    }
    function dragstart(id, position, subject, move, end) {
      return function() {
        var that = this, target = d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = ".drag" + (dragId == null ? "" : "-" + dragId), dragOffset, dragSubject = d3.select(subject()).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(), position0 = position(parent, dragId);
        if (origin) {
          dragOffset = origin.apply(that, arguments);
          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];
        } else {
          dragOffset = [ 0, 0 ];
        }
        dispatch({
          type: "dragstart"
        });
        function moved() {
          var position1 = position(parent, dragId), dx, dy;
          if (!position1) return;
          dx = position1[0] - position0[0];
          dy = position1[1] - position0[1];
          dragged |= dx | dy;
          position0 = position1;
          dispatch({
            type: "drag",
            x: position1[0] + dragOffset[0],
            y: position1[1] + dragOffset[1],
            dx: dx,
            dy: dy
          });
        }
        function ended() {
          if (!position(parent, dragId)) return;
          dragSubject.on(move + dragName, null).on(end + dragName, null);
          dragRestore(dragged && d3.event.target === target);
          dispatch({
            type: "dragend"
          });
        }
      };
    }
    drag.origin = function(x) {
      if (!arguments.length) return origin;
      origin = x;
      return drag;
    };
    return d3.rebind(drag, event, "on");
  };
  function d3_behavior_dragTouchId() {
    return d3.event.changedTouches[0].identifier;
  }
  function d3_behavior_dragTouchSubject() {
    return d3.event.target;
  }
  function d3_behavior_dragMouseSubject() {
    return d3_window;
  }
  var π = Math.PI, τ = 2 * π, halfπ = π / 2, ε = 1e-6, ε2 = ε * ε, d3_radians = π / 180, d3_degrees = 180 / π;
  function d3_sgn(x) {
    return x > 0 ? 1 : x < 0 ? -1 : 0;
  }
  function d3_cross2d(a, b, c) {
    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);
  }
  function d3_acos(x) {
    return x > 1 ? 0 : x < -1 ? π : Math.acos(x);
  }
  function d3_asin(x) {
    return x > 1 ? halfπ : x < -1 ? -halfπ : Math.asin(x);
  }
  function d3_sinh(x) {
    return ((x = Math.exp(x)) - 1 / x) / 2;
  }
  function d3_cosh(x) {
    return ((x = Math.exp(x)) + 1 / x) / 2;
  }
  function d3_tanh(x) {
    return ((x = Math.exp(2 * x)) - 1) / (x + 1);
  }
  function d3_haversin(x) {
    return (x = Math.sin(x / 2)) * x;
  }
  var ρ = Math.SQRT2, ρ2 = 2, ρ4 = 4;
  d3.interpolateZoom = function(p0, p1) {
    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2];
    var dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + ρ4 * d2) / (2 * w0 * ρ2 * d1), b1 = (w1 * w1 - w0 * w0 - ρ4 * d2) / (2 * w1 * ρ2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1), dr = r1 - r0, S = (dr || Math.log(w1 / w0)) / ρ;
    function interpolate(t) {
      var s = t * S;
      if (dr) {
        var coshr0 = d3_cosh(r0), u = w0 / (ρ2 * d1) * (coshr0 * d3_tanh(ρ * s + r0) - d3_sinh(r0));
        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh(ρ * s + r0) ];
      }
      return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(ρ * s) ];
    }
    interpolate.duration = S * 1e3;
    return interpolate;
  };
  d3.behavior.zoom = function() {
    var view = {
      x: 0,
      y: 0,
      k: 1
    }, translate0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, mousedown = "mousedown.zoom", mousemove = "mousemove.zoom", mouseup = "mouseup.zoom", mousewheelTimer, touchstart = "touchstart.zoom", touchtime, event = d3_eventDispatch(zoom, "zoomstart", "zoom", "zoomend"), x0, x1, y0, y1;
    function zoom(g) {
      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + ".zoom", mousewheeled).on(mousemove, mousewheelreset).on("dblclick.zoom", dblclicked).on(touchstart, touchstarted);
    }
    zoom.event = function(g) {
      g.each(function() {
        var dispatch = event.of(this, arguments), view1 = view;
        if (d3_transitionInheritId) {
          d3.select(this).transition().each("start.zoom", function() {
            view = this.__chart__ || {
              x: 0,
              y: 0,
              k: 1
            };
            zoomstarted(dispatch);
          }).tween("zoom:zoom", function() {
            var dx = size[0], dy = size[1], cx = dx / 2, cy = dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);
            return function(t) {
              var l = i(t), k = dx / l[2];
              this.__chart__ = view = {
                x: cx - l[0] * k,
                y: cy - l[1] * k,
                k: k
              };
              zoomed(dispatch);
            };
          }).each("end.zoom", function() {
            zoomended(dispatch);
          });
        } else {
          this.__chart__ = view;
          zoomstarted(dispatch);
          zoomed(dispatch);
          zoomended(dispatch);
        }
      });
    };
    zoom.translate = function(_) {
      if (!arguments.length) return [ view.x, view.y ];
      view = {
        x: +_[0],
        y: +_[1],
        k: view.k
      };
      rescale();
      return zoom;
    };
    zoom.scale = function(_) {
      if (!arguments.length) return view.k;
      view = {
        x: view.x,
        y: view.y,
        k: +_
      };
      rescale();
      return zoom;
    };
    zoom.scaleExtent = function(_) {
      if (!arguments.length) return scaleExtent;
      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];
      return zoom;
    };
    zoom.center = function(_) {
      if (!arguments.length) return center;
      center = _ && [ +_[0], +_[1] ];
      return zoom;
    };
    zoom.size = function(_) {
      if (!arguments.length) return size;
      size = _ && [ +_[0], +_[1] ];
      return zoom;
    };
    zoom.x = function(z) {
      if (!arguments.length) return x1;
      x1 = z;
      x0 = z.copy();
      view = {
        x: 0,
        y: 0,
        k: 1
      };
      return zoom;
    };
    zoom.y = function(z) {
      if (!arguments.length) return y1;
      y1 = z;
      y0 = z.copy();
      view = {
        x: 0,
        y: 0,
        k: 1
      };
      return zoom;
    };
    function location(p) {
      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];
    }
    function point(l) {
      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];
    }
    function scaleTo(s) {
      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));
    }
    function translateTo(p, l) {
      l = point(l);
      view.x += p[0] - l[0];
      view.y += p[1] - l[1];
    }
    function rescale() {
      if (x1) x1.domain(x0.range().map(function(x) {
        return (x - view.x) / view.k;
      }).map(x0.invert));
      if (y1) y1.domain(y0.range().map(function(y) {
        return (y - view.y) / view.k;
      }).map(y0.invert));
    }
    function zoomstarted(dispatch) {
      dispatch({
        type: "zoomstart"
      });
    }
    function zoomed(dispatch) {
      rescale();
      dispatch({
        type: "zoom",
        scale: view.k,
        translate: [ view.x, view.y ]
      });
    }
    function zoomended(dispatch) {
      dispatch({
        type: "zoomend"
      });
    }
    function mousedowned() {
      var that = this, target = d3.event.target, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress();
      d3_selection_interrupt.call(that);
      zoomstarted(dispatch);
      function moved() {
        dragged = 1;
        translateTo(d3.mouse(that), location0);
        zoomed(dispatch);
      }
      function ended() {
        subject.on(mousemove, d3_window === that ? mousewheelreset : null).on(mouseup, null);
        dragRestore(dragged && d3.event.target === target);
        zoomended(dispatch);
      }
    }
    function touchstarted() {
      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = ".zoom-" + d3.event.changedTouches[0].identifier, touchmove = "touchmove" + zoomName, touchend = "touchend" + zoomName, target = d3.select(d3.event.target).on(touchmove, moved).on(touchend, ended), subject = d3.select(that).on(mousedown, null).on(touchstart, started), dragRestore = d3_event_dragSuppress();
      d3_selection_interrupt.call(that);
      started();
      zoomstarted(dispatch);
      function relocate() {
        var touches = d3.touches(that);
        scale0 = view.k;
        touches.forEach(function(t) {
          if (t.identifier in locations0) locations0[t.identifier] = location(t);
        });
        return touches;
      }
      function started() {
        var changed = d3.event.changedTouches;
        for (var i = 0, n = changed.length; i < n; ++i) {
          locations0[changed[i].identifier] = null;
        }
        var touches = relocate(), now = Date.now();
        if (touches.length === 1) {
          if (now - touchtime < 500) {
            var p = touches[0], l = locations0[p.identifier];
            scaleTo(view.k * 2);
            translateTo(p, l);
            d3_eventPreventDefault();
            zoomed(dispatch);
          }
          touchtime = now;
        } else if (touches.length > 1) {
          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];
          distance0 = dx * dx + dy * dy;
        }
      }
      function moved() {
        var touches = d3.touches(that), p0, l0, p1, l1;
        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {
          p1 = touches[i];
          if (l1 = locations0[p1.identifier]) {
            if (l0) break;
            p0 = p1, l0 = l1;
          }
        }
        if (l1) {
          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);
          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];
          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];
          scaleTo(scale1 * scale0);
        }
        touchtime = null;
        translateTo(p0, l0);
        zoomed(dispatch);
      }
      function ended() {
        if (d3.event.touches.length) {
          var changed = d3.event.changedTouches;
          for (var i = 0, n = changed.length; i < n; ++i) {
            delete locations0[changed[i].identifier];
          }
          for (var identifier in locations0) {
            return void relocate();
          }
        }
        target.on(zoomName, null);
        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);
        dragRestore();
        zoomended(dispatch);
      }
    }
    function mousewheeled() {
      var dispatch = event.of(this, arguments);
      if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), 
      zoomstarted(dispatch);
      mousewheelTimer = setTimeout(function() {
        mousewheelTimer = null;
        zoomended(dispatch);
      }, 50);
      d3_eventPreventDefault();
      var point = center || d3.mouse(this);
      if (!translate0) translate0 = location(point);
      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);
      translateTo(point, translate0);
      zoomed(dispatch);
    }
    function mousewheelreset() {
      translate0 = null;
    }
    function dblclicked() {
      var dispatch = event.of(this, arguments), p = d3.mouse(this), l = location(p), k = Math.log(view.k) / Math.LN2;
      zoomstarted(dispatch);
      scaleTo(Math.pow(2, d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1));
      translateTo(p, l);
      zoomed(dispatch);
      zoomended(dispatch);
    }
    return d3.rebind(zoom, event, "on");
  };
  var d3_behavior_zoomInfinity = [ 0, Infinity ];
  var d3_behavior_zoomDelta, d3_behavior_zoomWheel = "onwheel" in d3_document ? (d3_behavior_zoomDelta = function() {
    return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);
  }, "wheel") : "onmousewheel" in d3_document ? (d3_behavior_zoomDelta = function() {
    return d3.event.wheelDelta;
  }, "mousewheel") : (d3_behavior_zoomDelta = function() {
    return -d3.event.detail;
  }, "MozMousePixelScroll");
  function d3_Color() {}
  d3_Color.prototype.toString = function() {
    return this.rgb() + "";
  };
  d3.hsl = function(h, s, l) {
    return arguments.length === 1 ? h instanceof d3_Hsl ? d3_hsl(h.h, h.s, h.l) : d3_rgb_parse("" + h, d3_rgb_hsl, d3_hsl) : d3_hsl(+h, +s, +l);
  };
  function d3_hsl(h, s, l) {
    return new d3_Hsl(h, s, l);
  }
  function d3_Hsl(h, s, l) {
    this.h = h;
    this.s = s;
    this.l = l;
  }
  var d3_hslPrototype = d3_Hsl.prototype = new d3_Color();
  d3_hslPrototype.brighter = function(k) {
    k = Math.pow(.7, arguments.length ? k : 1);
    return d3_hsl(this.h, this.s, this.l / k);
  };
  d3_hslPrototype.darker = function(k) {
    k = Math.pow(.7, arguments.length ? k : 1);
    return d3_hsl(this.h, this.s, k * this.l);
  };
  d3_hslPrototype.rgb = function() {
    return d3_hsl_rgb(this.h, this.s, this.l);
  };
  function d3_hsl_rgb(h, s, l) {
    var m1, m2;
    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;
    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;
    l = l < 0 ? 0 : l > 1 ? 1 : l;
    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;
    m1 = 2 * l - m2;
    function v(h) {
      if (h > 360) h -= 360; else if (h < 0) h += 360;
      if (h < 60) return m1 + (m2 - m1) * h / 60;
      if (h < 180) return m2;
      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;
      return m1;
    }
    function vv(h) {
      return Math.round(v(h) * 255);
    }
    return d3_rgb(vv(h + 120), vv(h), vv(h - 120));
  }
  d3.hcl = function(h, c, l) {
    return arguments.length === 1 ? h instanceof d3_Hcl ? d3_hcl(h.h, h.c, h.l) : h instanceof d3_Lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : d3_hcl(+h, +c, +l);
  };
  function d3_hcl(h, c, l) {
    return new d3_Hcl(h, c, l);
  }
  function d3_Hcl(h, c, l) {
    this.h = h;
    this.c = c;
    this.l = l;
  }
  var d3_hclPrototype = d3_Hcl.prototype = new d3_Color();
  d3_hclPrototype.brighter = function(k) {
    return d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));
  };
  d3_hclPrototype.darker = function(k) {
    return d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));
  };
  d3_hclPrototype.rgb = function() {
    return d3_hcl_lab(this.h, this.c, this.l).rgb();
  };
  function d3_hcl_lab(h, c, l) {
    if (isNaN(h)) h = 0;
    if (isNaN(c)) c = 0;
    return d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);
  }
  d3.lab = function(l, a, b) {
    return arguments.length === 1 ? l instanceof d3_Lab ? d3_lab(l.l, l.a, l.b) : l instanceof d3_Hcl ? d3_hcl_lab(l.l, l.c, l.h) : d3_rgb_lab((l = d3.rgb(l)).r, l.g, l.b) : d3_lab(+l, +a, +b);
  };
  function d3_lab(l, a, b) {
    return new d3_Lab(l, a, b);
  }
  function d3_Lab(l, a, b) {
    this.l = l;
    this.a = a;
    this.b = b;
  }
  var d3_lab_K = 18;
  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;
  var d3_labPrototype = d3_Lab.prototype = new d3_Color();
  d3_labPrototype.brighter = function(k) {
    return d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);
  };
  d3_labPrototype.darker = function(k) {
    return d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);
  };
  d3_labPrototype.rgb = function() {
    return d3_lab_rgb(this.l, this.a, this.b);
  };
  function d3_lab_rgb(l, a, b) {
    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;
    x = d3_lab_xyz(x) * d3_lab_X;
    y = d3_lab_xyz(y) * d3_lab_Y;
    z = d3_lab_xyz(z) * d3_lab_Z;
    return d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));
  }
  function d3_lab_hcl(l, a, b) {
    return l > 0 ? d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : d3_hcl(NaN, NaN, l);
  }
  function d3_lab_xyz(x) {
    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;
  }
  function d3_xyz_lab(x) {
    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;
  }
  function d3_xyz_rgb(r) {
    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));
  }
  d3.rgb = function(r, g, b) {
    return arguments.length === 1 ? r instanceof d3_Rgb ? d3_rgb(r.r, r.g, r.b) : d3_rgb_parse("" + r, d3_rgb, d3_hsl_rgb) : d3_rgb(~~r, ~~g, ~~b);
  };
  function d3_rgbNumber(value) {
    return d3_rgb(value >> 16, value >> 8 & 255, value & 255);
  }
  function d3_rgbString(value) {
    return d3_rgbNumber(value) + "";
  }
  function d3_rgb(r, g, b) {
    return new d3_Rgb(r, g, b);
  }
  function d3_Rgb(r, g, b) {
    this.r = r;
    this.g = g;
    this.b = b;
  }
  var d3_rgbPrototype = d3_Rgb.prototype = new d3_Color();
  d3_rgbPrototype.brighter = function(k) {
    k = Math.pow(.7, arguments.length ? k : 1);
    var r = this.r, g = this.g, b = this.b, i = 30;
    if (!r && !g && !b) return d3_rgb(i, i, i);
    if (r && r < i) r = i;
    if (g && g < i) g = i;
    if (b && b < i) b = i;
    return d3_rgb(Math.min(255, ~~(r / k)), Math.min(255, ~~(g / k)), Math.min(255, ~~(b / k)));
  };
  d3_rgbPrototype.darker = function(k) {
    k = Math.pow(.7, arguments.length ? k : 1);
    return d3_rgb(~~(k * this.r), ~~(k * this.g), ~~(k * this.b));
  };
  d3_rgbPrototype.hsl = function() {
    return d3_rgb_hsl(this.r, this.g, this.b);
  };
  d3_rgbPrototype.toString = function() {
    return "#" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);
  };
  function d3_rgb_hex(v) {
    return v < 16 ? "0" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);
  }
  function d3_rgb_parse(format, rgb, hsl) {
    var r = 0, g = 0, b = 0, m1, m2, color;
    m1 = /([a-z]+)\((.*)\)/i.exec(format);
    if (m1) {
      m2 = m1[2].split(",");
      switch (m1[1]) {
       case "hsl":
        {
          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);
        }

       case "rgb":
        {
          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));
        }
      }
    }
    if (color = d3_rgb_names.get(format)) return rgb(color.r, color.g, color.b);
    if (format != null && format.charAt(0) === "#" && !isNaN(color = parseInt(format.substring(1), 16))) {
      if (format.length === 4) {
        r = (color & 3840) >> 4;
        r = r >> 4 | r;
        g = color & 240;
        g = g >> 4 | g;
        b = color & 15;
        b = b << 4 | b;
      } else if (format.length === 7) {
        r = (color & 16711680) >> 16;
        g = (color & 65280) >> 8;
        b = color & 255;
      }
    }
    return rgb(r, g, b);
  }
  function d3_rgb_hsl(r, g, b) {
    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;
    if (d) {
      s = l < .5 ? d / (max + min) : d / (2 - max - min);
      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;
      h *= 60;
    } else {
      h = NaN;
      s = l > 0 && l < 1 ? 0 : h;
    }
    return d3_hsl(h, s, l);
  }
  function d3_rgb_lab(r, g, b) {
    r = d3_rgb_xyz(r);
    g = d3_rgb_xyz(g);
    b = d3_rgb_xyz(b);
    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);
    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));
  }
  function d3_rgb_xyz(r) {
    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);
  }
  function d3_rgb_parseNumber(c) {
    var f = parseFloat(c);
    return c.charAt(c.length - 1) === "%" ? Math.round(f * 2.55) : f;
  }
  var d3_rgb_names = d3.map({
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
  });
  d3_rgb_names.forEach(function(key, value) {
    d3_rgb_names.set(key, d3_rgbNumber(value));
  });
  function d3_functor(v) {
    return typeof v === "function" ? v : function() {
      return v;
    };
  }
  d3.functor = d3_functor;
  function d3_identity(d) {
    return d;
  }
  d3.xhr = d3_xhrType(d3_identity);
  function d3_xhrType(response) {
    return function(url, mimeType, callback) {
      if (arguments.length === 2 && typeof mimeType === "function") callback = mimeType, 
      mimeType = null;
      return d3_xhr(url, mimeType, response, callback);
    };
  }
  function d3_xhr(url, mimeType, response, callback) {
    var xhr = {}, dispatch = d3.dispatch("beforesend", "progress", "load", "error"), headers = {}, request = new XMLHttpRequest(), responseType = null;
    if (d3_window.XDomainRequest && !("withCredentials" in request) && /^(http(s)?:)?\/\//.test(url)) request = new XDomainRequest();
    "onload" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {
      request.readyState > 3 && respond();
    };
    function respond() {
      var status = request.status, result;
      if (!status && request.responseText || status >= 200 && status < 300 || status === 304) {
        try {
          result = response.call(xhr, request);
        } catch (e) {
          dispatch.error.call(xhr, e);
          return;
        }
        dispatch.load.call(xhr, result);
      } else {
        dispatch.error.call(xhr, request);
      }
    }
    request.onprogress = function(event) {
      var o = d3.event;
      d3.event = event;
      try {
        dispatch.progress.call(xhr, request);
      } finally {
        d3.event = o;
      }
    };
    xhr.header = function(name, value) {
      name = (name + "").toLowerCase();
      if (arguments.length < 2) return headers[name];
      if (value == null) delete headers[name]; else headers[name] = value + "";
      return xhr;
    };
    xhr.mimeType = function(value) {
      if (!arguments.length) return mimeType;
      mimeType = value == null ? null : value + "";
      return xhr;
    };
    xhr.responseType = function(value) {
      if (!arguments.length) return responseType;
      responseType = value;
      return xhr;
    };
    xhr.response = function(value) {
      response = value;
      return xhr;
    };
    [ "get", "post" ].forEach(function(method) {
      xhr[method] = function() {
        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));
      };
    });
    xhr.send = function(method, data, callback) {
      if (arguments.length === 2 && typeof data === "function") callback = data, data = null;
      request.open(method, url, true);
      if (mimeType != null && !("accept" in headers)) headers["accept"] = mimeType + ",*/*";
      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);
      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);
      if (responseType != null) request.responseType = responseType;
      if (callback != null) xhr.on("error", callback).on("load", function(request) {
        callback(null, request);
      });
      dispatch.beforesend.call(xhr, request);
      request.send(data == null ? null : data);
      return xhr;
    };
    xhr.abort = function() {
      request.abort();
      return xhr;
    };
    d3.rebind(xhr, dispatch, "on");
    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));
  }
  function d3_xhr_fixCallback(callback) {
    return callback.length === 1 ? function(error, request) {
      callback(error == null ? request : null);
    } : callback;
  }
  d3.dsv = function(delimiter, mimeType) {
    var reFormat = new RegExp('["' + delimiter + "\n]"), delimiterCode = delimiter.charCodeAt(0);
    function dsv(url, row, callback) {
      if (arguments.length < 3) callback = row, row = null;
      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);
      xhr.row = function(_) {
        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;
      };
      return xhr;
    }
    function response(request) {
      return dsv.parse(request.responseText);
    }
    function typedResponse(f) {
      return function(request) {
        return dsv.parse(request.responseText, f);
      };
    }
    dsv.parse = function(text, f) {
      var o;
      return dsv.parseRows(text, function(row, i) {
        if (o) return o(row, i - 1);
        var a = new Function("d", "return {" + row.map(function(name, i) {
          return JSON.stringify(name) + ": d[" + i + "]";
        }).join(",") + "}");
        o = f ? function(row, i) {
          return f(a(row), i);
        } : a;
      });
    };
    dsv.parseRows = function(text, f) {
      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;
      function token() {
        if (I >= N) return EOF;
        if (eol) return eol = false, EOL;
        var j = I;
        if (text.charCodeAt(j) === 34) {
          var i = j;
          while (i++ < N) {
            if (text.charCodeAt(i) === 34) {
              if (text.charCodeAt(i + 1) !== 34) break;
              ++i;
            }
          }
          I = i + 2;
          var c = text.charCodeAt(i + 1);
          if (c === 13) {
            eol = true;
            if (text.charCodeAt(i + 2) === 10) ++I;
          } else if (c === 10) {
            eol = true;
          }
          return text.substring(j + 1, i).replace(/""/g, '"');
        }
        while (I < N) {
          var c = text.charCodeAt(I++), k = 1;
          if (c === 10) eol = true; else if (c === 13) {
            eol = true;
            if (text.charCodeAt(I) === 10) ++I, ++k;
          } else if (c !== delimiterCode) continue;
          return text.substring(j, I - k);
        }
        return text.substring(j);
      }
      while ((t = token()) !== EOF) {
        var a = [];
        while (t !== EOL && t !== EOF) {
          a.push(t);
          t = token();
        }
        if (f && !(a = f(a, n++))) continue;
        rows.push(a);
      }
      return rows;
    };
    dsv.format = function(rows) {
      if (Array.isArray(rows[0])) return dsv.formatRows(rows);
      var fieldSet = new d3_Set(), fields = [];
      rows.forEach(function(row) {
        for (var field in row) {
          if (!fieldSet.has(field)) {
            fields.push(fieldSet.add(field));
          }
        }
      });
      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {
        return fields.map(function(field) {
          return formatValue(row[field]);
        }).join(delimiter);
      })).join("\n");
    };
    dsv.formatRows = function(rows) {
      return rows.map(formatRow).join("\n");
    };
    function formatRow(row) {
      return row.map(formatValue).join(delimiter);
    }
    function formatValue(text) {
      return reFormat.test(text) ? '"' + text.replace(/\"/g, '""') + '"' : text;
    }
    return dsv;
  };
  d3.csv = d3.dsv(",", "text/csv");
  d3.tsv = d3.dsv("	", "text/tab-separated-values");
  d3.touch = function(container, touches, identifier) {
    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;
    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {
      if ((touch = touches[i]).identifier === identifier) {
        return d3_mousePoint(container, touch);
      }
    }
  };
  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_active, d3_timer_frame = d3_window[d3_vendorSymbol(d3_window, "requestAnimationFrame")] || function(callback) {
    setTimeout(callback, 17);
  };
  d3.timer = function(callback, delay, then) {
    var n = arguments.length;
    if (n < 2) delay = 0;
    if (n < 3) then = Date.now();
    var time = then + delay, timer = {
      c: callback,
      t: time,
      f: false,
      n: null
    };
    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;
    d3_timer_queueTail = timer;
    if (!d3_timer_interval) {
      d3_timer_timeout = clearTimeout(d3_timer_timeout);
      d3_timer_interval = 1;
      d3_timer_frame(d3_timer_step);
    }
  };
  function d3_timer_step() {
    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;
    if (delay > 24) {
      if (isFinite(delay)) {
        clearTimeout(d3_timer_timeout);
        d3_timer_timeout = setTimeout(d3_timer_step, delay);
      }
      d3_timer_interval = 0;
    } else {
      d3_timer_interval = 1;
      d3_timer_frame(d3_timer_step);
    }
  }
  d3.timer.flush = function() {
    d3_timer_mark();
    d3_timer_sweep();
  };
  function d3_timer_mark() {
    var now = Date.now();
    d3_timer_active = d3_timer_queueHead;
    while (d3_timer_active) {
      if (now >= d3_timer_active.t) d3_timer_active.f = d3_timer_active.c(now - d3_timer_active.t);
      d3_timer_active = d3_timer_active.n;
    }
    return now;
  }
  function d3_timer_sweep() {
    var t0, t1 = d3_timer_queueHead, time = Infinity;
    while (t1) {
      if (t1.f) {
        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;
      } else {
        if (t1.t < time) time = t1.t;
        t1 = (t0 = t1).n;
      }
    }
    d3_timer_queueTail = t0;
    return time;
  }
  function d3_format_precision(x, p) {
    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);
  }
  d3.round = function(x, n) {
    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);
  };
  var d3_formatPrefixes = [ "y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(d3_formatPrefix);
  d3.formatPrefix = function(value, precision) {
    var i = 0;
    if (value) {
      if (value < 0) value *= -1;
      if (precision) value = d3.round(value, d3_format_precision(value, precision));
      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);
      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));
    }
    return d3_formatPrefixes[8 + i / 3];
  };
  function d3_formatPrefix(d, i) {
    var k = Math.pow(10, abs(8 - i) * 3);
    return {
      scale: i > 8 ? function(d) {
        return d / k;
      } : function(d) {
        return d * k;
      },
      symbol: d
    };
  }
  function d3_locale_numberFormat(locale) {
    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping ? function(value) {
      var i = value.length, t = [], j = 0, g = locale_grouping[0];
      while (i > 0 && g > 0) {
        t.push(value.substring(i -= g, i + g));
        g = locale_grouping[j = (j + 1) % locale_grouping.length];
      }
      return t.reverse().join(locale_thousands);
    } : d3_identity;
    return function(specifier) {
      var match = d3_format_re.exec(specifier), fill = match[1] || " ", align = match[2] || ">", sign = match[3] || "", symbol = match[4] || "", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = "", suffix = "", integer = false;
      if (precision) precision = +precision.substring(1);
      if (zfill || fill === "0" && align === "=") {
        zfill = fill = "0";
        align = "=";
        if (comma) width -= Math.floor((width - 1) / 4);
      }
      switch (type) {
       case "n":
        comma = true;
        type = "g";
        break;

       case "%":
        scale = 100;
        suffix = "%";
        type = "f";
        break;

       case "p":
        scale = 100;
        suffix = "%";
        type = "r";
        break;

       case "b":
       case "o":
       case "x":
       case "X":
        if (symbol === "#") prefix = "0" + type.toLowerCase();

       case "c":
       case "d":
        integer = true;
        precision = 0;
        break;

       case "s":
        scale = -1;
        type = "r";
        break;
      }
      if (symbol === "$") prefix = locale_currency[0], suffix = locale_currency[1];
      if (type == "r" && !precision) type = "g";
      if (precision != null) {
        if (type == "g") precision = Math.max(1, Math.min(21, precision)); else if (type == "e" || type == "f") precision = Math.max(0, Math.min(20, precision));
      }
      type = d3_format_types.get(type) || d3_format_typeDefault;
      var zcomma = zfill && comma;
      return function(value) {
        var fullSuffix = suffix;
        if (integer && value % 1) return "";
        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, "-") : sign;
        if (scale < 0) {
          var unit = d3.formatPrefix(value, precision);
          value = unit.scale(value);
          fullSuffix = unit.symbol + suffix;
        } else {
          value *= scale;
        }
        value = type(value, precision);
        var i = value.lastIndexOf("."), before = i < 0 ? value : value.substring(0, i), after = i < 0 ? "" : locale_decimal + value.substring(i + 1);
        if (!zfill && comma) before = formatGroup(before);
        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : "";
        if (zcomma) before = formatGroup(padding + before);
        negative += prefix;
        value = before + after;
        return (align === "<" ? negative + value + padding : align === ">" ? padding + negative + value : align === "^" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;
      };
    };
  }
  var d3_format_re = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;
  var d3_format_types = d3.map({
    b: function(x) {
      return x.toString(2);
    },
    c: function(x) {
      return String.fromCharCode(x);
    },
    o: function(x) {
      return x.toString(8);
    },
    x: function(x) {
      return x.toString(16);
    },
    X: function(x) {
      return x.toString(16).toUpperCase();
    },
    g: function(x, p) {
      return x.toPrecision(p);
    },
    e: function(x, p) {
      return x.toExponential(p);
    },
    f: function(x, p) {
      return x.toFixed(p);
    },
    r: function(x, p) {
      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));
    }
  });
  function d3_format_typeDefault(x) {
    return x + "";
  }
  var d3_time = d3.time = {}, d3_date = Date;
  function d3_date_utc() {
    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);
  }
  d3_date_utc.prototype = {
    getDate: function() {
      return this._.getUTCDate();
    },
    getDay: function() {
      return this._.getUTCDay();
    },
    getFullYear: function() {
      return this._.getUTCFullYear();
    },
    getHours: function() {
      return this._.getUTCHours();
    },
    getMilliseconds: function() {
      return this._.getUTCMilliseconds();
    },
    getMinutes: function() {
      return this._.getUTCMinutes();
    },
    getMonth: function() {
      return this._.getUTCMonth();
    },
    getSeconds: function() {
      return this._.getUTCSeconds();
    },
    getTime: function() {
      return this._.getTime();
    },
    getTimezoneOffset: function() {
      return 0;
    },
    valueOf: function() {
      return this._.valueOf();
    },
    setDate: function() {
      d3_time_prototype.setUTCDate.apply(this._, arguments);
    },
    setDay: function() {
      d3_time_prototype.setUTCDay.apply(this._, arguments);
    },
    setFullYear: function() {
      d3_time_prototype.setUTCFullYear.apply(this._, arguments);
    },
    setHours: function() {
      d3_time_prototype.setUTCHours.apply(this._, arguments);
    },
    setMilliseconds: function() {
      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);
    },
    setMinutes: function() {
      d3_time_prototype.setUTCMinutes.apply(this._, arguments);
    },
    setMonth: function() {
      d3_time_prototype.setUTCMonth.apply(this._, arguments);
    },
    setSeconds: function() {
      d3_time_prototype.setUTCSeconds.apply(this._, arguments);
    },
    setTime: function() {
      d3_time_prototype.setTime.apply(this._, arguments);
    }
  };
  var d3_time_prototype = Date.prototype;
  function d3_time_interval(local, step, number) {
    function round(date) {
      var d0 = local(date), d1 = offset(d0, 1);
      return date - d0 < d1 - date ? d0 : d1;
    }
    function ceil(date) {
      step(date = local(new d3_date(date - 1)), 1);
      return date;
    }
    function offset(date, k) {
      step(date = new d3_date(+date), k);
      return date;
    }
    function range(t0, t1, dt) {
      var time = ceil(t0), times = [];
      if (dt > 1) {
        while (time < t1) {
          if (!(number(time) % dt)) times.push(new Date(+time));
          step(time, 1);
        }
      } else {
        while (time < t1) times.push(new Date(+time)), step(time, 1);
      }
      return times;
    }
    function range_utc(t0, t1, dt) {
      try {
        d3_date = d3_date_utc;
        var utc = new d3_date_utc();
        utc._ = t0;
        return range(utc, t1, dt);
      } finally {
        d3_date = Date;
      }
    }
    local.floor = local;
    local.round = round;
    local.ceil = ceil;
    local.offset = offset;
    local.range = range;
    var utc = local.utc = d3_time_interval_utc(local);
    utc.floor = utc;
    utc.round = d3_time_interval_utc(round);
    utc.ceil = d3_time_interval_utc(ceil);
    utc.offset = d3_time_interval_utc(offset);
    utc.range = range_utc;
    return local;
  }
  function d3_time_interval_utc(method) {
    return function(date, k) {
      try {
        d3_date = d3_date_utc;
        var utc = new d3_date_utc();
        utc._ = date;
        return method(utc, k)._;
      } finally {
        d3_date = Date;
      }
    };
  }
  d3_time.year = d3_time_interval(function(date) {
    date = d3_time.day(date);
    date.setMonth(0, 1);
    return date;
  }, function(date, offset) {
    date.setFullYear(date.getFullYear() + offset);
  }, function(date) {
    return date.getFullYear();
  });
  d3_time.years = d3_time.year.range;
  d3_time.years.utc = d3_time.year.utc.range;
  d3_time.day = d3_time_interval(function(date) {
    var day = new d3_date(2e3, 0);
    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());
    return day;
  }, function(date, offset) {
    date.setDate(date.getDate() + offset);
  }, function(date) {
    return date.getDate() - 1;
  });
  d3_time.days = d3_time.day.range;
  d3_time.days.utc = d3_time.day.utc.range;
  d3_time.dayOfYear = function(date) {
    var year = d3_time.year(date);
    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);
  };
  [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(day, i) {
    i = 7 - i;
    var interval = d3_time[day] = d3_time_interval(function(date) {
      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);
      return date;
    }, function(date, offset) {
      date.setDate(date.getDate() + Math.floor(offset) * 7);
    }, function(date) {
      var day = d3_time.year(date).getDay();
      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);
    });
    d3_time[day + "s"] = interval.range;
    d3_time[day + "s"].utc = interval.utc.range;
    d3_time[day + "OfYear"] = function(date) {
      var day = d3_time.year(date).getDay();
      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);
    };
  });
  d3_time.week = d3_time.sunday;
  d3_time.weeks = d3_time.sunday.range;
  d3_time.weeks.utc = d3_time.sunday.utc.range;
  d3_time.weekOfYear = d3_time.sundayOfYear;
  function d3_locale_timeFormat(locale) {
    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;
    function d3_time_format(template) {
      var n = template.length;
      function format(date) {
        var string = [], i = -1, j = 0, c, p, f;
        while (++i < n) {
          if (template.charCodeAt(i) === 37) {
            string.push(template.substring(j, i));
            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);
            if (f = d3_time_formats[c]) c = f(date, p == null ? c === "e" ? " " : "0" : p);
            string.push(c);
            j = i + 1;
          }
        }
        string.push(template.substring(j, i));
        return string.join("");
      }
      format.parse = function(string) {
        var d = {
          y: 1900,
          m: 0,
          d: 1,
          H: 0,
          M: 0,
          S: 0,
          L: 0,
          Z: null
        }, i = d3_time_parse(d, template, string, 0);
        if (i != string.length) return null;
        if ("p" in d) d.H = d.H % 12 + d.p * 12;
        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();
        if ("j" in d) date.setFullYear(d.y, 0, d.j); else if ("w" in d && ("W" in d || "U" in d)) {
          date.setFullYear(d.y, 0, 1);
          date.setFullYear(d.y, 0, "W" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);
        } else date.setFullYear(d.y, d.m, d.d);
        date.setHours(d.H + Math.floor(d.Z / 100), d.M + d.Z % 100, d.S, d.L);
        return localZ ? date._ : date;
      };
      format.toString = function() {
        return template;
      };
      return format;
    }
    function d3_time_parse(date, template, string, j) {
      var c, p, t, i = 0, n = template.length, m = string.length;
      while (i < n) {
        if (j >= m) return -1;
        c = template.charCodeAt(i++);
        if (c === 37) {
          t = template.charAt(i++);
          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];
          if (!p || (j = p(date, string, j)) < 0) return -1;
        } else if (c != string.charCodeAt(j++)) {
          return -1;
        }
      }
      return j;
    }
    d3_time_format.utc = function(template) {
      var local = d3_time_format(template);
      function format(date) {
        try {
          d3_date = d3_date_utc;
          var utc = new d3_date();
          utc._ = date;
          return local(utc);
        } finally {
          d3_date = Date;
        }
      }
      format.parse = function(string) {
        try {
          d3_date = d3_date_utc;
          var date = local.parse(string);
          return date && date._;
        } finally {
          d3_date = Date;
        }
      };
      format.toString = local.toString;
      return format;
    };
    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;
    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);
    locale_periods.forEach(function(p, i) {
      d3_time_periodLookup.set(p.toLowerCase(), i);
    });
    var d3_time_formats = {
      a: function(d) {
        return locale_shortDays[d.getDay()];
      },
      A: function(d) {
        return locale_days[d.getDay()];
      },
      b: function(d) {
        return locale_shortMonths[d.getMonth()];
      },
      B: function(d) {
        return locale_months[d.getMonth()];
      },
      c: d3_time_format(locale_dateTime),
      d: function(d, p) {
        return d3_time_formatPad(d.getDate(), p, 2);
      },
      e: function(d, p) {
        return d3_time_formatPad(d.getDate(), p, 2);
      },
      H: function(d, p) {
        return d3_time_formatPad(d.getHours(), p, 2);
      },
      I: function(d, p) {
        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);
      },
      j: function(d, p) {
        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);
      },
      L: function(d, p) {
        return d3_time_formatPad(d.getMilliseconds(), p, 3);
      },
      m: function(d, p) {
        return d3_time_formatPad(d.getMonth() + 1, p, 2);
      },
      M: function(d, p) {
        return d3_time_formatPad(d.getMinutes(), p, 2);
      },
      p: function(d) {
        return locale_periods[+(d.getHours() >= 12)];
      },
      S: function(d, p) {
        return d3_time_formatPad(d.getSeconds(), p, 2);
      },
      U: function(d, p) {
        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);
      },
      w: function(d) {
        return d.getDay();
      },
      W: function(d, p) {
        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);
      },
      x: d3_time_format(locale_date),
      X: d3_time_format(locale_time),
      y: function(d, p) {
        return d3_time_formatPad(d.getFullYear() % 100, p, 2);
      },
      Y: function(d, p) {
        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);
      },
      Z: d3_time_zone,
      "%": function() {
        return "%";
      }
    };
    var d3_time_parsers = {
      a: d3_time_parseWeekdayAbbrev,
      A: d3_time_parseWeekday,
      b: d3_time_parseMonthAbbrev,
      B: d3_time_parseMonth,
      c: d3_time_parseLocaleFull,
      d: d3_time_parseDay,
      e: d3_time_parseDay,
      H: d3_time_parseHour24,
      I: d3_time_parseHour24,
      j: d3_time_parseDayOfYear,
      L: d3_time_parseMilliseconds,
      m: d3_time_parseMonthNumber,
      M: d3_time_parseMinutes,
      p: d3_time_parseAmPm,
      S: d3_time_parseSeconds,
      U: d3_time_parseWeekNumberSunday,
      w: d3_time_parseWeekdayNumber,
      W: d3_time_parseWeekNumberMonday,
      x: d3_time_parseLocaleDate,
      X: d3_time_parseLocaleTime,
      y: d3_time_parseYear,
      Y: d3_time_parseFullYear,
      Z: d3_time_parseZone,
      "%": d3_time_parseLiteralPercent
    };
    function d3_time_parseWeekdayAbbrev(date, string, i) {
      d3_time_dayAbbrevRe.lastIndex = 0;
      var n = d3_time_dayAbbrevRe.exec(string.substring(i));
      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
    }
    function d3_time_parseWeekday(date, string, i) {
      d3_time_dayRe.lastIndex = 0;
      var n = d3_time_dayRe.exec(string.substring(i));
      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
    }
    function d3_time_parseMonthAbbrev(date, string, i) {
      d3_time_monthAbbrevRe.lastIndex = 0;
      var n = d3_time_monthAbbrevRe.exec(string.substring(i));
      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
    }
    function d3_time_parseMonth(date, string, i) {
      d3_time_monthRe.lastIndex = 0;
      var n = d3_time_monthRe.exec(string.substring(i));
      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;
    }
    function d3_time_parseLocaleFull(date, string, i) {
      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);
    }
    function d3_time_parseLocaleDate(date, string, i) {
      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);
    }
    function d3_time_parseLocaleTime(date, string, i) {
      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);
    }
    function d3_time_parseAmPm(date, string, i) {
      var n = d3_time_periodLookup.get(string.substring(i, i += 2).toLowerCase());
      return n == null ? -1 : (date.p = n, i);
    }
    return d3_time_format;
  }
  var d3_time_formatPads = {
    "-": "",
    _: " ",
    "0": "0"
  }, d3_time_numberRe = /^\s*\d+/, d3_time_percentRe = /^%/;
  function d3_time_formatPad(value, fill, width) {
    var sign = value < 0 ? "-" : "", string = (sign ? -value : value) + "", length = string.length;
    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);
  }
  function d3_time_formatRe(names) {
    return new RegExp("^(?:" + names.map(d3.requote).join("|") + ")", "i");
  }
  function d3_time_formatLookup(names) {
    var map = new d3_Map(), i = -1, n = names.length;
    while (++i < n) map.set(names[i].toLowerCase(), i);
    return map;
  }
  function d3_time_parseWeekdayNumber(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 1));
    return n ? (date.w = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseWeekNumberSunday(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i));
    return n ? (date.U = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseWeekNumberMonday(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i));
    return n ? (date.W = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseFullYear(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 4));
    return n ? (date.y = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseYear(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;
  }
  function d3_time_parseZone(date, string, i) {
    return /^[+-]\d{4}$/.test(string = string.substring(i, i + 5)) ? (date.Z = -string, 
    i + 5) : -1;
  }
  function d3_time_expandYear(d) {
    return d + (d > 68 ? 1900 : 2e3);
  }
  function d3_time_parseMonthNumber(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;
  }
  function d3_time_parseDay(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.d = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseDayOfYear(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 3));
    return n ? (date.j = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseHour24(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.H = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseMinutes(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.M = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseSeconds(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 2));
    return n ? (date.S = +n[0], i + n[0].length) : -1;
  }
  function d3_time_parseMilliseconds(date, string, i) {
    d3_time_numberRe.lastIndex = 0;
    var n = d3_time_numberRe.exec(string.substring(i, i + 3));
    return n ? (date.L = +n[0], i + n[0].length) : -1;
  }
  function d3_time_zone(d) {
    var z = d.getTimezoneOffset(), zs = z > 0 ? "-" : "+", zh = ~~(abs(z) / 60), zm = abs(z) % 60;
    return zs + d3_time_formatPad(zh, "0", 2) + d3_time_formatPad(zm, "0", 2);
  }
  function d3_time_parseLiteralPercent(date, string, i) {
    d3_time_percentRe.lastIndex = 0;
    var n = d3_time_percentRe.exec(string.substring(i, i + 1));
    return n ? i + n[0].length : -1;
  }
  function d3_time_formatMulti(formats) {
    var n = formats.length, i = -1;
    while (++i < n) formats[i][0] = this(formats[i][0]);
    return function(date) {
      var i = 0, f = formats[i];
      while (!f[1](date)) f = formats[++i];
      return f[0](date);
    };
  }
  d3.locale = function(locale) {
    return {
      numberFormat: d3_locale_numberFormat(locale),
      timeFormat: d3_locale_timeFormat(locale)
    };
  };
  var d3_locale_enUS = d3.locale({
    decimal: ".",
    thousands: ",",
    grouping: [ 3 ],
    currency: [ "$", "" ],
    dateTime: "%a %b %e %X %Y",
    date: "%m/%d/%Y",
    time: "%H:%M:%S",
    periods: [ "AM", "PM" ],
    days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
    shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
    months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
    shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
  });
  d3.format = d3_locale_enUS.numberFormat;
  d3.geo = {};
  function d3_adder() {}
  d3_adder.prototype = {
    s: 0,
    t: 0,
    add: function(y) {
      d3_adderSum(y, this.t, d3_adderTemp);
      d3_adderSum(d3_adderTemp.s, this.s, this);
      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;
    },
    reset: function() {
      this.s = this.t = 0;
    },
    valueOf: function() {
      return this.s;
    }
  };
  var d3_adderTemp = new d3_adder();
  function d3_adderSum(a, b, o) {
    var x = o.s = a + b, bv = x - a, av = x - bv;
    o.t = a - av + (b - bv);
  }
  d3.geo.stream = function(object, listener) {
    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {
      d3_geo_streamObjectType[object.type](object, listener);
    } else {
      d3_geo_streamGeometry(object, listener);
    }
  };
  function d3_geo_streamGeometry(geometry, listener) {
    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {
      d3_geo_streamGeometryType[geometry.type](geometry, listener);
    }
  }
  var d3_geo_streamObjectType = {
    Feature: function(feature, listener) {
      d3_geo_streamGeometry(feature.geometry, listener);
    },
    FeatureCollection: function(object, listener) {
      var features = object.features, i = -1, n = features.length;
      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);
    }
  };
  var d3_geo_streamGeometryType = {
    Sphere: function(object, listener) {
      listener.sphere();
    },
    Point: function(object, listener) {
      object = object.coordinates;
      listener.point(object[0], object[1], object[2]);
    },
    MultiPoint: function(object, listener) {
      var coordinates = object.coordinates, i = -1, n = coordinates.length;
      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);
    },
    LineString: function(object, listener) {
      d3_geo_streamLine(object.coordinates, listener, 0);
    },
    MultiLineString: function(object, listener) {
      var coordinates = object.coordinates, i = -1, n = coordinates.length;
      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);
    },
    Polygon: function(object, listener) {
      d3_geo_streamPolygon(object.coordinates, listener);
    },
    MultiPolygon: function(object, listener) {
      var coordinates = object.coordinates, i = -1, n = coordinates.length;
      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);
    },
    GeometryCollection: function(object, listener) {
      var geometries = object.geometries, i = -1, n = geometries.length;
      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);
    }
  };
  function d3_geo_streamLine(coordinates, listener, closed) {
    var i = -1, n = coordinates.length - closed, coordinate;
    listener.lineStart();
    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);
    listener.lineEnd();
  }
  function d3_geo_streamPolygon(coordinates, listener) {
    var i = -1, n = coordinates.length;
    listener.polygonStart();
    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);
    listener.polygonEnd();
  }
  d3.geo.area = function(object) {
    d3_geo_areaSum = 0;
    d3.geo.stream(object, d3_geo_area);
    return d3_geo_areaSum;
  };
  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();
  var d3_geo_area = {
    sphere: function() {
      d3_geo_areaSum += 4 * π;
    },
    point: d3_noop,
    lineStart: d3_noop,
    lineEnd: d3_noop,
    polygonStart: function() {
      d3_geo_areaRingSum.reset();
      d3_geo_area.lineStart = d3_geo_areaRingStart;
    },
    polygonEnd: function() {
      var area = 2 * d3_geo_areaRingSum;
      d3_geo_areaSum += area < 0 ? 4 * π + area : area;
      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;
    }
  };
  function d3_geo_areaRingStart() {
    var λ00, φ00, λ0, cosφ0, sinφ0;
    d3_geo_area.point = function(λ, φ) {
      d3_geo_area.point = nextPoint;
      λ0 = (λ00 = λ) * d3_radians, cosφ0 = Math.cos(φ = (φ00 = φ) * d3_radians / 2 + π / 4), 
      sinφ0 = Math.sin(φ);
    };
    function nextPoint(λ, φ) {
      λ *= d3_radians;
      φ = φ * d3_radians / 2 + π / 4;
      var dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, cosφ = Math.cos(φ), sinφ = Math.sin(φ), k = sinφ0 * sinφ, u = cosφ0 * cosφ + k * Math.cos(adλ), v = k * sdλ * Math.sin(adλ);
      d3_geo_areaRingSum.add(Math.atan2(v, u));
      λ0 = λ, cosφ0 = cosφ, sinφ0 = sinφ;
    }
    d3_geo_area.lineEnd = function() {
      nextPoint(λ00, φ00);
    };
  }
  function d3_geo_cartesian(spherical) {
    var λ = spherical[0], φ = spherical[1], cosφ = Math.cos(φ);
    return [ cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ) ];
  }
  function d3_geo_cartesianDot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function d3_geo_cartesianCross(a, b) {
    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];
  }
  function d3_geo_cartesianAdd(a, b) {
    a[0] += b[0];
    a[1] += b[1];
    a[2] += b[2];
  }
  function d3_geo_cartesianScale(vector, k) {
    return [ vector[0] * k, vector[1] * k, vector[2] * k ];
  }
  function d3_geo_cartesianNormalize(d) {
    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);
    d[0] /= l;
    d[1] /= l;
    d[2] /= l;
  }
  function d3_geo_spherical(cartesian) {
    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];
  }
  function d3_geo_sphericalEqual(a, b) {
    return abs(a[0] - b[0]) < ε && abs(a[1] - b[1]) < ε;
  }
  d3.geo.bounds = function() {
    var λ0, φ0, λ1, φ1, λ_, λ__, φ__, p0, dλSum, ranges, range;
    var bound = {
      point: point,
      lineStart: lineStart,
      lineEnd: lineEnd,
      polygonStart: function() {
        bound.point = ringPoint;
        bound.lineStart = ringStart;
        bound.lineEnd = ringEnd;
        dλSum = 0;
        d3_geo_area.polygonStart();
      },
      polygonEnd: function() {
        d3_geo_area.polygonEnd();
        bound.point = point;
        bound.lineStart = lineStart;
        bound.lineEnd = lineEnd;
        if (d3_geo_areaRingSum < 0) λ0 = -(λ1 = 180), φ0 = -(φ1 = 90); else if (dλSum > ε) φ1 = 90; else if (dλSum < -ε) φ0 = -90;
        range[0] = λ0, range[1] = λ1;
      }
    };
    function point(λ, φ) {
      ranges.push(range = [ λ0 = λ, λ1 = λ ]);
      if (φ < φ0) φ0 = φ;
      if (φ > φ1) φ1 = φ;
    }
    function linePoint(λ, φ) {
      var p = d3_geo_cartesian([ λ * d3_radians, φ * d3_radians ]);
      if (p0) {
        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);
        d3_geo_cartesianNormalize(inflection);
        inflection = d3_geo_spherical(inflection);
        var dλ = λ - λ_, s = dλ > 0 ? 1 : -1, λi = inflection[0] * d3_degrees * s, antimeridian = abs(dλ) > 180;
        if (antimeridian ^ (s * λ_ < λi && λi < s * λ)) {
          var φi = inflection[1] * d3_degrees;
          if (φi > φ1) φ1 = φi;
        } else if (λi = (λi + 360) % 360 - 180, antimeridian ^ (s * λ_ < λi && λi < s * λ)) {
          var φi = -inflection[1] * d3_degrees;
          if (φi < φ0) φ0 = φi;
        } else {
          if (φ < φ0) φ0 = φ;
          if (φ > φ1) φ1 = φ;
        }
        if (antimeridian) {
          if (λ < λ_) {
            if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;
          } else {
            if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;
          }
        } else {
          if (λ1 >= λ0) {
            if (λ < λ0) λ0 = λ;
            if (λ > λ1) λ1 = λ;
          } else {
            if (λ > λ_) {
              if (angle(λ0, λ) > angle(λ0, λ1)) λ1 = λ;
            } else {
              if (angle(λ, λ1) > angle(λ0, λ1)) λ0 = λ;
            }
          }
        }
      } else {
        point(λ, φ);
      }
      p0 = p, λ_ = λ;
    }
    function lineStart() {
      bound.point = linePoint;
    }
    function lineEnd() {
      range[0] = λ0, range[1] = λ1;
      bound.point = point;
      p0 = null;
    }
    function ringPoint(λ, φ) {
      if (p0) {
        var dλ = λ - λ_;
        dλSum += abs(dλ) > 180 ? dλ + (dλ > 0 ? 360 : -360) : dλ;
      } else λ__ = λ, φ__ = φ;
      d3_geo_area.point(λ, φ);
      linePoint(λ, φ);
    }
    function ringStart() {
      d3_geo_area.lineStart();
    }
    function ringEnd() {
      ringPoint(λ__, φ__);
      d3_geo_area.lineEnd();
      if (abs(dλSum) > ε) λ0 = -(λ1 = 180);
      range[0] = λ0, range[1] = λ1;
      p0 = null;
    }
    function angle(λ0, λ1) {
      return (λ1 -= λ0) < 0 ? λ1 + 360 : λ1;
    }
    function compareRanges(a, b) {
      return a[0] - b[0];
    }
    function withinRange(x, range) {
      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;
    }
    return function(feature) {
      φ1 = λ1 = -(λ0 = φ0 = Infinity);
      ranges = [];
      d3.geo.stream(feature, bound);
      var n = ranges.length;
      if (n) {
        ranges.sort(compareRanges);
        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {
          b = ranges[i];
          if (withinRange(b[0], a) || withinRange(b[1], a)) {
            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];
            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];
          } else {
            merged.push(a = b);
          }
        }
        var best = -Infinity, dλ;
        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {
          b = merged[i];
          if ((dλ = angle(a[1], b[0])) > best) best = dλ, λ0 = b[0], λ1 = a[1];
        }
      }
      ranges = range = null;
      return λ0 === Infinity || φ0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ λ0, φ0 ], [ λ1, φ1 ] ];
    };
  }();
  d3.geo.centroid = function(object) {
    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;
    d3.geo.stream(object, d3_geo_centroid);
    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;
    if (m < ε2) {
      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;
      if (d3_geo_centroidW1 < ε) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;
      m = x * x + y * y + z * z;
      if (m < ε2) return [ NaN, NaN ];
    }
    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];
  };
  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;
  var d3_geo_centroid = {
    sphere: d3_noop,
    point: d3_geo_centroidPoint,
    lineStart: d3_geo_centroidLineStart,
    lineEnd: d3_geo_centroidLineEnd,
    polygonStart: function() {
      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;
    },
    polygonEnd: function() {
      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;
    }
  };
  function d3_geo_centroidPoint(λ, φ) {
    λ *= d3_radians;
    var cosφ = Math.cos(φ *= d3_radians);
    d3_geo_centroidPointXYZ(cosφ * Math.cos(λ), cosφ * Math.sin(λ), Math.sin(φ));
  }
  function d3_geo_centroidPointXYZ(x, y, z) {
    ++d3_geo_centroidW0;
    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;
    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;
    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;
  }
  function d3_geo_centroidLineStart() {
    var x0, y0, z0;
    d3_geo_centroid.point = function(λ, φ) {
      λ *= d3_radians;
      var cosφ = Math.cos(φ *= d3_radians);
      x0 = cosφ * Math.cos(λ);
      y0 = cosφ * Math.sin(λ);
      z0 = Math.sin(φ);
      d3_geo_centroid.point = nextPoint;
      d3_geo_centroidPointXYZ(x0, y0, z0);
    };
    function nextPoint(λ, φ) {
      λ *= d3_radians;
      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);
      d3_geo_centroidW1 += w;
      d3_geo_centroidX1 += w * (x0 + (x0 = x));
      d3_geo_centroidY1 += w * (y0 + (y0 = y));
      d3_geo_centroidZ1 += w * (z0 + (z0 = z));
      d3_geo_centroidPointXYZ(x0, y0, z0);
    }
  }
  function d3_geo_centroidLineEnd() {
    d3_geo_centroid.point = d3_geo_centroidPoint;
  }
  function d3_geo_centroidRingStart() {
    var λ00, φ00, x0, y0, z0;
    d3_geo_centroid.point = function(λ, φ) {
      λ00 = λ, φ00 = φ;
      d3_geo_centroid.point = nextPoint;
      λ *= d3_radians;
      var cosφ = Math.cos(φ *= d3_radians);
      x0 = cosφ * Math.cos(λ);
      y0 = cosφ * Math.sin(λ);
      z0 = Math.sin(φ);
      d3_geo_centroidPointXYZ(x0, y0, z0);
    };
    d3_geo_centroid.lineEnd = function() {
      nextPoint(λ00, φ00);
      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;
      d3_geo_centroid.point = d3_geo_centroidPoint;
    };
    function nextPoint(λ, φ) {
      λ *= d3_radians;
      var cosφ = Math.cos(φ *= d3_radians), x = cosφ * Math.cos(λ), y = cosφ * Math.sin(λ), z = Math.sin(φ), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);
      d3_geo_centroidX2 += v * cx;
      d3_geo_centroidY2 += v * cy;
      d3_geo_centroidZ2 += v * cz;
      d3_geo_centroidW1 += w;
      d3_geo_centroidX1 += w * (x0 + (x0 = x));
      d3_geo_centroidY1 += w * (y0 + (y0 = y));
      d3_geo_centroidZ1 += w * (z0 + (z0 = z));
      d3_geo_centroidPointXYZ(x0, y0, z0);
    }
  }
  function d3_true() {
    return true;
  }
  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {
    var subject = [], clip = [];
    segments.forEach(function(segment) {
      if ((n = segment.length - 1) <= 0) return;
      var n, p0 = segment[0], p1 = segment[n];
      if (d3_geo_sphericalEqual(p0, p1)) {
        listener.lineStart();
        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);
        listener.lineEnd();
        return;
      }
      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);
      a.o = b;
      subject.push(a);
      clip.push(b);
      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);
      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);
      a.o = b;
      subject.push(a);
      clip.push(b);
    });
    clip.sort(compare);
    d3_geo_clipPolygonLinkCircular(subject);
    d3_geo_clipPolygonLinkCircular(clip);
    if (!subject.length) return;
    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {
      clip[i].e = entry = !entry;
    }
    var start = subject[0], points, point;
    while (1) {
      var current = start, isSubject = true;
      while (current.v) if ((current = current.n) === start) return;
      points = current.z;
      listener.lineStart();
      do {
        current.v = current.o.v = true;
        if (current.e) {
          if (isSubject) {
            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);
          } else {
            interpolate(current.x, current.n.x, 1, listener);
          }
          current = current.n;
        } else {
          if (isSubject) {
            points = current.p.z;
            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);
          } else {
            interpolate(current.x, current.p.x, -1, listener);
          }
          current = current.p;
        }
        current = current.o;
        points = current.z;
        isSubject = !isSubject;
      } while (!current.v);
      listener.lineEnd();
    }
  }
  function d3_geo_clipPolygonLinkCircular(array) {
    if (!(n = array.length)) return;
    var n, i = 0, a = array[0], b;
    while (++i < n) {
      a.n = b = array[i];
      b.p = a;
      a = b;
    }
    a.n = b = array[0];
    b.p = a;
  }
  function d3_geo_clipPolygonIntersection(point, points, other, entry) {
    this.x = point;
    this.z = points;
    this.o = other;
    this.e = entry;
    this.v = false;
    this.n = this.p = null;
  }
  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {
    return function(rotate, listener) {
      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);
      var clip = {
        point: point,
        lineStart: lineStart,
        lineEnd: lineEnd,
        polygonStart: function() {
          clip.point = pointRing;
          clip.lineStart = ringStart;
          clip.lineEnd = ringEnd;
          segments = [];
          polygon = [];
        },
        polygonEnd: function() {
          clip.point = point;
          clip.lineStart = lineStart;
          clip.lineEnd = lineEnd;
          segments = d3.merge(segments);
          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);
          if (segments.length) {
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;
            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);
          } else if (clipStartInside) {
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;
            listener.lineStart();
            interpolate(null, null, 1, listener);
            listener.lineEnd();
          }
          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;
          segments = polygon = null;
        },
        sphere: function() {
          listener.polygonStart();
          listener.lineStart();
          interpolate(null, null, 1, listener);
          listener.lineEnd();
          listener.polygonEnd();
        }
      };
      function point(λ, φ) {
        var point = rotate(λ, φ);
        if (pointVisible(λ = point[0], φ = point[1])) listener.point(λ, φ);
      }
      function pointLine(λ, φ) {
        var point = rotate(λ, φ);
        line.point(point[0], point[1]);
      }
      function lineStart() {
        clip.point = pointLine;
        line.lineStart();
      }
      function lineEnd() {
        clip.point = point;
        line.lineEnd();
      }
      var segments;
      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;
      function pointRing(λ, φ) {
        ring.push([ λ, φ ]);
        var point = rotate(λ, φ);
        ringListener.point(point[0], point[1]);
      }
      function ringStart() {
        ringListener.lineStart();
        ring = [];
      }
      function ringEnd() {
        pointRing(ring[0][0], ring[0][1]);
        ringListener.lineEnd();
        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;
        ring.pop();
        polygon.push(ring);
        ring = null;
        if (!n) return;
        if (clean & 1) {
          segment = ringSegments[0];
          var n = segment.length - 1, i = -1, point;
          if (n > 0) {
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;
            listener.lineStart();
            while (++i < n) listener.point((point = segment[i])[0], point[1]);
            listener.lineEnd();
          }
          return;
        }
        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));
        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));
      }
      return clip;
    };
  }
  function d3_geo_clipSegmentLength1(segment) {
    return segment.length > 1;
  }
  function d3_geo_clipBufferListener() {
    var lines = [], line;
    return {
      lineStart: function() {
        lines.push(line = []);
      },
      point: function(λ, φ) {
        line.push([ λ, φ ]);
      },
      lineEnd: d3_noop,
      buffer: function() {
        var buffer = lines;
        lines = [];
        line = null;
        return buffer;
      },
      rejoin: function() {
        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));
      }
    };
  }
  function d3_geo_clipSort(a, b) {
    return ((a = a.x)[0] < 0 ? a[1] - halfπ - ε : halfπ - a[1]) - ((b = b.x)[0] < 0 ? b[1] - halfπ - ε : halfπ - b[1]);
  }
  function d3_geo_pointInPolygon(point, polygon) {
    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;
    d3_geo_areaRingSum.reset();
    for (var i = 0, n = polygon.length; i < n; ++i) {
      var ring = polygon[i], m = ring.length;
      if (!m) continue;
      var point0 = ring[0], λ0 = point0[0], φ0 = point0[1] / 2 + π / 4, sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), j = 1;
      while (true) {
        if (j === m) j = 0;
        point = ring[j];
        var λ = point[0], φ = point[1] / 2 + π / 4, sinφ = Math.sin(φ), cosφ = Math.cos(φ), dλ = λ - λ0, sdλ = dλ >= 0 ? 1 : -1, adλ = sdλ * dλ, antimeridian = adλ > π, k = sinφ0 * sinφ;
        d3_geo_areaRingSum.add(Math.atan2(k * sdλ * Math.sin(adλ), cosφ0 * cosφ + k * Math.cos(adλ)));
        polarAngle += antimeridian ? dλ + sdλ * τ : dλ;
        if (antimeridian ^ λ0 >= meridian ^ λ >= meridian) {
          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));
          d3_geo_cartesianNormalize(arc);
          var intersection = d3_geo_cartesianCross(meridianNormal, arc);
          d3_geo_cartesianNormalize(intersection);
          var φarc = (antimeridian ^ dλ >= 0 ? -1 : 1) * d3_asin(intersection[2]);
          if (parallel > φarc || parallel === φarc && (arc[0] || arc[1])) {
            winding += antimeridian ^ dλ >= 0 ? 1 : -1;
          }
        }
        if (!j++) break;
        λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ, point0 = point;
      }
    }
    return (polarAngle < -ε || polarAngle < ε && d3_geo_areaRingSum < 0) ^ winding & 1;
  }
  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -π, -π / 2 ]);
  function d3_geo_clipAntimeridianLine(listener) {
    var λ0 = NaN, φ0 = NaN, sλ0 = NaN, clean;
    return {
      lineStart: function() {
        listener.lineStart();
        clean = 1;
      },
      point: function(λ1, φ1) {
        var sλ1 = λ1 > 0 ? π : -π, dλ = abs(λ1 - λ0);
        if (abs(dλ - π) < ε) {
          listener.point(λ0, φ0 = (φ0 + φ1) / 2 > 0 ? halfπ : -halfπ);
          listener.point(sλ0, φ0);
          listener.lineEnd();
          listener.lineStart();
          listener.point(sλ1, φ0);
          listener.point(λ1, φ0);
          clean = 0;
        } else if (sλ0 !== sλ1 && dλ >= π) {
          if (abs(λ0 - sλ0) < ε) λ0 -= sλ0 * ε;
          if (abs(λ1 - sλ1) < ε) λ1 -= sλ1 * ε;
          φ0 = d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1);
          listener.point(sλ0, φ0);
          listener.lineEnd();
          listener.lineStart();
          listener.point(sλ1, φ0);
          clean = 0;
        }
        listener.point(λ0 = λ1, φ0 = φ1);
        sλ0 = sλ1;
      },
      lineEnd: function() {
        listener.lineEnd();
        λ0 = φ0 = NaN;
      },
      clean: function() {
        return 2 - clean;
      }
    };
  }
  function d3_geo_clipAntimeridianIntersect(λ0, φ0, λ1, φ1) {
    var cosφ0, cosφ1, sinλ0_λ1 = Math.sin(λ0 - λ1);
    return abs(sinλ0_λ1) > ε ? Math.atan((Math.sin(φ0) * (cosφ1 = Math.cos(φ1)) * Math.sin(λ1) - Math.sin(φ1) * (cosφ0 = Math.cos(φ0)) * Math.sin(λ0)) / (cosφ0 * cosφ1 * sinλ0_λ1)) : (φ0 + φ1) / 2;
  }
  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {
    var φ;
    if (from == null) {
      φ = direction * halfπ;
      listener.point(-π, φ);
      listener.point(0, φ);
      listener.point(π, φ);
      listener.point(π, 0);
      listener.point(π, -φ);
      listener.point(0, -φ);
      listener.point(-π, -φ);
      listener.point(-π, 0);
      listener.point(-π, φ);
    } else if (abs(from[0] - to[0]) > ε) {
      var s = from[0] < to[0] ? π : -π;
      φ = direction * s / 2;
      listener.point(-s, φ);
      listener.point(0, φ);
      listener.point(s, φ);
    } else {
      listener.point(to[0], to[1]);
    }
  }
  function d3_geo_clipCircle(radius) {
    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > ε, interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);
    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -π, radius - π ]);
    function visible(λ, φ) {
      return Math.cos(λ) * Math.cos(φ) > cr;
    }
    function clipLine(listener) {
      var point0, c0, v0, v00, clean;
      return {
        lineStart: function() {
          v00 = v0 = false;
          clean = 1;
        },
        point: function(λ, φ) {
          var point1 = [ λ, φ ], point2, v = visible(λ, φ), c = smallRadius ? v ? 0 : code(λ, φ) : v ? code(λ + (λ < 0 ? π : -π), φ) : 0;
          if (!point0 && (v00 = v0 = v)) listener.lineStart();
          if (v !== v0) {
            point2 = intersect(point0, point1);
            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {
              point1[0] += ε;
              point1[1] += ε;
              v = visible(point1[0], point1[1]);
            }
          }
          if (v !== v0) {
            clean = 0;
            if (v) {
              listener.lineStart();
              point2 = intersect(point1, point0);
              listener.point(point2[0], point2[1]);
            } else {
              point2 = intersect(point0, point1);
              listener.point(point2[0], point2[1]);
              listener.lineEnd();
            }
            point0 = point2;
          } else if (notHemisphere && point0 && smallRadius ^ v) {
            var t;
            if (!(c & c0) && (t = intersect(point1, point0, true))) {
              clean = 0;
              if (smallRadius) {
                listener.lineStart();
                listener.point(t[0][0], t[0][1]);
                listener.point(t[1][0], t[1][1]);
                listener.lineEnd();
              } else {
                listener.point(t[1][0], t[1][1]);
                listener.lineEnd();
                listener.lineStart();
                listener.point(t[0][0], t[0][1]);
              }
            }
          }
          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {
            listener.point(point1[0], point1[1]);
          }
          point0 = point1, v0 = v, c0 = c;
        },
        lineEnd: function() {
          if (v0) listener.lineEnd();
          point0 = null;
        },
        clean: function() {
          return clean | (v00 && v0) << 1;
        }
      };
    }
    function intersect(a, b, two) {
      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);
      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;
      if (!determinant) return !two && a;
      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);
      d3_geo_cartesianAdd(A, B);
      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);
      if (t2 < 0) return;
      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);
      d3_geo_cartesianAdd(q, A);
      q = d3_geo_spherical(q);
      if (!two) return q;
      var λ0 = a[0], λ1 = b[0], φ0 = a[1], φ1 = b[1], z;
      if (λ1 < λ0) z = λ0, λ0 = λ1, λ1 = z;
      var δλ = λ1 - λ0, polar = abs(δλ - π) < ε, meridian = polar || δλ < ε;
      if (!polar && φ1 < φ0) z = φ0, φ0 = φ1, φ1 = z;
      if (meridian ? polar ? φ0 + φ1 > 0 ^ q[1] < (abs(q[0] - λ0) < ε ? φ0 : φ1) : φ0 <= q[1] && q[1] <= φ1 : δλ > π ^ (λ0 <= q[0] && q[0] <= λ1)) {
        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);
        d3_geo_cartesianAdd(q1, A);
        return [ q, d3_geo_spherical(q1) ];
      }
    }
    function code(λ, φ) {
      var r = smallRadius ? radius : π - radius, code = 0;
      if (λ < -r) code |= 1; else if (λ > r) code |= 2;
      if (φ < -r) code |= 4; else if (φ > r) code |= 8;
      return code;
    }
  }
  function d3_geom_clipLine(x0, y0, x1, y1) {
    return function(line) {
      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;
      r = x0 - ax;
      if (!dx && r > 0) return;
      r /= dx;
      if (dx < 0) {
        if (r < t0) return;
        if (r < t1) t1 = r;
      } else if (dx > 0) {
        if (r > t1) return;
        if (r > t0) t0 = r;
      }
      r = x1 - ax;
      if (!dx && r < 0) return;
      r /= dx;
      if (dx < 0) {
        if (r > t1) return;
        if (r > t0) t0 = r;
      } else if (dx > 0) {
        if (r < t0) return;
        if (r < t1) t1 = r;
      }
      r = y0 - ay;
      if (!dy && r > 0) return;
      r /= dy;
      if (dy < 0) {
        if (r < t0) return;
        if (r < t1) t1 = r;
      } else if (dy > 0) {
        if (r > t1) return;
        if (r > t0) t0 = r;
      }
      r = y1 - ay;
      if (!dy && r < 0) return;
      r /= dy;
      if (dy < 0) {
        if (r > t1) return;
        if (r > t0) t0 = r;
      } else if (dy > 0) {
        if (r < t0) return;
        if (r < t1) t1 = r;
      }
      if (t0 > 0) line.a = {
        x: ax + t0 * dx,
        y: ay + t0 * dy
      };
      if (t1 < 1) line.b = {
        x: ax + t1 * dx,
        y: ay + t1 * dy
      };
      return line;
    };
  }
  var d3_geo_clipExtentMAX = 1e9;
  d3.geo.clipExtent = function() {
    var x0, y0, x1, y1, stream, clip, clipExtent = {
      stream: function(output) {
        if (stream) stream.valid = false;
        stream = clip(output);
        stream.valid = true;
        return stream;
      },
      extent: function(_) {
        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];
        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);
        if (stream) stream.valid = false, stream = null;
        return clipExtent;
      }
    };
    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);
  };
  function d3_geo_clipExtent(x0, y0, x1, y1) {
    return function(listener) {
      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;
      var clip = {
        point: point,
        lineStart: lineStart,
        lineEnd: lineEnd,
        polygonStart: function() {
          listener = bufferListener;
          segments = [];
          polygon = [];
          clean = true;
        },
        polygonEnd: function() {
          listener = listener_;
          segments = d3.merge(segments);
          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;
          if (inside || visible) {
            listener.polygonStart();
            if (inside) {
              listener.lineStart();
              interpolate(null, null, 1, listener);
              listener.lineEnd();
            }
            if (visible) {
              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);
            }
            listener.polygonEnd();
          }
          segments = polygon = ring = null;
        }
      };
      function insidePolygon(p) {
        var wn = 0, n = polygon.length, y = p[1];
        for (var i = 0; i < n; ++i) {
          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {
            b = v[j];
            if (a[1] <= y) {
              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;
            } else {
              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;
            }
            a = b;
          }
        }
        return wn !== 0;
      }
      function interpolate(from, to, direction, listener) {
        var a = 0, a1 = 0;
        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {
          do {
            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);
          } while ((a = (a + direction + 4) % 4) !== a1);
        } else {
          listener.point(to[0], to[1]);
        }
      }
      function pointVisible(x, y) {
        return x0 <= x && x <= x1 && y0 <= y && y <= y1;
      }
      function point(x, y) {
        if (pointVisible(x, y)) listener.point(x, y);
      }
      var x__, y__, v__, x_, y_, v_, first, clean;
      function lineStart() {
        clip.point = linePoint;
        if (polygon) polygon.push(ring = []);
        first = true;
        v_ = false;
        x_ = y_ = NaN;
      }
      function lineEnd() {
        if (segments) {
          linePoint(x__, y__);
          if (v__ && v_) bufferListener.rejoin();
          segments.push(bufferListener.buffer());
        }
        clip.point = point;
        if (v_) listener.lineEnd();
      }
      function linePoint(x, y) {
        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));
        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));
        var v = pointVisible(x, y);
        if (polygon) ring.push([ x, y ]);
        if (first) {
          x__ = x, y__ = y, v__ = v;
          first = false;
          if (v) {
            listener.lineStart();
            listener.point(x, y);
          }
        } else {
          if (v && v_) listener.point(x, y); else {
            var l = {
              a: {
                x: x_,
                y: y_
              },
              b: {
                x: x,
                y: y
              }
            };
            if (clipLine(l)) {
              if (!v_) {
                listener.lineStart();
                listener.point(l.a.x, l.a.y);
              }
              listener.point(l.b.x, l.b.y);
              if (!v) listener.lineEnd();
              clean = false;
            } else if (v) {
              listener.lineStart();
              listener.point(x, y);
              clean = false;
            }
          }
        }
        x_ = x, y_ = y, v_ = v;
      }
      return clip;
    };
    function corner(p, direction) {
      return abs(p[0] - x0) < ε ? direction > 0 ? 0 : 3 : abs(p[0] - x1) < ε ? direction > 0 ? 2 : 1 : abs(p[1] - y0) < ε ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;
    }
    function compare(a, b) {
      return comparePoints(a.x, b.x);
    }
    function comparePoints(a, b) {
      var ca = corner(a, 1), cb = corner(b, 1);
      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];
    }
  }
  function d3_geo_compose(a, b) {
    function compose(x, y) {
      return x = a(x, y), b(x[0], x[1]);
    }
    if (a.invert && b.invert) compose.invert = function(x, y) {
      return x = b.invert(x, y), x && a.invert(x[0], x[1]);
    };
    return compose;
  }
  function d3_geo_conic(projectAt) {
    var φ0 = 0, φ1 = π / 3, m = d3_geo_projectionMutator(projectAt), p = m(φ0, φ1);
    p.parallels = function(_) {
      if (!arguments.length) return [ φ0 / π * 180, φ1 / π * 180 ];
      return m(φ0 = _[0] * π / 180, φ1 = _[1] * π / 180);
    };
    return p;
  }
  function d3_geo_conicEqualArea(φ0, φ1) {
    var sinφ0 = Math.sin(φ0), n = (sinφ0 + Math.sin(φ1)) / 2, C = 1 + sinφ0 * (2 * n - sinφ0), ρ0 = Math.sqrt(C) / n;
    function forward(λ, φ) {
      var ρ = Math.sqrt(C - 2 * n * Math.sin(φ)) / n;
      return [ ρ * Math.sin(λ *= n), ρ0 - ρ * Math.cos(λ) ];
    }
    forward.invert = function(x, y) {
      var ρ0_y = ρ0 - y;
      return [ Math.atan2(x, ρ0_y) / n, d3_asin((C - (x * x + ρ0_y * ρ0_y) * n * n) / (2 * n)) ];
    };
    return forward;
  }
  (d3.geo.conicEqualArea = function() {
    return d3_geo_conic(d3_geo_conicEqualArea);
  }).raw = d3_geo_conicEqualArea;
  d3.geo.albers = function() {
    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);
  };
  d3.geo.albersUsa = function() {
    var lower48 = d3.geo.albers();
    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);
    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);
    var point, pointStream = {
      point: function(x, y) {
        point = [ x, y ];
      }
    }, lower48Point, alaskaPoint, hawaiiPoint;
    function albersUsa(coordinates) {
      var x = coordinates[0], y = coordinates[1];
      point = null;
      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);
      return point;
    }
    albersUsa.invert = function(coordinates) {
      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;
      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);
    };
    albersUsa.stream = function(stream) {
      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);
      return {
        point: function(x, y) {
          lower48Stream.point(x, y);
          alaskaStream.point(x, y);
          hawaiiStream.point(x, y);
        },
        sphere: function() {
          lower48Stream.sphere();
          alaskaStream.sphere();
          hawaiiStream.sphere();
        },
        lineStart: function() {
          lower48Stream.lineStart();
          alaskaStream.lineStart();
          hawaiiStream.lineStart();
        },
        lineEnd: function() {
          lower48Stream.lineEnd();
          alaskaStream.lineEnd();
          hawaiiStream.lineEnd();
        },
        polygonStart: function() {
          lower48Stream.polygonStart();
          alaskaStream.polygonStart();
          hawaiiStream.polygonStart();
        },
        polygonEnd: function() {
          lower48Stream.polygonEnd();
          alaskaStream.polygonEnd();
          hawaiiStream.polygonEnd();
        }
      };
    };
    albersUsa.precision = function(_) {
      if (!arguments.length) return lower48.precision();
      lower48.precision(_);
      alaska.precision(_);
      hawaii.precision(_);
      return albersUsa;
    };
    albersUsa.scale = function(_) {
      if (!arguments.length) return lower48.scale();
      lower48.scale(_);
      alaska.scale(_ * .35);
      hawaii.scale(_);
      return albersUsa.translate(lower48.translate());
    };
    albersUsa.translate = function(_) {
      if (!arguments.length) return lower48.translate();
      var k = lower48.scale(), x = +_[0], y = +_[1];
      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;
      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + ε, y + .12 * k + ε ], [ x - .214 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;
      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + ε, y + .166 * k + ε ], [ x - .115 * k - ε, y + .234 * k - ε ] ]).stream(pointStream).point;
      return albersUsa;
    };
    return albersUsa.scale(1070);
  };
  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {
    point: d3_noop,
    lineStart: d3_noop,
    lineEnd: d3_noop,
    polygonStart: function() {
      d3_geo_pathAreaPolygon = 0;
      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;
    },
    polygonEnd: function() {
      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;
      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);
    }
  };
  function d3_geo_pathAreaRingStart() {
    var x00, y00, x0, y0;
    d3_geo_pathArea.point = function(x, y) {
      d3_geo_pathArea.point = nextPoint;
      x00 = x0 = x, y00 = y0 = y;
    };
    function nextPoint(x, y) {
      d3_geo_pathAreaPolygon += y0 * x - x0 * y;
      x0 = x, y0 = y;
    }
    d3_geo_pathArea.lineEnd = function() {
      nextPoint(x00, y00);
    };
  }
  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;
  var d3_geo_pathBounds = {
    point: d3_geo_pathBoundsPoint,
    lineStart: d3_noop,
    lineEnd: d3_noop,
    polygonStart: d3_noop,
    polygonEnd: d3_noop
  };
  function d3_geo_pathBoundsPoint(x, y) {
    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;
    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;
    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;
    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;
  }
  function d3_geo_pathBuffer() {
    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];
    var stream = {
      point: point,
      lineStart: function() {
        stream.point = pointLineStart;
      },
      lineEnd: lineEnd,
      polygonStart: function() {
        stream.lineEnd = lineEndPolygon;
      },
      polygonEnd: function() {
        stream.lineEnd = lineEnd;
        stream.point = point;
      },
      pointRadius: function(_) {
        pointCircle = d3_geo_pathBufferCircle(_);
        return stream;
      },
      result: function() {
        if (buffer.length) {
          var result = buffer.join("");
          buffer = [];
          return result;
        }
      }
    };
    function point(x, y) {
      buffer.push("M", x, ",", y, pointCircle);
    }
    function pointLineStart(x, y) {
      buffer.push("M", x, ",", y);
      stream.point = pointLine;
    }
    function pointLine(x, y) {
      buffer.push("L", x, ",", y);
    }
    function lineEnd() {
      stream.point = point;
    }
    function lineEndPolygon() {
      buffer.push("Z");
    }
    return stream;
  }
  function d3_geo_pathBufferCircle(radius) {
    return "m0," + radius + "a" + radius + "," + radius + " 0 1,1 0," + -2 * radius + "a" + radius + "," + radius + " 0 1,1 0," + 2 * radius + "z";
  }
  var d3_geo_pathCentroid = {
    point: d3_geo_pathCentroidPoint,
    lineStart: d3_geo_pathCentroidLineStart,
    lineEnd: d3_geo_pathCentroidLineEnd,
    polygonStart: function() {
      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;
    },
    polygonEnd: function() {
      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;
      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;
      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;
    }
  };
  function d3_geo_pathCentroidPoint(x, y) {
    d3_geo_centroidX0 += x;
    d3_geo_centroidY0 += y;
    ++d3_geo_centroidZ0;
  }
  function d3_geo_pathCentroidLineStart() {
    var x0, y0;
    d3_geo_pathCentroid.point = function(x, y) {
      d3_geo_pathCentroid.point = nextPoint;
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);
    };
    function nextPoint(x, y) {
      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);
      d3_geo_centroidX1 += z * (x0 + x) / 2;
      d3_geo_centroidY1 += z * (y0 + y) / 2;
      d3_geo_centroidZ1 += z;
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);
    }
  }
  function d3_geo_pathCentroidLineEnd() {
    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;
  }
  function d3_geo_pathCentroidRingStart() {
    var x00, y00, x0, y0;
    d3_geo_pathCentroid.point = function(x, y) {
      d3_geo_pathCentroid.point = nextPoint;
      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);
    };
    function nextPoint(x, y) {
      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);
      d3_geo_centroidX1 += z * (x0 + x) / 2;
      d3_geo_centroidY1 += z * (y0 + y) / 2;
      d3_geo_centroidZ1 += z;
      z = y0 * x - x0 * y;
      d3_geo_centroidX2 += z * (x0 + x);
      d3_geo_centroidY2 += z * (y0 + y);
      d3_geo_centroidZ2 += z * 3;
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);
    }
    d3_geo_pathCentroid.lineEnd = function() {
      nextPoint(x00, y00);
    };
  }
  function d3_geo_pathContext(context) {
    var pointRadius = 4.5;
    var stream = {
      point: point,
      lineStart: function() {
        stream.point = pointLineStart;
      },
      lineEnd: lineEnd,
      polygonStart: function() {
        stream.lineEnd = lineEndPolygon;
      },
      polygonEnd: function() {
        stream.lineEnd = lineEnd;
        stream.point = point;
      },
      pointRadius: function(_) {
        pointRadius = _;
        return stream;
      },
      result: d3_noop
    };
    function point(x, y) {
      context.moveTo(x, y);
      context.arc(x, y, pointRadius, 0, τ);
    }
    function pointLineStart(x, y) {
      context.moveTo(x, y);
      stream.point = pointLine;
    }
    function pointLine(x, y) {
      context.lineTo(x, y);
    }
    function lineEnd() {
      stream.point = point;
    }
    function lineEndPolygon() {
      context.closePath();
    }
    return stream;
  }
  function d3_geo_resample(project) {
    var δ2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;
    function resample(stream) {
      return (maxDepth ? resampleRecursive : resampleNone)(stream);
    }
    function resampleNone(stream) {
      return d3_geo_transformPoint(stream, function(x, y) {
        x = project(x, y);
        stream.point(x[0], x[1]);
      });
    }
    function resampleRecursive(stream) {
      var λ00, φ00, x00, y00, a00, b00, c00, λ0, x0, y0, a0, b0, c0;
      var resample = {
        point: point,
        lineStart: lineStart,
        lineEnd: lineEnd,
        polygonStart: function() {
          stream.polygonStart();
          resample.lineStart = ringStart;
        },
        polygonEnd: function() {
          stream.polygonEnd();
          resample.lineStart = lineStart;
        }
      };
      function point(x, y) {
        x = project(x, y);
        stream.point(x[0], x[1]);
      }
      function lineStart() {
        x0 = NaN;
        resample.point = linePoint;
        stream.lineStart();
      }
      function linePoint(λ, φ) {
        var c = d3_geo_cartesian([ λ, φ ]), p = project(λ, φ);
        resampleLineTo(x0, y0, λ0, a0, b0, c0, x0 = p[0], y0 = p[1], λ0 = λ, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);
        stream.point(x0, y0);
      }
      function lineEnd() {
        resample.point = point;
        stream.lineEnd();
      }
      function ringStart() {
        lineStart();
        resample.point = ringPoint;
        resample.lineEnd = ringEnd;
      }
      function ringPoint(λ, φ) {
        linePoint(λ00 = λ, φ00 = φ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;
        resample.point = linePoint;
      }
      function ringEnd() {
        resampleLineTo(x0, y0, λ0, a0, b0, c0, x00, y00, λ00, a00, b00, c00, maxDepth, stream);
        resample.lineEnd = lineEnd;
        lineEnd();
      }
      return resample;
    }
    function resampleLineTo(x0, y0, λ0, a0, b0, c0, x1, y1, λ1, a1, b1, c1, depth, stream) {
      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;
      if (d2 > 4 * δ2 && depth--) {
        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), φ2 = Math.asin(c /= m), λ2 = abs(abs(c) - 1) < ε || abs(λ0 - λ1) < ε ? (λ0 + λ1) / 2 : Math.atan2(b, a), p = project(λ2, φ2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;
        if (dz * dz / d2 > δ2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {
          resampleLineTo(x0, y0, λ0, a0, b0, c0, x2, y2, λ2, a /= m, b /= m, c, depth, stream);
          stream.point(x2, y2);
          resampleLineTo(x2, y2, λ2, a, b, c, x1, y1, λ1, a1, b1, c1, depth, stream);
        }
      }
    }
    resample.precision = function(_) {
      if (!arguments.length) return Math.sqrt(δ2);
      maxDepth = (δ2 = _ * _) > 0 && 16;
      return resample;
    };
    return resample;
  }
  d3.geo.path = function() {
    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;
    function path(object) {
      if (object) {
        if (typeof pointRadius === "function") contextStream.pointRadius(+pointRadius.apply(this, arguments));
        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);
        d3.geo.stream(object, cacheStream);
      }
      return contextStream.result();
    }
    path.area = function(object) {
      d3_geo_pathAreaSum = 0;
      d3.geo.stream(object, projectStream(d3_geo_pathArea));
      return d3_geo_pathAreaSum;
    };
    path.centroid = function(object) {
      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;
      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));
      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];
    };
    path.bounds = function(object) {
      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);
      d3.geo.stream(object, projectStream(d3_geo_pathBounds));
      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];
    };
    path.projection = function(_) {
      if (!arguments.length) return projection;
      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;
      return reset();
    };
    path.context = function(_) {
      if (!arguments.length) return context;
      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);
      if (typeof pointRadius !== "function") contextStream.pointRadius(pointRadius);
      return reset();
    };
    path.pointRadius = function(_) {
      if (!arguments.length) return pointRadius;
      pointRadius = typeof _ === "function" ? _ : (contextStream.pointRadius(+_), +_);
      return path;
    };
    function reset() {
      cacheStream = null;
      return path;
    }
    return path.projection(d3.geo.albersUsa()).context(null);
  };
  function d3_geo_pathProjectStream(project) {
    var resample = d3_geo_resample(function(x, y) {
      return project([ x * d3_degrees, y * d3_degrees ]);
    });
    return function(stream) {
      return d3_geo_projectionRadians(resample(stream));
    };
  }
  d3.geo.transform = function(methods) {
    return {
      stream: function(stream) {
        var transform = new d3_geo_transform(stream);
        for (var k in methods) transform[k] = methods[k];
        return transform;
      }
    };
  };
  function d3_geo_transform(stream) {
    this.stream = stream;
  }
  d3_geo_transform.prototype = {
    point: function(x, y) {
      this.stream.point(x, y);
    },
    sphere: function() {
      this.stream.sphere();
    },
    lineStart: function() {
      this.stream.lineStart();
    },
    lineEnd: function() {
      this.stream.lineEnd();
    },
    polygonStart: function() {
      this.stream.polygonStart();
    },
    polygonEnd: function() {
      this.stream.polygonEnd();
    }
  };
  function d3_geo_transformPoint(stream, point) {
    return {
      point: point,
      sphere: function() {
        stream.sphere();
      },
      lineStart: function() {
        stream.lineStart();
      },
      lineEnd: function() {
        stream.lineEnd();
      },
      polygonStart: function() {
        stream.polygonStart();
      },
      polygonEnd: function() {
        stream.polygonEnd();
      }
    };
  }
  d3.geo.projection = d3_geo_projection;
  d3.geo.projectionMutator = d3_geo_projectionMutator;
  function d3_geo_projection(project) {
    return d3_geo_projectionMutator(function() {
      return project;
    })();
  }
  function d3_geo_projectionMutator(projectAt) {
    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {
      x = project(x, y);
      return [ x[0] * k + δx, δy - x[1] * k ];
    }), k = 150, x = 480, y = 250, λ = 0, φ = 0, δλ = 0, δφ = 0, δγ = 0, δx, δy, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;
    function projection(point) {
      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);
      return [ point[0] * k + δx, δy - point[1] * k ];
    }
    function invert(point) {
      point = projectRotate.invert((point[0] - δx) / k, (δy - point[1]) / k);
      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];
    }
    projection.stream = function(output) {
      if (stream) stream.valid = false;
      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));
      stream.valid = true;
      return stream;
    };
    projection.clipAngle = function(_) {
      if (!arguments.length) return clipAngle;
      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);
      return invalidate();
    };
    projection.clipExtent = function(_) {
      if (!arguments.length) return clipExtent;
      clipExtent = _;
      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;
      return invalidate();
    };
    projection.scale = function(_) {
      if (!arguments.length) return k;
      k = +_;
      return reset();
    };
    projection.translate = function(_) {
      if (!arguments.length) return [ x, y ];
      x = +_[0];
      y = +_[1];
      return reset();
    };
    projection.center = function(_) {
      if (!arguments.length) return [ λ * d3_degrees, φ * d3_degrees ];
      λ = _[0] % 360 * d3_radians;
      φ = _[1] % 360 * d3_radians;
      return reset();
    };
    projection.rotate = function(_) {
      if (!arguments.length) return [ δλ * d3_degrees, δφ * d3_degrees, δγ * d3_degrees ];
      δλ = _[0] % 360 * d3_radians;
      δφ = _[1] % 360 * d3_radians;
      δγ = _.length > 2 ? _[2] % 360 * d3_radians : 0;
      return reset();
    };
    d3.rebind(projection, projectResample, "precision");
    function reset() {
      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(δλ, δφ, δγ), project);
      var center = project(λ, φ);
      δx = x - center[0] * k;
      δy = y + center[1] * k;
      return invalidate();
    }
    function invalidate() {
      if (stream) stream.valid = false, stream = null;
      return projection;
    }
    return function() {
      project = projectAt.apply(this, arguments);
      projection.invert = project.invert && invert;
      return reset();
    };
  }
  function d3_geo_projectionRadians(stream) {
    return d3_geo_transformPoint(stream, function(x, y) {
      stream.point(x * d3_radians, y * d3_radians);
    });
  }
  function d3_geo_equirectangular(λ, φ) {
    return [ λ, φ ];
  }
  (d3.geo.equirectangular = function() {
    return d3_geo_projection(d3_geo_equirectangular);
  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;
  d3.geo.rotation = function(rotate) {
    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);
    function forward(coordinates) {
      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);
      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;
    }
    forward.invert = function(coordinates) {
      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);
      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;
    };
    return forward;
  };
  function d3_geo_identityRotation(λ, φ) {
    return [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];
  }
  d3_geo_identityRotation.invert = d3_geo_equirectangular;
  function d3_geo_rotation(δλ, δφ, δγ) {
    return δλ ? δφ || δγ ? d3_geo_compose(d3_geo_rotationλ(δλ), d3_geo_rotationφγ(δφ, δγ)) : d3_geo_rotationλ(δλ) : δφ || δγ ? d3_geo_rotationφγ(δφ, δγ) : d3_geo_identityRotation;
  }
  function d3_geo_forwardRotationλ(δλ) {
    return function(λ, φ) {
      return λ += δλ, [ λ > π ? λ - τ : λ < -π ? λ + τ : λ, φ ];
    };
  }
  function d3_geo_rotationλ(δλ) {
    var rotation = d3_geo_forwardRotationλ(δλ);
    rotation.invert = d3_geo_forwardRotationλ(-δλ);
    return rotation;
  }
  function d3_geo_rotationφγ(δφ, δγ) {
    var cosδφ = Math.cos(δφ), sinδφ = Math.sin(δφ), cosδγ = Math.cos(δγ), sinδγ = Math.sin(δγ);
    function rotation(λ, φ) {
      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδφ + x * sinδφ;
      return [ Math.atan2(y * cosδγ - k * sinδγ, x * cosδφ - z * sinδφ), d3_asin(k * cosδγ + y * sinδγ) ];
    }
    rotation.invert = function(λ, φ) {
      var cosφ = Math.cos(φ), x = Math.cos(λ) * cosφ, y = Math.sin(λ) * cosφ, z = Math.sin(φ), k = z * cosδγ - y * sinδγ;
      return [ Math.atan2(y * cosδγ + z * sinδγ, x * cosδφ + k * sinδφ), d3_asin(k * cosδφ - x * sinδφ) ];
    };
    return rotation;
  }
  d3.geo.circle = function() {
    var origin = [ 0, 0 ], angle, precision = 6, interpolate;
    function circle() {
      var center = typeof origin === "function" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];
      interpolate(null, null, 1, {
        point: function(x, y) {
          ring.push(x = rotate(x, y));
          x[0] *= d3_degrees, x[1] *= d3_degrees;
        }
      });
      return {
        type: "Polygon",
        coordinates: [ ring ]
      };
    }
    circle.origin = function(x) {
      if (!arguments.length) return origin;
      origin = x;
      return circle;
    };
    circle.angle = function(x) {
      if (!arguments.length) return angle;
      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);
      return circle;
    };
    circle.precision = function(_) {
      if (!arguments.length) return precision;
      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);
      return circle;
    };
    return circle.angle(90);
  };
  function d3_geo_circleInterpolate(radius, precision) {
    var cr = Math.cos(radius), sr = Math.sin(radius);
    return function(from, to, direction, listener) {
      var step = direction * precision;
      if (from != null) {
        from = d3_geo_circleAngle(cr, from);
        to = d3_geo_circleAngle(cr, to);
        if (direction > 0 ? from < to : from > to) from += direction * τ;
      } else {
        from = radius + direction * τ;
        to = radius - .5 * step;
      }
      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {
        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);
      }
    };
  }
  function d3_geo_circleAngle(cr, point) {
    var a = d3_geo_cartesian(point);
    a[0] -= cr;
    d3_geo_cartesianNormalize(a);
    var angle = d3_acos(-a[1]);
    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ε) % (2 * Math.PI);
  }
  d3.geo.distance = function(a, b) {
    var Δλ = (b[0] - a[0]) * d3_radians, φ0 = a[1] * d3_radians, φ1 = b[1] * d3_radians, sinΔλ = Math.sin(Δλ), cosΔλ = Math.cos(Δλ), sinφ0 = Math.sin(φ0), cosφ0 = Math.cos(φ0), sinφ1 = Math.sin(φ1), cosφ1 = Math.cos(φ1), t;
    return Math.atan2(Math.sqrt((t = cosφ1 * sinΔλ) * t + (t = cosφ0 * sinφ1 - sinφ0 * cosφ1 * cosΔλ) * t), sinφ0 * sinφ1 + cosφ0 * cosφ1 * cosΔλ);
  };
  d3.geo.graticule = function() {
    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;
    function graticule() {
      return {
        type: "MultiLineString",
        coordinates: lines()
      };
    }
    function lines() {
      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {
        return abs(x % DX) > ε;
      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {
        return abs(y % DY) > ε;
      }).map(y));
    }
    graticule.lines = function() {
      return lines().map(function(coordinates) {
        return {
          type: "LineString",
          coordinates: coordinates
        };
      });
    };
    graticule.outline = function() {
      return {
        type: "Polygon",
        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]
      };
    };
    graticule.extent = function(_) {
      if (!arguments.length) return graticule.minorExtent();
      return graticule.majorExtent(_).minorExtent(_);
    };
    graticule.majorExtent = function(_) {
      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];
      X0 = +_[0][0], X1 = +_[1][0];
      Y0 = +_[0][1], Y1 = +_[1][1];
      if (X0 > X1) _ = X0, X0 = X1, X1 = _;
      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;
      return graticule.precision(precision);
    };
    graticule.minorExtent = function(_) {
      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];
      x0 = +_[0][0], x1 = +_[1][0];
      y0 = +_[0][1], y1 = +_[1][1];
      if (x0 > x1) _ = x0, x0 = x1, x1 = _;
      if (y0 > y1) _ = y0, y0 = y1, y1 = _;
      return graticule.precision(precision);
    };
    graticule.step = function(_) {
      if (!arguments.length) return graticule.minorStep();
      return graticule.majorStep(_).minorStep(_);
    };
    graticule.majorStep = function(_) {
      if (!arguments.length) return [ DX, DY ];
      DX = +_[0], DY = +_[1];
      return graticule;
    };
    graticule.minorStep = function(_) {
      if (!arguments.length) return [ dx, dy ];
      dx = +_[0], dy = +_[1];
      return graticule;
    };
    graticule.precision = function(_) {
      if (!arguments.length) return precision;
      precision = +_;
      x = d3_geo_graticuleX(y0, y1, 90);
      y = d3_geo_graticuleY(x0, x1, precision);
      X = d3_geo_graticuleX(Y0, Y1, 90);
      Y = d3_geo_graticuleY(X0, X1, precision);
      return graticule;
    };
    return graticule.majorExtent([ [ -180, -90 + ε ], [ 180, 90 - ε ] ]).minorExtent([ [ -180, -80 - ε ], [ 180, 80 + ε ] ]);
  };
  function d3_geo_graticuleX(y0, y1, dy) {
    var y = d3.range(y0, y1 - ε, dy).concat(y1);
    return function(x) {
      return y.map(function(y) {
        return [ x, y ];
      });
    };
  }
  function d3_geo_graticuleY(x0, x1, dx) {
    var x = d3.range(x0, x1 - ε, dx).concat(x1);
    return function(y) {
      return x.map(function(x) {
        return [ x, y ];
      });
    };
  }
  function d3_source(d) {
    return d.source;
  }
  function d3_target(d) {
    return d.target;
  }
  d3.geo.greatArc = function() {
    var source = d3_source, source_, target = d3_target, target_;
    function greatArc() {
      return {
        type: "LineString",
        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]
      };
    }
    greatArc.distance = function() {
      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));
    };
    greatArc.source = function(_) {
      if (!arguments.length) return source;
      source = _, source_ = typeof _ === "function" ? null : _;
      return greatArc;
    };
    greatArc.target = function(_) {
      if (!arguments.length) return target;
      target = _, target_ = typeof _ === "function" ? null : _;
      return greatArc;
    };
    greatArc.precision = function() {
      return arguments.length ? greatArc : 0;
    };
    return greatArc;
  };
  d3.geo.interpolate = function(source, target) {
    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);
  };
  function d3_geo_interpolate(x0, y0, x1, y1) {
    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);
    var interpolate = d ? function(t) {
      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;
      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];
    } : function() {
      return [ x0 * d3_degrees, y0 * d3_degrees ];
    };
    interpolate.distance = d;
    return interpolate;
  }
  d3.geo.length = function(object) {
    d3_geo_lengthSum = 0;
    d3.geo.stream(object, d3_geo_length);
    return d3_geo_lengthSum;
  };
  var d3_geo_lengthSum;
  var d3_geo_length = {
    sphere: d3_noop,
    point: d3_noop,
    lineStart: d3_geo_lengthLineStart,
    lineEnd: d3_noop,
    polygonStart: d3_noop,
    polygonEnd: d3_noop
  };
  function d3_geo_lengthLineStart() {
    var λ0, sinφ0, cosφ0;
    d3_geo_length.point = function(λ, φ) {
      λ0 = λ * d3_radians, sinφ0 = Math.sin(φ *= d3_radians), cosφ0 = Math.cos(φ);
      d3_geo_length.point = nextPoint;
    };
    d3_geo_length.lineEnd = function() {
      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;
    };
    function nextPoint(λ, φ) {
      var sinφ = Math.sin(φ *= d3_radians), cosφ = Math.cos(φ), t = abs((λ *= d3_radians) - λ0), cosΔλ = Math.cos(t);
      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cosφ * Math.sin(t)) * t + (t = cosφ0 * sinφ - sinφ0 * cosφ * cosΔλ) * t), sinφ0 * sinφ + cosφ0 * cosφ * cosΔλ);
      λ0 = λ, sinφ0 = sinφ, cosφ0 = cosφ;
    }
  }
  function d3_geo_azimuthal(scale, angle) {
    function azimuthal(λ, φ) {
      var cosλ = Math.cos(λ), cosφ = Math.cos(φ), k = scale(cosλ * cosφ);
      return [ k * cosφ * Math.sin(λ), k * Math.sin(φ) ];
    }
    azimuthal.invert = function(x, y) {
      var ρ = Math.sqrt(x * x + y * y), c = angle(ρ), sinc = Math.sin(c), cosc = Math.cos(c);
      return [ Math.atan2(x * sinc, ρ * cosc), Math.asin(ρ && y * sinc / ρ) ];
    };
    return azimuthal;
  }
  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(cosλcosφ) {
    return Math.sqrt(2 / (1 + cosλcosφ));
  }, function(ρ) {
    return 2 * Math.asin(ρ / 2);
  });
  (d3.geo.azimuthalEqualArea = function() {
    return d3_geo_projection(d3_geo_azimuthalEqualArea);
  }).raw = d3_geo_azimuthalEqualArea;
  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(cosλcosφ) {
    var c = Math.acos(cosλcosφ);
    return c && c / Math.sin(c);
  }, d3_identity);
  (d3.geo.azimuthalEquidistant = function() {
    return d3_geo_projection(d3_geo_azimuthalEquidistant);
  }).raw = d3_geo_azimuthalEquidistant;
  function d3_geo_conicConformal(φ0, φ1) {
    var cosφ0 = Math.cos(φ0), t = function(φ) {
      return Math.tan(π / 4 + φ / 2);
    }, n = φ0 === φ1 ? Math.sin(φ0) : Math.log(cosφ0 / Math.cos(φ1)) / Math.log(t(φ1) / t(φ0)), F = cosφ0 * Math.pow(t(φ0), n) / n;
    if (!n) return d3_geo_mercator;
    function forward(λ, φ) {
      if (F > 0) {
        if (φ < -halfπ + ε) φ = -halfπ + ε;
      } else {
        if (φ > halfπ - ε) φ = halfπ - ε;
      }
      var ρ = F / Math.pow(t(φ), n);
      return [ ρ * Math.sin(n * λ), F - ρ * Math.cos(n * λ) ];
    }
    forward.invert = function(x, y) {
      var ρ0_y = F - y, ρ = d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y);
      return [ Math.atan2(x, ρ0_y) / n, 2 * Math.atan(Math.pow(F / ρ, 1 / n)) - halfπ ];
    };
    return forward;
  }
  (d3.geo.conicConformal = function() {
    return d3_geo_conic(d3_geo_conicConformal);
  }).raw = d3_geo_conicConformal;
  function d3_geo_conicEquidistant(φ0, φ1) {
    var cosφ0 = Math.cos(φ0), n = φ0 === φ1 ? Math.sin(φ0) : (cosφ0 - Math.cos(φ1)) / (φ1 - φ0), G = cosφ0 / n + φ0;
    if (abs(n) < ε) return d3_geo_equirectangular;
    function forward(λ, φ) {
      var ρ = G - φ;
      return [ ρ * Math.sin(n * λ), G - ρ * Math.cos(n * λ) ];
    }
    forward.invert = function(x, y) {
      var ρ0_y = G - y;
      return [ Math.atan2(x, ρ0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + ρ0_y * ρ0_y) ];
    };
    return forward;
  }
  (d3.geo.conicEquidistant = function() {
    return d3_geo_conic(d3_geo_conicEquidistant);
  }).raw = d3_geo_conicEquidistant;
  var d3_geo_gnomonic = d3_geo_azimuthal(function(cosλcosφ) {
    return 1 / cosλcosφ;
  }, Math.atan);
  (d3.geo.gnomonic = function() {
    return d3_geo_projection(d3_geo_gnomonic);
  }).raw = d3_geo_gnomonic;
  function d3_geo_mercator(λ, φ) {
    return [ λ, Math.log(Math.tan(π / 4 + φ / 2)) ];
  }
  d3_geo_mercator.invert = function(x, y) {
    return [ x, 2 * Math.atan(Math.exp(y)) - halfπ ];
  };
  function d3_geo_mercatorProjection(project) {
    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto;
    m.scale = function() {
      var v = scale.apply(m, arguments);
      return v === m ? clipAuto ? m.clipExtent(null) : m : v;
    };
    m.translate = function() {
      var v = translate.apply(m, arguments);
      return v === m ? clipAuto ? m.clipExtent(null) : m : v;
    };
    m.clipExtent = function(_) {
      var v = clipExtent.apply(m, arguments);
      if (v === m) {
        if (clipAuto = _ == null) {
          var k = π * scale(), t = translate();
          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);
        }
      } else if (clipAuto) {
        v = null;
      }
      return v;
    };
    return m.clipExtent(null);
  }
  (d3.geo.mercator = function() {
    return d3_geo_mercatorProjection(d3_geo_mercator);
  }).raw = d3_geo_mercator;
  var d3_geo_orthographic = d3_geo_azimuthal(function() {
    return 1;
  }, Math.asin);
  (d3.geo.orthographic = function() {
    return d3_geo_projection(d3_geo_orthographic);
  }).raw = d3_geo_orthographic;
  var d3_geo_stereographic = d3_geo_azimuthal(function(cosλcosφ) {
    return 1 / (1 + cosλcosφ);
  }, function(ρ) {
    return 2 * Math.atan(ρ);
  });
  (d3.geo.stereographic = function() {
    return d3_geo_projection(d3_geo_stereographic);
  }).raw = d3_geo_stereographic;
  function d3_geo_transverseMercator(λ, φ) {
    return [ Math.log(Math.tan(π / 4 + φ / 2)), -λ ];
  }
  d3_geo_transverseMercator.invert = function(x, y) {
    return [ -y, 2 * Math.atan(Math.exp(x)) - halfπ ];
  };
  (d3.geo.transverseMercator = function() {
    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;
    projection.center = function(_) {
      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ -_[1], _[0] ]);
    };
    projection.rotate = function(_) {
      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(), 
      [ _[0], _[1], _[2] - 90 ]);
    };
    return projection.rotate([ 0, 0 ]);
  }).raw = d3_geo_transverseMercator;
  d3.geom = {};
  function d3_geom_pointX(d) {
    return d[0];
  }
  function d3_geom_pointY(d) {
    return d[1];
  }
  d3.geom.hull = function(vertices) {
    var x = d3_geom_pointX, y = d3_geom_pointY;
    if (arguments.length) return hull(vertices);
    function hull(data) {
      if (data.length < 3) return [];
      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];
      for (i = 0; i < n; i++) {
        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);
      }
      points.sort(d3_geom_hullOrder);
      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);
      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);
      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];
      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);
      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);
      return polygon;
    }
    hull.x = function(_) {
      return arguments.length ? (x = _, hull) : x;
    };
    hull.y = function(_) {
      return arguments.length ? (y = _, hull) : y;
    };
    return hull;
  };
  function d3_geom_hullUpper(points) {
    var n = points.length, hull = [ 0, 1 ], hs = 2;
    for (var i = 2; i < n; i++) {
      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;
      hull[hs++] = i;
    }
    return hull.slice(0, hs);
  }
  function d3_geom_hullOrder(a, b) {
    return a[0] - b[0] || a[1] - b[1];
  }
  d3.geom.polygon = function(coordinates) {
    d3_subclass(coordinates, d3_geom_polygonPrototype);
    return coordinates;
  };
  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];
  d3_geom_polygonPrototype.area = function() {
    var i = -1, n = this.length, a, b = this[n - 1], area = 0;
    while (++i < n) {
      a = b;
      b = this[i];
      area += a[1] * b[0] - a[0] * b[1];
    }
    return area * .5;
  };
  d3_geom_polygonPrototype.centroid = function(k) {
    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;
    if (!arguments.length) k = -1 / (6 * this.area());
    while (++i < n) {
      a = b;
      b = this[i];
      c = a[0] * b[1] - b[0] * a[1];
      x += (a[0] + b[0]) * c;
      y += (a[1] + b[1]) * c;
    }
    return [ x * k, y * k ];
  };
  d3_geom_polygonPrototype.clip = function(subject) {
    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;
    while (++i < n) {
      input = subject.slice();
      subject.length = 0;
      b = this[i];
      c = input[(m = input.length - closed) - 1];
      j = -1;
      while (++j < m) {
        d = input[j];
        if (d3_geom_polygonInside(d, a, b)) {
          if (!d3_geom_polygonInside(c, a, b)) {
            subject.push(d3_geom_polygonIntersect(c, d, a, b));
          }
          subject.push(d);
        } else if (d3_geom_polygonInside(c, a, b)) {
          subject.push(d3_geom_polygonIntersect(c, d, a, b));
        }
        c = d;
      }
      if (closed) subject.push(subject[0]);
      a = b;
    }
    return subject;
  };
  function d3_geom_polygonInside(p, a, b) {
    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);
  }
  function d3_geom_polygonIntersect(c, d, a, b) {
    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);
    return [ x1 + ua * x21, y1 + ua * y21 ];
  }
  function d3_geom_polygonClosed(coordinates) {
    var a = coordinates[0], b = coordinates[coordinates.length - 1];
    return !(a[0] - b[0] || a[1] - b[1]);
  }
  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];
  function d3_geom_voronoiBeach() {
    d3_geom_voronoiRedBlackNode(this);
    this.edge = this.site = this.circle = null;
  }
  function d3_geom_voronoiCreateBeach(site) {
    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();
    beach.site = site;
    return beach;
  }
  function d3_geom_voronoiDetachBeach(beach) {
    d3_geom_voronoiDetachCircle(beach);
    d3_geom_voronoiBeaches.remove(beach);
    d3_geom_voronoiBeachPool.push(beach);
    d3_geom_voronoiRedBlackNode(beach);
  }
  function d3_geom_voronoiRemoveBeach(beach) {
    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {
      x: x,
      y: y
    }, previous = beach.P, next = beach.N, disappearing = [ beach ];
    d3_geom_voronoiDetachBeach(beach);
    var lArc = previous;
    while (lArc.circle && abs(x - lArc.circle.x) < ε && abs(y - lArc.circle.cy) < ε) {
      previous = lArc.P;
      disappearing.unshift(lArc);
      d3_geom_voronoiDetachBeach(lArc);
      lArc = previous;
    }
    disappearing.unshift(lArc);
    d3_geom_voronoiDetachCircle(lArc);
    var rArc = next;
    while (rArc.circle && abs(x - rArc.circle.x) < ε && abs(y - rArc.circle.cy) < ε) {
      next = rArc.N;
      disappearing.push(rArc);
      d3_geom_voronoiDetachBeach(rArc);
      rArc = next;
    }
    disappearing.push(rArc);
    d3_geom_voronoiDetachCircle(rArc);
    var nArcs = disappearing.length, iArc;
    for (iArc = 1; iArc < nArcs; ++iArc) {
      rArc = disappearing[iArc];
      lArc = disappearing[iArc - 1];
      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);
    }
    lArc = disappearing[0];
    rArc = disappearing[nArcs - 1];
    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);
    d3_geom_voronoiAttachCircle(lArc);
    d3_geom_voronoiAttachCircle(rArc);
  }
  function d3_geom_voronoiAddBeach(site) {
    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;
    while (node) {
      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;
      if (dxl > ε) node = node.L; else {
        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);
        if (dxr > ε) {
          if (!node.R) {
            lArc = node;
            break;
          }
          node = node.R;
        } else {
          if (dxl > -ε) {
            lArc = node.P;
            rArc = node;
          } else if (dxr > -ε) {
            lArc = node;
            rArc = node.N;
          } else {
            lArc = rArc = node;
          }
          break;
        }
      }
    }
    var newArc = d3_geom_voronoiCreateBeach(site);
    d3_geom_voronoiBeaches.insert(lArc, newArc);
    if (!lArc && !rArc) return;
    if (lArc === rArc) {
      d3_geom_voronoiDetachCircle(lArc);
      rArc = d3_geom_voronoiCreateBeach(lArc.site);
      d3_geom_voronoiBeaches.insert(newArc, rArc);
      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);
      d3_geom_voronoiAttachCircle(lArc);
      d3_geom_voronoiAttachCircle(rArc);
      return;
    }
    if (!rArc) {
      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);
      return;
    }
    d3_geom_voronoiDetachCircle(lArc);
    d3_geom_voronoiDetachCircle(rArc);
    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {
      x: (cy * hb - by * hc) / d + ax,
      y: (bx * hc - cx * hb) / d + ay
    };
    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);
    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);
    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);
    d3_geom_voronoiAttachCircle(lArc);
    d3_geom_voronoiAttachCircle(rArc);
  }
  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {
    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;
    if (!pby2) return rfocx;
    var lArc = arc.P;
    if (!lArc) return -Infinity;
    site = lArc.site;
    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;
    if (!plby2) return lfocx;
    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;
    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;
    return (rfocx + lfocx) / 2;
  }
  function d3_geom_voronoiRightBreakPoint(arc, directrix) {
    var rArc = arc.N;
    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);
    var site = arc.site;
    return site.y === directrix ? site.x : Infinity;
  }
  function d3_geom_voronoiCell(site) {
    this.site = site;
    this.edges = [];
  }
  d3_geom_voronoiCell.prototype.prepare = function() {
    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;
    while (iHalfEdge--) {
      edge = halfEdges[iHalfEdge].edge;
      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);
    }
    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);
    return halfEdges.length;
  };
  function d3_geom_voronoiCloseCells(extent) {
    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;
    while (iCell--) {
      cell = cells[iCell];
      if (!cell || !cell.prepare()) continue;
      halfEdges = cell.edges;
      nHalfEdges = halfEdges.length;
      iHalfEdge = 0;
      while (iHalfEdge < nHalfEdges) {
        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;
        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;
        if (abs(x3 - x2) > ε || abs(y3 - y2) > ε) {
          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) < ε && y1 - y3 > ε ? {
            x: x0,
            y: abs(x2 - x0) < ε ? y2 : y1
          } : abs(y3 - y1) < ε && x1 - x3 > ε ? {
            x: abs(y2 - y1) < ε ? x2 : x1,
            y: y1
          } : abs(x3 - x1) < ε && y3 - y0 > ε ? {
            x: x1,
            y: abs(x2 - x1) < ε ? y2 : y0
          } : abs(y3 - y0) < ε && x3 - x0 > ε ? {
            x: abs(y2 - y0) < ε ? x2 : x0,
            y: y0
          } : null), cell.site, null));
          ++nHalfEdges;
        }
      }
    }
  }
  function d3_geom_voronoiHalfEdgeOrder(a, b) {
    return b.angle - a.angle;
  }
  function d3_geom_voronoiCircle() {
    d3_geom_voronoiRedBlackNode(this);
    this.x = this.y = this.arc = this.site = this.cy = null;
  }
  function d3_geom_voronoiAttachCircle(arc) {
    var lArc = arc.P, rArc = arc.N;
    if (!lArc || !rArc) return;
    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;
    if (lSite === rSite) return;
    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;
    var d = 2 * (ax * cy - ay * cx);
    if (d >= -ε2) return;
    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;
    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();
    circle.arc = arc;
    circle.site = cSite;
    circle.x = x + bx;
    circle.y = cy + Math.sqrt(x * x + y * y);
    circle.cy = cy;
    arc.circle = circle;
    var before = null, node = d3_geom_voronoiCircles._;
    while (node) {
      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {
        if (node.L) node = node.L; else {
          before = node.P;
          break;
        }
      } else {
        if (node.R) node = node.R; else {
          before = node;
          break;
        }
      }
    }
    d3_geom_voronoiCircles.insert(before, circle);
    if (!before) d3_geom_voronoiFirstCircle = circle;
  }
  function d3_geom_voronoiDetachCircle(arc) {
    var circle = arc.circle;
    if (circle) {
      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;
      d3_geom_voronoiCircles.remove(circle);
      d3_geom_voronoiCirclePool.push(circle);
      d3_geom_voronoiRedBlackNode(circle);
      arc.circle = null;
    }
  }
  function d3_geom_voronoiClipEdges(extent) {
    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;
    while (i--) {
      e = edges[i];
      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) < ε && abs(e.a.y - e.b.y) < ε) {
        e.a = e.b = null;
        edges.splice(i, 1);
      }
    }
  }
  function d3_geom_voronoiConnectEdge(edge, extent) {
    var vb = edge.b;
    if (vb) return true;
    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;
    if (ry === ly) {
      if (fx < x0 || fx >= x1) return;
      if (lx > rx) {
        if (!va) va = {
          x: fx,
          y: y0
        }; else if (va.y >= y1) return;
        vb = {
          x: fx,
          y: y1
        };
      } else {
        if (!va) va = {
          x: fx,
          y: y1
        }; else if (va.y < y0) return;
        vb = {
          x: fx,
          y: y0
        };
      }
    } else {
      fm = (lx - rx) / (ry - ly);
      fb = fy - fm * fx;
      if (fm < -1 || fm > 1) {
        if (lx > rx) {
          if (!va) va = {
            x: (y0 - fb) / fm,
            y: y0
          }; else if (va.y >= y1) return;
          vb = {
            x: (y1 - fb) / fm,
            y: y1
          };
        } else {
          if (!va) va = {
            x: (y1 - fb) / fm,
            y: y1
          }; else if (va.y < y0) return;
          vb = {
            x: (y0 - fb) / fm,
            y: y0
          };
        }
      } else {
        if (ly < ry) {
          if (!va) va = {
            x: x0,
            y: fm * x0 + fb
          }; else if (va.x >= x1) return;
          vb = {
            x: x1,
            y: fm * x1 + fb
          };
        } else {
          if (!va) va = {
            x: x1,
            y: fm * x1 + fb
          }; else if (va.x < x0) return;
          vb = {
            x: x0,
            y: fm * x0 + fb
          };
        }
      }
    }
    edge.a = va;
    edge.b = vb;
    return true;
  }
  function d3_geom_voronoiEdge(lSite, rSite) {
    this.l = lSite;
    this.r = rSite;
    this.a = this.b = null;
  }
  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {
    var edge = new d3_geom_voronoiEdge(lSite, rSite);
    d3_geom_voronoiEdges.push(edge);
    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);
    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);
    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));
    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));
    return edge;
  }
  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {
    var edge = new d3_geom_voronoiEdge(lSite, null);
    edge.a = va;
    edge.b = vb;
    d3_geom_voronoiEdges.push(edge);
    return edge;
  }
  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {
    if (!edge.a && !edge.b) {
      edge.a = vertex;
      edge.l = lSite;
      edge.r = rSite;
    } else if (edge.l === rSite) {
      edge.b = vertex;
    } else {
      edge.a = vertex;
    }
  }
  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {
    var va = edge.a, vb = edge.b;
    this.edge = edge;
    this.site = lSite;
    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);
  }
  d3_geom_voronoiHalfEdge.prototype = {
    start: function() {
      return this.edge.l === this.site ? this.edge.a : this.edge.b;
    },
    end: function() {
      return this.edge.l === this.site ? this.edge.b : this.edge.a;
    }
  };
  function d3_geom_voronoiRedBlackTree() {
    this._ = null;
  }
  function d3_geom_voronoiRedBlackNode(node) {
    node.U = node.C = node.L = node.R = node.P = node.N = null;
  }
  d3_geom_voronoiRedBlackTree.prototype = {
    insert: function(after, node) {
      var parent, grandpa, uncle;
      if (after) {
        node.P = after;
        node.N = after.N;
        if (after.N) after.N.P = node;
        after.N = node;
        if (after.R) {
          after = after.R;
          while (after.L) after = after.L;
          after.L = node;
        } else {
          after.R = node;
        }
        parent = after;
      } else if (this._) {
        after = d3_geom_voronoiRedBlackFirst(this._);
        node.P = null;
        node.N = after;
        after.P = after.L = node;
        parent = after;
      } else {
        node.P = node.N = null;
        this._ = node;
        parent = null;
      }
      node.L = node.R = null;
      node.U = parent;
      node.C = true;
      after = node;
      while (parent && parent.C) {
        grandpa = parent.U;
        if (parent === grandpa.L) {
          uncle = grandpa.R;
          if (uncle && uncle.C) {
            parent.C = uncle.C = false;
            grandpa.C = true;
            after = grandpa;
          } else {
            if (after === parent.R) {
              d3_geom_voronoiRedBlackRotateLeft(this, parent);
              after = parent;
              parent = after.U;
            }
            parent.C = false;
            grandpa.C = true;
            d3_geom_voronoiRedBlackRotateRight(this, grandpa);
          }
        } else {
          uncle = grandpa.L;
          if (uncle && uncle.C) {
            parent.C = uncle.C = false;
            grandpa.C = true;
            after = grandpa;
          } else {
            if (after === parent.L) {
              d3_geom_voronoiRedBlackRotateRight(this, parent);
              after = parent;
              parent = after.U;
            }
            parent.C = false;
            grandpa.C = true;
            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);
          }
        }
        parent = after.U;
      }
      this._.C = false;
    },
    remove: function(node) {
      if (node.N) node.N.P = node.P;
      if (node.P) node.P.N = node.N;
      node.N = node.P = null;
      var parent = node.U, sibling, left = node.L, right = node.R, next, red;
      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);
      if (parent) {
        if (parent.L === node) parent.L = next; else parent.R = next;
      } else {
        this._ = next;
      }
      if (left && right) {
        red = next.C;
        next.C = node.C;
        next.L = left;
        left.U = next;
        if (next !== right) {
          parent = next.U;
          next.U = node.U;
          node = next.R;
          parent.L = node;
          next.R = right;
          right.U = next;
        } else {
          next.U = parent;
          parent = next;
          node = next.R;
        }
      } else {
        red = node.C;
        node = next;
      }
      if (node) node.U = parent;
      if (red) return;
      if (node && node.C) {
        node.C = false;
        return;
      }
      do {
        if (node === this._) break;
        if (node === parent.L) {
          sibling = parent.R;
          if (sibling.C) {
            sibling.C = false;
            parent.C = true;
            d3_geom_voronoiRedBlackRotateLeft(this, parent);
            sibling = parent.R;
          }
          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
            if (!sibling.R || !sibling.R.C) {
              sibling.L.C = false;
              sibling.C = true;
              d3_geom_voronoiRedBlackRotateRight(this, sibling);
              sibling = parent.R;
            }
            sibling.C = parent.C;
            parent.C = sibling.R.C = false;
            d3_geom_voronoiRedBlackRotateLeft(this, parent);
            node = this._;
            break;
          }
        } else {
          sibling = parent.L;
          if (sibling.C) {
            sibling.C = false;
            parent.C = true;
            d3_geom_voronoiRedBlackRotateRight(this, parent);
            sibling = parent.L;
          }
          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
            if (!sibling.L || !sibling.L.C) {
              sibling.R.C = false;
              sibling.C = true;
              d3_geom_voronoiRedBlackRotateLeft(this, sibling);
              sibling = parent.L;
            }
            sibling.C = parent.C;
            parent.C = sibling.L.C = false;
            d3_geom_voronoiRedBlackRotateRight(this, parent);
            node = this._;
            break;
          }
        }
        sibling.C = true;
        node = parent;
        parent = parent.U;
      } while (!node.C);
      if (node) node.C = false;
    }
  };
  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {
    var p = node, q = node.R, parent = p.U;
    if (parent) {
      if (parent.L === p) parent.L = q; else parent.R = q;
    } else {
      tree._ = q;
    }
    q.U = parent;
    p.U = q;
    p.R = q.L;
    if (p.R) p.R.U = p;
    q.L = p;
  }
  function d3_geom_voronoiRedBlackRotateRight(tree, node) {
    var p = node, q = node.L, parent = p.U;
    if (parent) {
      if (parent.L === p) parent.L = q; else parent.R = q;
    } else {
      tree._ = q;
    }
    q.U = parent;
    p.U = q;
    p.L = q.R;
    if (p.L) p.L.U = p;
    q.R = p;
  }
  function d3_geom_voronoiRedBlackFirst(node) {
    while (node.L) node = node.L;
    return node;
  }
  function d3_geom_voronoi(sites, bbox) {
    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;
    d3_geom_voronoiEdges = [];
    d3_geom_voronoiCells = new Array(sites.length);
    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();
    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();
    while (true) {
      circle = d3_geom_voronoiFirstCircle;
      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {
        if (site.x !== x0 || site.y !== y0) {
          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);
          d3_geom_voronoiAddBeach(site);
          x0 = site.x, y0 = site.y;
        }
        site = sites.pop();
      } else if (circle) {
        d3_geom_voronoiRemoveBeach(circle.arc);
      } else {
        break;
      }
    }
    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);
    var diagram = {
      cells: d3_geom_voronoiCells,
      edges: d3_geom_voronoiEdges
    };
    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;
    return diagram;
  }
  function d3_geom_voronoiVertexOrder(a, b) {
    return b.y - a.y || b.x - a.x;
  }
  d3.geom.voronoi = function(points) {
    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;
    if (points) return voronoi(points);
    function voronoi(data) {
      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];
      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {
        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {
          var s = e.start();
          return [ s.x, s.y ];
        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];
        polygon.point = data[i];
      });
      return polygons;
    }
    function sites(data) {
      return data.map(function(d, i) {
        return {
          x: Math.round(fx(d, i) / ε) * ε,
          y: Math.round(fy(d, i) / ε) * ε,
          i: i
        };
      });
    }
    voronoi.links = function(data) {
      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {
        return edge.l && edge.r;
      }).map(function(edge) {
        return {
          source: data[edge.l.i],
          target: data[edge.r.i]
        };
      });
    };
    voronoi.triangles = function(data) {
      var triangles = [];
      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {
        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;
        while (++j < m) {
          e0 = e1;
          s0 = s1;
          e1 = edges[j].edge;
          s1 = e1.l === site ? e1.r : e1.l;
          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {
            triangles.push([ data[i], data[s0.i], data[s1.i] ]);
          }
        }
      });
      return triangles;
    };
    voronoi.x = function(_) {
      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;
    };
    voronoi.y = function(_) {
      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;
    };
    voronoi.clipExtent = function(_) {
      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;
      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;
      return voronoi;
    };
    voronoi.size = function(_) {
      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];
      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);
    };
    return voronoi;
  };
  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];
  function d3_geom_voronoiTriangleArea(a, b, c) {
    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);
  }
  d3.geom.delaunay = function(vertices) {
    return d3.geom.voronoi().triangles(vertices);
  };
  d3.geom.quadtree = function(points, x1, y1, x2, y2) {
    var x = d3_geom_pointX, y = d3_geom_pointY, compat;
    if (compat = arguments.length) {
      x = d3_geom_quadtreeCompatX;
      y = d3_geom_quadtreeCompatY;
      if (compat === 3) {
        y2 = y1;
        x2 = x1;
        y1 = x1 = 0;
      }
      return quadtree(points);
    }
    function quadtree(data) {
      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;
      if (x1 != null) {
        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;
      } else {
        x2_ = y2_ = -(x1_ = y1_ = Infinity);
        xs = [], ys = [];
        n = data.length;
        if (compat) for (i = 0; i < n; ++i) {
          d = data[i];
          if (d.x < x1_) x1_ = d.x;
          if (d.y < y1_) y1_ = d.y;
          if (d.x > x2_) x2_ = d.x;
          if (d.y > y2_) y2_ = d.y;
          xs.push(d.x);
          ys.push(d.y);
        } else for (i = 0; i < n; ++i) {
          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);
          if (x_ < x1_) x1_ = x_;
          if (y_ < y1_) y1_ = y_;
          if (x_ > x2_) x2_ = x_;
          if (y_ > y2_) y2_ = y_;
          xs.push(x_);
          ys.push(y_);
        }
      }
      var dx = x2_ - x1_, dy = y2_ - y1_;
      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;
      function insert(n, d, x, y, x1, y1, x2, y2) {
        if (isNaN(x) || isNaN(y)) return;
        if (n.leaf) {
          var nx = n.x, ny = n.y;
          if (nx != null) {
            if (abs(nx - x) + abs(ny - y) < .01) {
              insertChild(n, d, x, y, x1, y1, x2, y2);
            } else {
              var nPoint = n.point;
              n.x = n.y = n.point = null;
              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);
              insertChild(n, d, x, y, x1, y1, x2, y2);
            }
          } else {
            n.x = x, n.y = y, n.point = d;
          }
        } else {
          insertChild(n, d, x, y, x1, y1, x2, y2);
        }
      }
      function insertChild(n, d, x, y, x1, y1, x2, y2) {
        var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, right = x >= sx, bottom = y >= sy, i = (bottom << 1) + right;
        n.leaf = false;
        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());
        if (right) x1 = sx; else x2 = sx;
        if (bottom) y1 = sy; else y2 = sy;
        insert(n, d, x, y, x1, y1, x2, y2);
      }
      var root = d3_geom_quadtreeNode();
      root.add = function(d) {
        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);
      };
      root.visit = function(f) {
        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);
      };
      i = -1;
      if (x1 == null) {
        while (++i < n) {
          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);
        }
        --i;
      } else data.forEach(root.add);
      xs = ys = data = d = null;
      return root;
    }
    quadtree.x = function(_) {
      return arguments.length ? (x = _, quadtree) : x;
    };
    quadtree.y = function(_) {
      return arguments.length ? (y = _, quadtree) : y;
    };
    quadtree.extent = function(_) {
      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];
      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0], 
      y2 = +_[1][1];
      return quadtree;
    };
    quadtree.size = function(_) {
      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];
      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];
      return quadtree;
    };
    return quadtree;
  };
  function d3_geom_quadtreeCompatX(d) {
    return d.x;
  }
  function d3_geom_quadtreeCompatY(d) {
    return d.y;
  }
  function d3_geom_quadtreeNode() {
    return {
      leaf: true,
      nodes: [],
      point: null,
      x: null,
      y: null
    };
  }
  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {
    if (!f(node, x1, y1, x2, y2)) {
      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;
      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);
      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);
      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);
      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);
    }
  }
  d3.interpolateRgb = d3_interpolateRgb;
  function d3_interpolateRgb(a, b) {
    a = d3.rgb(a);
    b = d3.rgb(b);
    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;
    return function(t) {
      return "#" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));
    };
  }
  d3.interpolateObject = d3_interpolateObject;
  function d3_interpolateObject(a, b) {
    var i = {}, c = {}, k;
    for (k in a) {
      if (k in b) {
        i[k] = d3_interpolate(a[k], b[k]);
      } else {
        c[k] = a[k];
      }
    }
    for (k in b) {
      if (!(k in a)) {
        c[k] = b[k];
      }
    }
    return function(t) {
      for (k in i) c[k] = i[k](t);
      return c;
    };
  }
  d3.interpolateNumber = d3_interpolateNumber;
  function d3_interpolateNumber(a, b) {
    b -= a = +a;
    return function(t) {
      return a + b * t;
    };
  }
  d3.interpolateString = d3_interpolateString;
  function d3_interpolateString(a, b) {
    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];
    a = a + "", b = b + "";
    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {
      if ((bs = bm.index) > bi) {
        bs = b.substring(bi, bs);
        if (s[i]) s[i] += bs; else s[++i] = bs;
      }
      if ((am = am[0]) === (bm = bm[0])) {
        if (s[i]) s[i] += bm; else s[++i] = bm;
      } else {
        s[++i] = null;
        q.push({
          i: i,
          x: d3_interpolateNumber(am, bm)
        });
      }
      bi = d3_interpolate_numberB.lastIndex;
    }
    if (bi < b.length) {
      bs = b.substring(bi);
      if (s[i]) s[i] += bs; else s[++i] = bs;
    }
    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {
      return b(t) + "";
    }) : function() {
      return b;
    } : (b = q.length, function(t) {
      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);
      return s.join("");
    });
  }
  var d3_interpolate_numberA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, "g");
  d3.interpolate = d3_interpolate;
  function d3_interpolate(a, b) {
    var i = d3.interpolators.length, f;
    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;
    return f;
  }
  d3.interpolators = [ function(a, b) {
    var t = typeof b;
    return (t === "string" ? d3_rgb_names.has(b) || /^(#|rgb\(|hsl\()/.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_Color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === "object" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);
  } ];
  d3.interpolateArray = d3_interpolateArray;
  function d3_interpolateArray(a, b) {
    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;
    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));
    for (;i < na; ++i) c[i] = a[i];
    for (;i < nb; ++i) c[i] = b[i];
    return function(t) {
      for (i = 0; i < n0; ++i) c[i] = x[i](t);
      return c;
    };
  }
  var d3_ease_default = function() {
    return d3_identity;
  };
  var d3_ease = d3.map({
    linear: d3_ease_default,
    poly: d3_ease_poly,
    quad: function() {
      return d3_ease_quad;
    },
    cubic: function() {
      return d3_ease_cubic;
    },
    sin: function() {
      return d3_ease_sin;
    },
    exp: function() {
      return d3_ease_exp;
    },
    circle: function() {
      return d3_ease_circle;
    },
    elastic: d3_ease_elastic,
    back: d3_ease_back,
    bounce: function() {
      return d3_ease_bounce;
    }
  });
  var d3_ease_mode = d3.map({
    "in": d3_identity,
    out: d3_ease_reverse,
    "in-out": d3_ease_reflect,
    "out-in": function(f) {
      return d3_ease_reflect(d3_ease_reverse(f));
    }
  });
  d3.ease = function(name) {
    var i = name.indexOf("-"), t = i >= 0 ? name.substring(0, i) : name, m = i >= 0 ? name.substring(i + 1) : "in";
    t = d3_ease.get(t) || d3_ease_default;
    m = d3_ease_mode.get(m) || d3_identity;
    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));
  };
  function d3_ease_clamp(f) {
    return function(t) {
      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);
    };
  }
  function d3_ease_reverse(f) {
    return function(t) {
      return 1 - f(1 - t);
    };
  }
  function d3_ease_reflect(f) {
    return function(t) {
      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));
    };
  }
  function d3_ease_quad(t) {
    return t * t;
  }
  function d3_ease_cubic(t) {
    return t * t * t;
  }
  function d3_ease_cubicInOut(t) {
    if (t <= 0) return 0;
    if (t >= 1) return 1;
    var t2 = t * t, t3 = t2 * t;
    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);
  }
  function d3_ease_poly(e) {
    return function(t) {
      return Math.pow(t, e);
    };
  }
  function d3_ease_sin(t) {
    return 1 - Math.cos(t * halfπ);
  }
  function d3_ease_exp(t) {
    return Math.pow(2, 10 * (t - 1));
  }
  function d3_ease_circle(t) {
    return 1 - Math.sqrt(1 - t * t);
  }
  function d3_ease_elastic(a, p) {
    var s;
    if (arguments.length < 2) p = .45;
    if (arguments.length) s = p / τ * Math.asin(1 / a); else a = 1, s = p / 4;
    return function(t) {
      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) * τ / p);
    };
  }
  function d3_ease_back(s) {
    if (!s) s = 1.70158;
    return function(t) {
      return t * t * ((s + 1) * t - s);
    };
  }
  function d3_ease_bounce(t) {
    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;
  }
  d3.interpolateHcl = d3_interpolateHcl;
  function d3_interpolateHcl(a, b) {
    a = d3.hcl(a);
    b = d3.hcl(b);
    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;
    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;
    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;
    return function(t) {
      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + "";
    };
  }
  d3.interpolateHsl = d3_interpolateHsl;
  function d3_interpolateHsl(a, b) {
    a = d3.hsl(a);
    b = d3.hsl(b);
    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;
    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;
    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;
    return function(t) {
      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + "";
    };
  }
  d3.interpolateLab = d3_interpolateLab;
  function d3_interpolateLab(a, b) {
    a = d3.lab(a);
    b = d3.lab(b);
    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;
    return function(t) {
      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + "";
    };
  }
  d3.interpolateRound = d3_interpolateRound;
  function d3_interpolateRound(a, b) {
    b -= a;
    return function(t) {
      return Math.round(a + b * t);
    };
  }
  d3.transform = function(string) {
    var g = d3_document.createElementNS(d3.ns.prefix.svg, "g");
    return (d3.transform = function(string) {
      if (string != null) {
        g.setAttribute("transform", string);
        var t = g.transform.baseVal.consolidate();
      }
      return new d3_transform(t ? t.matrix : d3_transformIdentity);
    })(string);
  };
  function d3_transform(m) {
    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;
    if (r0[0] * r1[1] < r1[0] * r0[1]) {
      r0[0] *= -1;
      r0[1] *= -1;
      kx *= -1;
      kz *= -1;
    }
    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;
    this.translate = [ m.e, m.f ];
    this.scale = [ kx, ky ];
    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;
  }
  d3_transform.prototype.toString = function() {
    return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")";
  };
  function d3_transformDot(a, b) {
    return a[0] * b[0] + a[1] * b[1];
  }
  function d3_transformNormalize(a) {
    var k = Math.sqrt(d3_transformDot(a, a));
    if (k) {
      a[0] /= k;
      a[1] /= k;
    }
    return k;
  }
  function d3_transformCombine(a, b, k) {
    a[0] += k * b[0];
    a[1] += k * b[1];
    return a;
  }
  var d3_transformIdentity = {
    a: 1,
    b: 0,
    c: 0,
    d: 1,
    e: 0,
    f: 0
  };
  d3.interpolateTransform = d3_interpolateTransform;
  function d3_interpolateTransform(a, b) {
    var s = [], q = [], n, A = d3.transform(a), B = d3.transform(b), ta = A.translate, tb = B.translate, ra = A.rotate, rb = B.rotate, wa = A.skew, wb = B.skew, ka = A.scale, kb = B.scale;
    if (ta[0] != tb[0] || ta[1] != tb[1]) {
      s.push("translate(", null, ",", null, ")");
      q.push({
        i: 1,
        x: d3_interpolateNumber(ta[0], tb[0])
      }, {
        i: 3,
        x: d3_interpolateNumber(ta[1], tb[1])
      });
    } else if (tb[0] || tb[1]) {
      s.push("translate(" + tb + ")");
    } else {
      s.push("");
    }
    if (ra != rb) {
      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;
      q.push({
        i: s.push(s.pop() + "rotate(", null, ")") - 2,
        x: d3_interpolateNumber(ra, rb)
      });
    } else if (rb) {
      s.push(s.pop() + "rotate(" + rb + ")");
    }
    if (wa != wb) {
      q.push({
        i: s.push(s.pop() + "skewX(", null, ")") - 2,
        x: d3_interpolateNumber(wa, wb)
      });
    } else if (wb) {
      s.push(s.pop() + "skewX(" + wb + ")");
    }
    if (ka[0] != kb[0] || ka[1] != kb[1]) {
      n = s.push(s.pop() + "scale(", null, ",", null, ")");
      q.push({
        i: n - 4,
        x: d3_interpolateNumber(ka[0], kb[0])
      }, {
        i: n - 2,
        x: d3_interpolateNumber(ka[1], kb[1])
      });
    } else if (kb[0] != 1 || kb[1] != 1) {
      s.push(s.pop() + "scale(" + kb + ")");
    }
    n = q.length;
    return function(t) {
      var i = -1, o;
      while (++i < n) s[(o = q[i]).i] = o.x(t);
      return s.join("");
    };
  }
  function d3_uninterpolateNumber(a, b) {
    b = b - (a = +a) ? 1 / (b - a) : 0;
    return function(x) {
      return (x - a) * b;
    };
  }
  function d3_uninterpolateClamp(a, b) {
    b = b - (a = +a) ? 1 / (b - a) : 0;
    return function(x) {
      return Math.max(0, Math.min(1, (x - a) * b));
    };
  }
  d3.layout = {};
  d3.layout.bundle = function() {
    return function(links) {
      var paths = [], i = -1, n = links.length;
      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));
      return paths;
    };
  };
  function d3_layout_bundlePath(link) {
    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];
    while (start !== lca) {
      start = start.parent;
      points.push(start);
    }
    var k = points.length;
    while (end !== lca) {
      points.splice(k, 0, end);
      end = end.parent;
    }
    return points;
  }
  function d3_layout_bundleAncestors(node) {
    var ancestors = [], parent = node.parent;
    while (parent != null) {
      ancestors.push(node);
      node = parent;
      parent = parent.parent;
    }
    ancestors.push(node);
    return ancestors;
  }
  function d3_layout_bundleLeastCommonAncestor(a, b) {
    if (a === b) return a;
    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;
    while (aNode === bNode) {
      sharedNode = aNode;
      aNode = aNodes.pop();
      bNode = bNodes.pop();
    }
    return sharedNode;
  }
  d3.layout.chord = function() {
    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;
    function relayout() {
      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;
      chords = [];
      groups = [];
      k = 0, i = -1;
      while (++i < n) {
        x = 0, j = -1;
        while (++j < n) {
          x += matrix[i][j];
        }
        groupSums.push(x);
        subgroupIndex.push(d3.range(n));
        k += x;
      }
      if (sortGroups) {
        groupIndex.sort(function(a, b) {
          return sortGroups(groupSums[a], groupSums[b]);
        });
      }
      if (sortSubgroups) {
        subgroupIndex.forEach(function(d, i) {
          d.sort(function(a, b) {
            return sortSubgroups(matrix[i][a], matrix[i][b]);
          });
        });
      }
      k = (τ - padding * n) / k;
      x = 0, i = -1;
      while (++i < n) {
        x0 = x, j = -1;
        while (++j < n) {
          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;
          subgroups[di + "-" + dj] = {
            index: di,
            subindex: dj,
            startAngle: a0,
            endAngle: a1,
            value: v
          };
        }
        groups[di] = {
          index: di,
          startAngle: x0,
          endAngle: x,
          value: (x - x0) / k
        };
        x += padding;
      }
      i = -1;
      while (++i < n) {
        j = i - 1;
        while (++j < n) {
          var source = subgroups[i + "-" + j], target = subgroups[j + "-" + i];
          if (source.value || target.value) {
            chords.push(source.value < target.value ? {
              source: target,
              target: source
            } : {
              source: source,
              target: target
            });
          }
        }
      }
      if (sortChords) resort();
    }
    function resort() {
      chords.sort(function(a, b) {
        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);
      });
    }
    chord.matrix = function(x) {
      if (!arguments.length) return matrix;
      n = (matrix = x) && matrix.length;
      chords = groups = null;
      return chord;
    };
    chord.padding = function(x) {
      if (!arguments.length) return padding;
      padding = x;
      chords = groups = null;
      return chord;
    };
    chord.sortGroups = function(x) {
      if (!arguments.length) return sortGroups;
      sortGroups = x;
      chords = groups = null;
      return chord;
    };
    chord.sortSubgroups = function(x) {
      if (!arguments.length) return sortSubgroups;
      sortSubgroups = x;
      chords = null;
      return chord;
    };
    chord.sortChords = function(x) {
      if (!arguments.length) return sortChords;
      sortChords = x;
      if (chords) resort();
      return chord;
    };
    chord.chords = function() {
      if (!chords) relayout();
      return chords;
    };
    chord.groups = function() {
      if (!groups) relayout();
      return groups;
    };
    return chord;
  };
  d3.layout.force = function() {
    var force = {}, event = d3.dispatch("start", "tick", "end"), size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;
    function repulse(node) {
      return function(quad, x1, _, x2) {
        if (quad.point !== node) {
          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;
          if (dw * dw / theta2 < dn) {
            if (dn < chargeDistance2) {
              var k = quad.charge / dn;
              node.px -= dx * k;
              node.py -= dy * k;
            }
            return true;
          }
          if (quad.point && dn && dn < chargeDistance2) {
            var k = quad.pointCharge / dn;
            node.px -= dx * k;
            node.py -= dy * k;
          }
        }
        return !quad.charge;
      };
    }
    force.tick = function() {
      if ((alpha *= .99) < .005) {
        event.end({
          type: "end",
          alpha: alpha = 0
        });
        return true;
      }
      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;
      for (i = 0; i < m; ++i) {
        o = links[i];
        s = o.source;
        t = o.target;
        x = t.x - s.x;
        y = t.y - s.y;
        if (l = x * x + y * y) {
          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;
          x *= l;
          y *= l;
          t.x -= x * (k = s.weight / (t.weight + s.weight));
          t.y -= y * k;
          s.x += x * (k = 1 - k);
          s.y += y * k;
        }
      }
      if (k = alpha * gravity) {
        x = size[0] / 2;
        y = size[1] / 2;
        i = -1;
        if (k) while (++i < n) {
          o = nodes[i];
          o.x += (x - o.x) * k;
          o.y += (y - o.y) * k;
        }
      }
      if (charge) {
        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);
        i = -1;
        while (++i < n) {
          if (!(o = nodes[i]).fixed) {
            q.visit(repulse(o));
          }
        }
      }
      i = -1;
      while (++i < n) {
        o = nodes[i];
        if (o.fixed) {
          o.x = o.px;
          o.y = o.py;
        } else {
          o.x -= (o.px - (o.px = o.x)) * friction;
          o.y -= (o.py - (o.py = o.y)) * friction;
        }
      }
      event.tick({
        type: "tick",
        alpha: alpha
      });
    };
    force.nodes = function(x) {
      if (!arguments.length) return nodes;
      nodes = x;
      return force;
    };
    force.links = function(x) {
      if (!arguments.length) return links;
      links = x;
      return force;
    };
    force.size = function(x) {
      if (!arguments.length) return size;
      size = x;
      return force;
    };
    force.linkDistance = function(x) {
      if (!arguments.length) return linkDistance;
      linkDistance = typeof x === "function" ? x : +x;
      return force;
    };
    force.distance = force.linkDistance;
    force.linkStrength = function(x) {
      if (!arguments.length) return linkStrength;
      linkStrength = typeof x === "function" ? x : +x;
      return force;
    };
    force.friction = function(x) {
      if (!arguments.length) return friction;
      friction = +x;
      return force;
    };
    force.charge = function(x) {
      if (!arguments.length) return charge;
      charge = typeof x === "function" ? x : +x;
      return force;
    };
    force.chargeDistance = function(x) {
      if (!arguments.length) return Math.sqrt(chargeDistance2);
      chargeDistance2 = x * x;
      return force;
    };
    force.gravity = function(x) {
      if (!arguments.length) return gravity;
      gravity = +x;
      return force;
    };
    force.theta = function(x) {
      if (!arguments.length) return Math.sqrt(theta2);
      theta2 = x * x;
      return force;
    };
    force.alpha = function(x) {
      if (!arguments.length) return alpha;
      x = +x;
      if (alpha) {
        if (x > 0) alpha = x; else alpha = 0;
      } else if (x > 0) {
        event.start({
          type: "start",
          alpha: alpha = x
        });
        d3.timer(force.tick);
      }
      return force;
    };
    force.start = function() {
      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;
      for (i = 0; i < n; ++i) {
        (o = nodes[i]).index = i;
        o.weight = 0;
      }
      for (i = 0; i < m; ++i) {
        o = links[i];
        if (typeof o.source == "number") o.source = nodes[o.source];
        if (typeof o.target == "number") o.target = nodes[o.target];
        ++o.source.weight;
        ++o.target.weight;
      }
      for (i = 0; i < n; ++i) {
        o = nodes[i];
        if (isNaN(o.x)) o.x = position("x", w);
        if (isNaN(o.y)) o.y = position("y", h);
        if (isNaN(o.px)) o.px = o.x;
        if (isNaN(o.py)) o.py = o.y;
      }
      distances = [];
      if (typeof linkDistance === "function") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;
      strengths = [];
      if (typeof linkStrength === "function") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;
      charges = [];
      if (typeof charge === "function") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;
      function position(dimension, size) {
        if (!neighbors) {
          neighbors = new Array(n);
          for (j = 0; j < n; ++j) {
            neighbors[j] = [];
          }
          for (j = 0; j < m; ++j) {
            var o = links[j];
            neighbors[o.source.index].push(o.target);
            neighbors[o.target.index].push(o.source);
          }
        }
        var candidates = neighbors[i], j = -1, m = candidates.length, x;
        while (++j < m) if (!isNaN(x = candidates[j][dimension])) return x;
        return Math.random() * size;
      }
      return force.resume();
    };
    force.resume = function() {
      return force.alpha(.1);
    };
    force.stop = function() {
      return force.alpha(0);
    };
    force.drag = function() {
      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on("dragstart.force", d3_layout_forceDragstart).on("drag.force", dragmove).on("dragend.force", d3_layout_forceDragend);
      if (!arguments.length) return drag;
      this.on("mouseover.force", d3_layout_forceMouseover).on("mouseout.force", d3_layout_forceMouseout).call(drag);
    };
    function dragmove(d) {
      d.px = d3.event.x, d.py = d3.event.y;
      force.resume();
    }
    return d3.rebind(force, event, "on");
  };
  function d3_layout_forceDragstart(d) {
    d.fixed |= 2;
  }
  function d3_layout_forceDragend(d) {
    d.fixed &= ~6;
  }
  function d3_layout_forceMouseover(d) {
    d.fixed |= 4;
    d.px = d.x, d.py = d.y;
  }
  function d3_layout_forceMouseout(d) {
    d.fixed &= ~4;
  }
  function d3_layout_forceAccumulate(quad, alpha, charges) {
    var cx = 0, cy = 0;
    quad.charge = 0;
    if (!quad.leaf) {
      var nodes = quad.nodes, n = nodes.length, i = -1, c;
      while (++i < n) {
        c = nodes[i];
        if (c == null) continue;
        d3_layout_forceAccumulate(c, alpha, charges);
        quad.charge += c.charge;
        cx += c.charge * c.cx;
        cy += c.charge * c.cy;
      }
    }
    if (quad.point) {
      if (!quad.leaf) {
        quad.point.x += Math.random() - .5;
        quad.point.y += Math.random() - .5;
      }
      var k = alpha * charges[quad.point.index];
      quad.charge += quad.pointCharge = k;
      cx += k * quad.point.x;
      cy += k * quad.point.y;
    }
    quad.cx = cx / quad.charge;
    quad.cy = cy / quad.charge;
  }
  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;
  d3.layout.hierarchy = function() {
    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;
    function recurse(node, depth, nodes) {
      var childs = children.call(hierarchy, node, depth);
      node.depth = depth;
      nodes.push(node);
      if (childs && (n = childs.length)) {
        var i = -1, n, c = node.children = new Array(n), v = 0, j = depth + 1, d;
        while (++i < n) {
          d = c[i] = recurse(childs[i], j, nodes);
          d.parent = node;
          v += d.value;
        }
        if (sort) c.sort(sort);
        if (value) node.value = v;
      } else {
        delete node.children;
        if (value) {
          node.value = +value.call(hierarchy, node, depth) || 0;
        }
      }
      return node;
    }
    function revalue(node, depth) {
      var children = node.children, v = 0;
      if (children && (n = children.length)) {
        var i = -1, n, j = depth + 1;
        while (++i < n) v += revalue(children[i], j);
      } else if (value) {
        v = +value.call(hierarchy, node, depth) || 0;
      }
      if (value) node.value = v;
      return v;
    }
    function hierarchy(d) {
      var nodes = [];
      recurse(d, 0, nodes);
      return nodes;
    }
    hierarchy.sort = function(x) {
      if (!arguments.length) return sort;
      sort = x;
      return hierarchy;
    };
    hierarchy.children = function(x) {
      if (!arguments.length) return children;
      children = x;
      return hierarchy;
    };
    hierarchy.value = function(x) {
      if (!arguments.length) return value;
      value = x;
      return hierarchy;
    };
    hierarchy.revalue = function(root) {
      revalue(root, 0);
      return root;
    };
    return hierarchy;
  };
  function d3_layout_hierarchyRebind(object, hierarchy) {
    d3.rebind(object, hierarchy, "sort", "children", "value");
    object.nodes = object;
    object.links = d3_layout_hierarchyLinks;
    return object;
  }
  function d3_layout_hierarchyChildren(d) {
    return d.children;
  }
  function d3_layout_hierarchyValue(d) {
    return d.value;
  }
  function d3_layout_hierarchySort(a, b) {
    return b.value - a.value;
  }
  function d3_layout_hierarchyLinks(nodes) {
    return d3.merge(nodes.map(function(parent) {
      return (parent.children || []).map(function(child) {
        return {
          source: parent,
          target: child
        };
      });
    }));
  }
  d3.layout.partition = function() {
    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];
    function position(node, x, dx, dy) {
      var children = node.children;
      node.x = x;
      node.y = node.depth * dy;
      node.dx = dx;
      node.dy = dy;
      if (children && (n = children.length)) {
        var i = -1, n, c, d;
        dx = node.value ? dx / node.value : 0;
        while (++i < n) {
          position(c = children[i], x, d = c.value * dx, dy);
          x += d;
        }
      }
    }
    function depth(node) {
      var children = node.children, d = 0;
      if (children && (n = children.length)) {
        var i = -1, n;
        while (++i < n) d = Math.max(d, depth(children[i]));
      }
      return 1 + d;
    }
    function partition(d, i) {
      var nodes = hierarchy.call(this, d, i);
      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));
      return nodes;
    }
    partition.size = function(x) {
      if (!arguments.length) return size;
      size = x;
      return partition;
    };
    return d3_layout_hierarchyRebind(partition, hierarchy);
  };
  d3.layout.pie = function() {
    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = τ;
    function pie(data) {
      var values = data.map(function(d, i) {
        return +value.call(pie, d, i);
      });
      var a = +(typeof startAngle === "function" ? startAngle.apply(this, arguments) : startAngle);
      var k = ((typeof endAngle === "function" ? endAngle.apply(this, arguments) : endAngle) - a) / d3.sum(values);
      var index = d3.range(data.length);
      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {
        return values[j] - values[i];
      } : function(i, j) {
        return sort(data[i], data[j]);
      });
      var arcs = [];
      index.forEach(function(i) {
        var d;
        arcs[i] = {
          data: data[i],
          value: d = values[i],
          startAngle: a,
          endAngle: a += d * k
        };
      });
      return arcs;
    }
    pie.value = function(x) {
      if (!arguments.length) return value;
      value = x;
      return pie;
    };
    pie.sort = function(x) {
      if (!arguments.length) return sort;
      sort = x;
      return pie;
    };
    pie.startAngle = function(x) {
      if (!arguments.length) return startAngle;
      startAngle = x;
      return pie;
    };
    pie.endAngle = function(x) {
      if (!arguments.length) return endAngle;
      endAngle = x;
      return pie;
    };
    return pie;
  };
  var d3_layout_pieSortByValue = {};
  d3.layout.stack = function() {
    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;
    function stack(data, index) {
      var series = data.map(function(d, i) {
        return values.call(stack, d, i);
      });
      var points = series.map(function(d) {
        return d.map(function(v, i) {
          return [ x.call(stack, v, i), y.call(stack, v, i) ];
        });
      });
      var orders = order.call(stack, points, index);
      series = d3.permute(series, orders);
      points = d3.permute(points, orders);
      var offsets = offset.call(stack, points, index);
      var n = series.length, m = series[0].length, i, j, o;
      for (j = 0; j < m; ++j) {
        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);
        for (i = 1; i < n; ++i) {
          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);
        }
      }
      return data;
    }
    stack.values = function(x) {
      if (!arguments.length) return values;
      values = x;
      return stack;
    };
    stack.order = function(x) {
      if (!arguments.length) return order;
      order = typeof x === "function" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;
      return stack;
    };
    stack.offset = function(x) {
      if (!arguments.length) return offset;
      offset = typeof x === "function" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;
      return stack;
    };
    stack.x = function(z) {
      if (!arguments.length) return x;
      x = z;
      return stack;
    };
    stack.y = function(z) {
      if (!arguments.length) return y;
      y = z;
      return stack;
    };
    stack.out = function(z) {
      if (!arguments.length) return out;
      out = z;
      return stack;
    };
    return stack;
  };
  function d3_layout_stackX(d) {
    return d.x;
  }
  function d3_layout_stackY(d) {
    return d.y;
  }
  function d3_layout_stackOut(d, y0, y) {
    d.y0 = y0;
    d.y = y;
  }
  var d3_layout_stackOrders = d3.map({
    "inside-out": function(data) {
      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {
        return max[a] - max[b];
      }), top = 0, bottom = 0, tops = [], bottoms = [];
      for (i = 0; i < n; ++i) {
        j = index[i];
        if (top < bottom) {
          top += sums[j];
          tops.push(j);
        } else {
          bottom += sums[j];
          bottoms.push(j);
        }
      }
      return bottoms.reverse().concat(tops);
    },
    reverse: function(data) {
      return d3.range(data.length).reverse();
    },
    "default": d3_layout_stackOrderDefault
  });
  var d3_layout_stackOffsets = d3.map({
    silhouette: function(data) {
      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];
      for (j = 0; j < m; ++j) {
        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];
        if (o > max) max = o;
        sums.push(o);
      }
      for (j = 0; j < m; ++j) {
        y0[j] = (max - sums[j]) / 2;
      }
      return y0;
    },
    wiggle: function(data) {
      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];
      y0[0] = o = o0 = 0;
      for (j = 1; j < m; ++j) {
        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];
        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {
          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {
            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;
          }
          s2 += s3 * data[i][j][1];
        }
        y0[j] = o -= s1 ? s2 / s1 * dx : 0;
        if (o < o0) o0 = o;
      }
      for (j = 0; j < m; ++j) y0[j] -= o0;
      return y0;
    },
    expand: function(data) {
      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];
      for (j = 0; j < m; ++j) {
        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];
        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;
      }
      for (j = 0; j < m; ++j) y0[j] = 0;
      return y0;
    },
    zero: d3_layout_stackOffsetZero
  });
  function d3_layout_stackOrderDefault(data) {
    return d3.range(data.length);
  }
  function d3_layout_stackOffsetZero(data) {
    var j = -1, m = data[0].length, y0 = [];
    while (++j < m) y0[j] = 0;
    return y0;
  }
  function d3_layout_stackMaxIndex(array) {
    var i = 1, j = 0, v = array[0][1], k, n = array.length;
    for (;i < n; ++i) {
      if ((k = array[i][1]) > v) {
        j = i;
        v = k;
      }
    }
    return j;
  }
  function d3_layout_stackReduceSum(d) {
    return d.reduce(d3_layout_stackSum, 0);
  }
  function d3_layout_stackSum(p, d) {
    return p + d[1];
  }
  d3.layout.histogram = function() {
    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;
    function histogram(data, i) {
      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;
      while (++i < m) {
        bin = bins[i] = [];
        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);
        bin.y = 0;
      }
      if (m > 0) {
        i = -1;
        while (++i < n) {
          x = values[i];
          if (x >= range[0] && x <= range[1]) {
            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];
            bin.y += k;
            bin.push(data[i]);
          }
        }
      }
      return bins;
    }
    histogram.value = function(x) {
      if (!arguments.length) return valuer;
      valuer = x;
      return histogram;
    };
    histogram.range = function(x) {
      if (!arguments.length) return ranger;
      ranger = d3_functor(x);
      return histogram;
    };
    histogram.bins = function(x) {
      if (!arguments.length) return binner;
      binner = typeof x === "number" ? function(range) {
        return d3_layout_histogramBinFixed(range, x);
      } : d3_functor(x);
      return histogram;
    };
    histogram.frequency = function(x) {
      if (!arguments.length) return frequency;
      frequency = !!x;
      return histogram;
    };
    return histogram;
  };
  function d3_layout_histogramBinSturges(range, values) {
    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));
  }
  function d3_layout_histogramBinFixed(range, n) {
    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];
    while (++x <= n) f[x] = m * x + b;
    return f;
  }
  function d3_layout_histogramRange(values) {
    return [ d3.min(values), d3.max(values) ];
  }
  d3.layout.tree = function() {
    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;
    function tree(d, i) {
      var nodes = hierarchy.call(this, d, i), root = nodes[0];
      function firstWalk(node, previousSibling) {
        var children = node.children, layout = node._tree;
        if (children && (n = children.length)) {
          var n, firstChild = children[0], previousChild, ancestor = firstChild, child, i = -1;
          while (++i < n) {
            child = children[i];
            firstWalk(child, previousChild);
            ancestor = apportion(child, previousChild, ancestor);
            previousChild = child;
          }
          d3_layout_treeShift(node);
          var midpoint = .5 * (firstChild._tree.prelim + child._tree.prelim);
          if (previousSibling) {
            layout.prelim = previousSibling._tree.prelim + separation(node, previousSibling);
            layout.mod = layout.prelim - midpoint;
          } else {
            layout.prelim = midpoint;
          }
        } else {
          if (previousSibling) {
            layout.prelim = previousSibling._tree.prelim + separation(node, previousSibling);
          }
        }
      }
      function secondWalk(node, x) {
        node.x = node._tree.prelim + x;
        var children = node.children;
        if (children && (n = children.length)) {
          var i = -1, n;
          x += node._tree.mod;
          while (++i < n) {
            secondWalk(children[i], x);
          }
        }
      }
      function apportion(node, previousSibling, ancestor) {
        if (previousSibling) {
          var vip = node, vop = node, vim = previousSibling, vom = node.parent.children[0], sip = vip._tree.mod, sop = vop._tree.mod, sim = vim._tree.mod, som = vom._tree.mod, shift;
          while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {
            vom = d3_layout_treeLeft(vom);
            vop = d3_layout_treeRight(vop);
            vop._tree.ancestor = node;
            shift = vim._tree.prelim + sim - vip._tree.prelim - sip + separation(vim, vip);
            if (shift > 0) {
              d3_layout_treeMove(d3_layout_treeAncestor(vim, node, ancestor), node, shift);
              sip += shift;
              sop += shift;
            }
            sim += vim._tree.mod;
            sip += vip._tree.mod;
            som += vom._tree.mod;
            sop += vop._tree.mod;
          }
          if (vim && !d3_layout_treeRight(vop)) {
            vop._tree.thread = vim;
            vop._tree.mod += sim - sop;
          }
          if (vip && !d3_layout_treeLeft(vom)) {
            vom._tree.thread = vip;
            vom._tree.mod += sip - som;
            ancestor = node;
          }
        }
        return ancestor;
      }
      d3_layout_treeVisitAfter(root, function(node, previousSibling) {
        node._tree = {
          ancestor: node,
          prelim: 0,
          mod: 0,
          change: 0,
          shift: 0,
          number: previousSibling ? previousSibling._tree.number + 1 : 0
        };
      });
      firstWalk(root);
      secondWalk(root, -root._tree.prelim);
      var left = d3_layout_treeSearch(root, d3_layout_treeLeftmost), right = d3_layout_treeSearch(root, d3_layout_treeRightmost), deep = d3_layout_treeSearch(root, d3_layout_treeDeepest), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2, y1 = deep.depth || 1;
      d3_layout_treeVisitAfter(root, nodeSize ? function(node) {
        node.x *= size[0];
        node.y = node.depth * size[1];
        delete node._tree;
      } : function(node) {
        node.x = (node.x - x0) / (x1 - x0) * size[0];
        node.y = node.depth / y1 * size[1];
        delete node._tree;
      });
      return nodes;
    }
    tree.separation = function(x) {
      if (!arguments.length) return separation;
      separation = x;
      return tree;
    };
    tree.size = function(x) {
      if (!arguments.length) return nodeSize ? null : size;
      nodeSize = (size = x) == null;
      return tree;
    };
    tree.nodeSize = function(x) {
      if (!arguments.length) return nodeSize ? size : null;
      nodeSize = (size = x) != null;
      return tree;
    };
    return d3_layout_hierarchyRebind(tree, hierarchy);
  };
  function d3_layout_treeSeparation(a, b) {
    return a.parent == b.parent ? 1 : 2;
  }
  function d3_layout_treeLeft(node) {
    var children = node.children;
    return children && children.length ? children[0] : node._tree.thread;
  }
  function d3_layout_treeRight(node) {
    var children = node.children, n;
    return children && (n = children.length) ? children[n - 1] : node._tree.thread;
  }
  function d3_layout_treeSearch(node, compare) {
    var children = node.children;
    if (children && (n = children.length)) {
      var child, n, i = -1;
      while (++i < n) {
        if (compare(child = d3_layout_treeSearch(children[i], compare), node) > 0) {
          node = child;
        }
      }
    }
    return node;
  }
  function d3_layout_treeRightmost(a, b) {
    return a.x - b.x;
  }
  function d3_layout_treeLeftmost(a, b) {
    return b.x - a.x;
  }
  function d3_layout_treeDeepest(a, b) {
    return a.depth - b.depth;
  }
  function d3_layout_treeVisitAfter(node, callback) {
    function visit(node, previousSibling) {
      var children = node.children;
      if (children && (n = children.length)) {
        var child, previousChild = null, i = -1, n;
        while (++i < n) {
          child = children[i];
          visit(child, previousChild);
          previousChild = child;
        }
      }
      callback(node, previousSibling);
    }
    visit(node, null);
  }
  function d3_layout_treeShift(node) {
    var shift = 0, change = 0, children = node.children, i = children.length, child;
    while (--i >= 0) {
      child = children[i]._tree;
      child.prelim += shift;
      child.mod += shift;
      shift += child.shift + (change += child.change);
    }
  }
  function d3_layout_treeMove(ancestor, node, shift) {
    ancestor = ancestor._tree;
    node = node._tree;
    var change = shift / (node.number - ancestor.number);
    ancestor.change += change;
    node.change -= change;
    node.shift += shift;
    node.prelim += shift;
    node.mod += shift;
  }
  function d3_layout_treeAncestor(vim, node, ancestor) {
    return vim._tree.ancestor.parent == node.parent ? vim._tree.ancestor : ancestor;
  }
  d3.layout.pack = function() {
    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;
    function pack(d, i) {
      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === "function" ? radius : function() {
        return radius;
      };
      root.x = root.y = 0;
      d3_layout_treeVisitAfter(root, function(d) {
        d.r = +r(d.value);
      });
      d3_layout_treeVisitAfter(root, d3_layout_packSiblings);
      if (padding) {
        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;
        d3_layout_treeVisitAfter(root, function(d) {
          d.r += dr;
        });
        d3_layout_treeVisitAfter(root, d3_layout_packSiblings);
        d3_layout_treeVisitAfter(root, function(d) {
          d.r -= dr;
        });
      }
      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));
      return nodes;
    }
    pack.size = function(_) {
      if (!arguments.length) return size;
      size = _;
      return pack;
    };
    pack.radius = function(_) {
      if (!arguments.length) return radius;
      radius = _ == null || typeof _ === "function" ? _ : +_;
      return pack;
    };
    pack.padding = function(_) {
      if (!arguments.length) return padding;
      padding = +_;
      return pack;
    };
    return d3_layout_hierarchyRebind(pack, hierarchy);
  };
  function d3_layout_packSort(a, b) {
    return a.value - b.value;
  }
  function d3_layout_packInsert(a, b) {
    var c = a._pack_next;
    a._pack_next = b;
    b._pack_prev = a;
    b._pack_next = c;
    c._pack_prev = b;
  }
  function d3_layout_packSplice(a, b) {
    a._pack_next = b;
    b._pack_prev = a;
  }
  function d3_layout_packIntersects(a, b) {
    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;
    return .999 * dr * dr > dx * dx + dy * dy;
  }
  function d3_layout_packSiblings(node) {
    if (!(nodes = node.children) || !(n = nodes.length)) return;
    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;
    function bound(node) {
      xMin = Math.min(node.x - node.r, xMin);
      xMax = Math.max(node.x + node.r, xMax);
      yMin = Math.min(node.y - node.r, yMin);
      yMax = Math.max(node.y + node.r, yMax);
    }
    nodes.forEach(d3_layout_packLink);
    a = nodes[0];
    a.x = -a.r;
    a.y = 0;
    bound(a);
    if (n > 1) {
      b = nodes[1];
      b.x = b.r;
      b.y = 0;
      bound(b);
      if (n > 2) {
        c = nodes[2];
        d3_layout_packPlace(a, b, c);
        bound(c);
        d3_layout_packInsert(a, c);
        a._pack_prev = c;
        d3_layout_packInsert(c, b);
        b = a._pack_next;
        for (i = 3; i < n; i++) {
          d3_layout_packPlace(a, b, c = nodes[i]);
          var isect = 0, s1 = 1, s2 = 1;
          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {
            if (d3_layout_packIntersects(j, c)) {
              isect = 1;
              break;
            }
          }
          if (isect == 1) {
            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {
              if (d3_layout_packIntersects(k, c)) {
                break;
              }
            }
          }
          if (isect) {
            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b);
            i--;
          } else {
            d3_layout_packInsert(a, c);
            b = c;
            bound(c);
          }
        }
      }
    }
    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;
    for (i = 0; i < n; i++) {
      c = nodes[i];
      c.x -= cx;
      c.y -= cy;
      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));
    }
    node.r = cr;
    nodes.forEach(d3_layout_packUnlink);
  }
  function d3_layout_packLink(node) {
    node._pack_next = node._pack_prev = node;
  }
  function d3_layout_packUnlink(node) {
    delete node._pack_next;
    delete node._pack_prev;
  }
  function d3_layout_packTransform(node, x, y, k) {
    var children = node.children;
    node.x = x += k * node.x;
    node.y = y += k * node.y;
    node.r *= k;
    if (children) {
      var i = -1, n = children.length;
      while (++i < n) d3_layout_packTransform(children[i], x, y, k);
    }
  }
  function d3_layout_packPlace(a, b, c) {
    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;
    if (db && (dx || dy)) {
      var da = b.r + c.r, dc = dx * dx + dy * dy;
      da *= da;
      db *= db;
      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);
      c.x = a.x + x * dx + y * dy;
      c.y = a.y + x * dy - y * dx;
    } else {
      c.x = a.x + db;
      c.y = a.y;
    }
  }
  d3.layout.cluster = function() {
    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;
    function cluster(d, i) {
      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;
      d3_layout_treeVisitAfter(root, function(node) {
        var children = node.children;
        if (children && children.length) {
          node.x = d3_layout_clusterX(children);
          node.y = d3_layout_clusterY(children);
        } else {
          node.x = previousNode ? x += separation(node, previousNode) : 0;
          node.y = 0;
          previousNode = node;
        }
      });
      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;
      d3_layout_treeVisitAfter(root, nodeSize ? function(node) {
        node.x = (node.x - root.x) * size[0];
        node.y = (root.y - node.y) * size[1];
      } : function(node) {
        node.x = (node.x - x0) / (x1 - x0) * size[0];
        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];
      });
      return nodes;
    }
    cluster.separation = function(x) {
      if (!arguments.length) return separation;
      separation = x;
      return cluster;
    };
    cluster.size = function(x) {
      if (!arguments.length) return nodeSize ? null : size;
      nodeSize = (size = x) == null;
      return cluster;
    };
    cluster.nodeSize = function(x) {
      if (!arguments.length) return nodeSize ? size : null;
      nodeSize = (size = x) != null;
      return cluster;
    };
    return d3_layout_hierarchyRebind(cluster, hierarchy);
  };
  function d3_layout_clusterY(children) {
    return 1 + d3.max(children, function(child) {
      return child.y;
    });
  }
  function d3_layout_clusterX(children) {
    return children.reduce(function(x, child) {
      return x + child.x;
    }, 0) / children.length;
  }
  function d3_layout_clusterLeft(node) {
    var children = node.children;
    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;
  }
  function d3_layout_clusterRight(node) {
    var children = node.children, n;
    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;
  }
  d3.layout.treemap = function() {
    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = "squarify", ratio = .5 * (1 + Math.sqrt(5));
    function scale(children, k) {
      var i = -1, n = children.length, child, area;
      while (++i < n) {
        area = (child = children[i]).value * (k < 0 ? 0 : k);
        child.area = isNaN(area) || area <= 0 ? 0 : area;
      }
    }
    function squarify(node) {
      var children = node.children;
      if (children && children.length) {
        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === "slice" ? rect.dx : mode === "dice" ? rect.dy : mode === "slice-dice" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;
        scale(remaining, rect.dx * rect.dy / node.value);
        row.area = 0;
        while ((n = remaining.length) > 0) {
          row.push(child = remaining[n - 1]);
          row.area += child.area;
          if (mode !== "squarify" || (score = worst(row, u)) <= best) {
            remaining.pop();
            best = score;
          } else {
            row.area -= row.pop().area;
            position(row, u, rect, false);
            u = Math.min(rect.dx, rect.dy);
            row.length = row.area = 0;
            best = Infinity;
          }
        }
        if (row.length) {
          position(row, u, rect, true);
          row.length = row.area = 0;
        }
        children.forEach(squarify);
      }
    }
    function stickify(node) {
      var children = node.children;
      if (children && children.length) {
        var rect = pad(node), remaining = children.slice(), child, row = [];
        scale(remaining, rect.dx * rect.dy / node.value);
        row.area = 0;
        while (child = remaining.pop()) {
          row.push(child);
          row.area += child.area;
          if (child.z != null) {
            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);
            row.length = row.area = 0;
          }
        }
        children.forEach(stickify);
      }
    }
    function worst(row, u) {
      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;
      while (++i < n) {
        if (!(r = row[i].area)) continue;
        if (r < rmin) rmin = r;
        if (r > rmax) rmax = r;
      }
      s *= s;
      u *= u;
      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;
    }
    function position(row, u, rect, flush) {
      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;
      if (u == rect.dx) {
        if (flush || v > rect.dy) v = rect.dy;
        while (++i < n) {
          o = row[i];
          o.x = x;
          o.y = y;
          o.dy = v;
          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);
        }
        o.z = true;
        o.dx += rect.x + rect.dx - x;
        rect.y += v;
        rect.dy -= v;
      } else {
        if (flush || v > rect.dx) v = rect.dx;
        while (++i < n) {
          o = row[i];
          o.x = x;
          o.y = y;
          o.dx = v;
          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);
        }
        o.z = false;
        o.dy += rect.y + rect.dy - y;
        rect.x += v;
        rect.dx -= v;
      }
    }
    function treemap(d) {
      var nodes = stickies || hierarchy(d), root = nodes[0];
      root.x = 0;
      root.y = 0;
      root.dx = size[0];
      root.dy = size[1];
      if (stickies) hierarchy.revalue(root);
      scale([ root ], root.dx * root.dy / root.value);
      (stickies ? stickify : squarify)(root);
      if (sticky) stickies = nodes;
      return nodes;
    }
    treemap.size = function(x) {
      if (!arguments.length) return size;
      size = x;
      return treemap;
    };
    treemap.padding = function(x) {
      if (!arguments.length) return padding;
      function padFunction(node) {
        var p = x.call(treemap, node, node.depth);
        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === "number" ? [ p, p, p, p ] : p);
      }
      function padConstant(node) {
        return d3_layout_treemapPad(node, x);
      }
      var type;
      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === "function" ? padFunction : type === "number" ? (x = [ x, x, x, x ], 
      padConstant) : padConstant;
      return treemap;
    };
    treemap.round = function(x) {
      if (!arguments.length) return round != Number;
      round = x ? Math.round : Number;
      return treemap;
    };
    treemap.sticky = function(x) {
      if (!arguments.length) return sticky;
      sticky = x;
      stickies = null;
      return treemap;
    };
    treemap.ratio = function(x) {
      if (!arguments.length) return ratio;
      ratio = x;
      return treemap;
    };
    treemap.mode = function(x) {
      if (!arguments.length) return mode;
      mode = x + "";
      return treemap;
    };
    return d3_layout_hierarchyRebind(treemap, hierarchy);
  };
  function d3_layout_treemapPadNull(node) {
    return {
      x: node.x,
      y: node.y,
      dx: node.dx,
      dy: node.dy
    };
  }
  function d3_layout_treemapPad(node, padding) {
    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];
    if (dx < 0) {
      x += dx / 2;
      dx = 0;
    }
    if (dy < 0) {
      y += dy / 2;
      dy = 0;
    }
    return {
      x: x,
      y: y,
      dx: dx,
      dy: dy
    };
  }
  d3.random = {
    normal: function(µ, σ) {
      var n = arguments.length;
      if (n < 2) σ = 1;
      if (n < 1) µ = 0;
      return function() {
        var x, y, r;
        do {
          x = Math.random() * 2 - 1;
          y = Math.random() * 2 - 1;
          r = x * x + y * y;
        } while (!r || r > 1);
        return µ + σ * x * Math.sqrt(-2 * Math.log(r) / r);
      };
    },
    logNormal: function() {
      var random = d3.random.normal.apply(d3, arguments);
      return function() {
        return Math.exp(random());
      };
    },
    bates: function(m) {
      var random = d3.random.irwinHall(m);
      return function() {
        return random() / m;
      };
    },
    irwinHall: function(m) {
      return function() {
        for (var s = 0, j = 0; j < m; j++) s += Math.random();
        return s;
      };
    }
  };
  d3.scale = {};
  function d3_scaleExtent(domain) {
    var start = domain[0], stop = domain[domain.length - 1];
    return start < stop ? [ start, stop ] : [ stop, start ];
  }
  function d3_scaleRange(scale) {
    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());
  }
  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {
    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);
    return function(x) {
      return i(u(x));
    };
  }
  function d3_scale_nice(domain, nice) {
    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;
    if (x1 < x0) {
      dx = i0, i0 = i1, i1 = dx;
      dx = x0, x0 = x1, x1 = dx;
    }
    domain[i0] = nice.floor(x0);
    domain[i1] = nice.ceil(x1);
    return domain;
  }
  function d3_scale_niceStep(step) {
    return step ? {
      floor: function(x) {
        return Math.floor(x / step) * step;
      },
      ceil: function(x) {
        return Math.ceil(x / step) * step;
      }
    } : d3_scale_niceIdentity;
  }
  var d3_scale_niceIdentity = {
    floor: d3_identity,
    ceil: d3_identity
  };
  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {
    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;
    if (domain[k] < domain[0]) {
      domain = domain.slice().reverse();
      range = range.slice().reverse();
    }
    while (++j <= k) {
      u.push(uninterpolate(domain[j - 1], domain[j]));
      i.push(interpolate(range[j - 1], range[j]));
    }
    return function(x) {
      var j = d3.bisect(domain, x, 1, k) - 1;
      return i[j](u[j](x));
    };
  }
  d3.scale.linear = function() {
    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);
  };
  function d3_scale_linear(domain, range, interpolate, clamp) {
    var output, input;
    function rescale() {
      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;
      output = linear(domain, range, uninterpolate, interpolate);
      input = linear(range, domain, uninterpolate, d3_interpolate);
      return scale;
    }
    function scale(x) {
      return output(x);
    }
    scale.invert = function(y) {
      return input(y);
    };
    scale.domain = function(x) {
      if (!arguments.length) return domain;
      domain = x.map(Number);
      return rescale();
    };
    scale.range = function(x) {
      if (!arguments.length) return range;
      range = x;
      return rescale();
    };
    scale.rangeRound = function(x) {
      return scale.range(x).interpolate(d3_interpolateRound);
    };
    scale.clamp = function(x) {
      if (!arguments.length) return clamp;
      clamp = x;
      return rescale();
    };
    scale.interpolate = function(x) {
      if (!arguments.length) return interpolate;
      interpolate = x;
      return rescale();
    };
    scale.ticks = function(m) {
      return d3_scale_linearTicks(domain, m);
    };
    scale.tickFormat = function(m, format) {
      return d3_scale_linearTickFormat(domain, m, format);
    };
    scale.nice = function(m) {
      d3_scale_linearNice(domain, m);
      return rescale();
    };
    scale.copy = function() {
      return d3_scale_linear(domain, range, interpolate, clamp);
    };
    return rescale();
  }
  function d3_scale_linearRebind(scale, linear) {
    return d3.rebind(scale, linear, "range", "rangeRound", "interpolate", "clamp");
  }
  function d3_scale_linearNice(domain, m) {
    return d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));
  }
  function d3_scale_linearTickRange(domain, m) {
    if (m == null) m = 10;
    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;
    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;
    extent[0] = Math.ceil(extent[0] / step) * step;
    extent[1] = Math.floor(extent[1] / step) * step + step * .5;
    extent[2] = step;
    return extent;
  }
  function d3_scale_linearTicks(domain, m) {
    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));
  }
  function d3_scale_linearTickFormat(domain, m, format) {
    var range = d3_scale_linearTickRange(domain, m);
    if (format) {
      var match = d3_format_re.exec(format);
      match.shift();
      if (match[8] === "s") {
        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));
        if (!match[7]) match[7] = "." + d3_scale_linearPrecision(prefix.scale(range[2]));
        match[8] = "f";
        format = d3.format(match.join(""));
        return function(d) {
          return format(prefix.scale(d)) + prefix.symbol;
        };
      }
      if (!match[7]) match[7] = "." + d3_scale_linearFormatPrecision(match[8], range);
      format = match.join("");
    } else {
      format = ",." + d3_scale_linearPrecision(range[2]) + "f";
    }
    return d3.format(format);
  }
  var d3_scale_linearFormatSignificant = {
    s: 1,
    g: 1,
    p: 1,
    r: 1,
    e: 1
  };
  function d3_scale_linearPrecision(value) {
    return -Math.floor(Math.log(value) / Math.LN10 + .01);
  }
  function d3_scale_linearFormatPrecision(type, range) {
    var p = d3_scale_linearPrecision(range[2]);
    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== "e") : p - (type === "%") * 2;
  }
  d3.scale.log = function() {
    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);
  };
  function d3_scale_log(linear, base, positive, domain) {
    function log(x) {
      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);
    }
    function pow(x) {
      return positive ? Math.pow(base, x) : -Math.pow(base, -x);
    }
    function scale(x) {
      return linear(log(x));
    }
    scale.invert = function(x) {
      return pow(linear.invert(x));
    };
    scale.domain = function(x) {
      if (!arguments.length) return domain;
      positive = x[0] >= 0;
      linear.domain((domain = x.map(Number)).map(log));
      return scale;
    };
    scale.base = function(_) {
      if (!arguments.length) return base;
      base = +_;
      linear.domain(domain.map(log));
      return scale;
    };
    scale.nice = function() {
      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);
      linear.domain(niced);
      domain = niced.map(pow);
      return scale;
    };
    scale.ticks = function() {
      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;
      if (isFinite(j - i)) {
        if (positive) {
          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);
          ticks.push(pow(i));
        } else {
          ticks.push(pow(i));
          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);
        }
        for (i = 0; ticks[i] < u; i++) {}
        for (j = ticks.length; ticks[j - 1] > v; j--) {}
        ticks = ticks.slice(i, j);
      }
      return ticks;
    };
    scale.tickFormat = function(n, format) {
      if (!arguments.length) return d3_scale_logFormat;
      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== "function") format = d3.format(format);
      var k = Math.max(.1, n / scale.ticks().length), f = positive ? (e = 1e-12, Math.ceil) : (e = -1e-12, 
      Math.floor), e;
      return function(d) {
        return d / pow(f(log(d) + e)) <= k ? format(d) : "";
      };
    };
    scale.copy = function() {
      return d3_scale_log(linear.copy(), base, positive, domain);
    };
    return d3_scale_linearRebind(scale, linear);
  }
  var d3_scale_logFormat = d3.format(".0e"), d3_scale_logNiceNegative = {
    floor: function(x) {
      return -Math.ceil(-x);
    },
    ceil: function(x) {
      return -Math.floor(-x);
    }
  };
  d3.scale.pow = function() {
    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);
  };
  function d3_scale_pow(linear, exponent, domain) {
    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);
    function scale(x) {
      return linear(powp(x));
    }
    scale.invert = function(x) {
      return powb(linear.invert(x));
    };
    scale.domain = function(x) {
      if (!arguments.length) return domain;
      linear.domain((domain = x.map(Number)).map(powp));
      return scale;
    };
    scale.ticks = function(m) {
      return d3_scale_linearTicks(domain, m);
    };
    scale.tickFormat = function(m, format) {
      return d3_scale_linearTickFormat(domain, m, format);
    };
    scale.nice = function(m) {
      return scale.domain(d3_scale_linearNice(domain, m));
    };
    scale.exponent = function(x) {
      if (!arguments.length) return exponent;
      powp = d3_scale_powPow(exponent = x);
      powb = d3_scale_powPow(1 / exponent);
      linear.domain(domain.map(powp));
      return scale;
    };
    scale.copy = function() {
      return d3_scale_pow(linear.copy(), exponent, domain);
    };
    return d3_scale_linearRebind(scale, linear);
  }
  function d3_scale_powPow(e) {
    return function(x) {
      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);
    };
  }
  d3.scale.sqrt = function() {
    return d3.scale.pow().exponent(.5);
  };
  d3.scale.ordinal = function() {
    return d3_scale_ordinal([], {
      t: "range",
      a: [ [] ]
    });
  };
  function d3_scale_ordinal(domain, ranger) {
    var index, range, rangeBand;
    function scale(x) {
      return range[((index.get(x) || (ranger.t === "range" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];
    }
    function steps(start, step) {
      return d3.range(domain.length).map(function(i) {
        return start + step * i;
      });
    }
    scale.domain = function(x) {
      if (!arguments.length) return domain;
      domain = [];
      index = new d3_Map();
      var i = -1, n = x.length, xi;
      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));
      return scale[ranger.t].apply(scale, ranger.a);
    };
    scale.range = function(x) {
      if (!arguments.length) return range;
      range = x;
      rangeBand = 0;
      ranger = {
        t: "range",
        a: arguments
      };
      return scale;
    };
    scale.rangePoints = function(x, padding) {
      if (arguments.length < 2) padding = 0;
      var start = x[0], stop = x[1], step = (stop - start) / (Math.max(1, domain.length - 1) + padding);
      range = steps(domain.length < 2 ? (start + stop) / 2 : start + step * padding / 2, step);
      rangeBand = 0;
      ranger = {
        t: "rangePoints",
        a: arguments
      };
      return scale;
    };
    scale.rangeBands = function(x, padding, outerPadding) {
      if (arguments.length < 2) padding = 0;
      if (arguments.length < 3) outerPadding = padding;
      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);
      range = steps(start + step * outerPadding, step);
      if (reverse) range.reverse();
      rangeBand = step * (1 - padding);
      ranger = {
        t: "rangeBands",
        a: arguments
      };
      return scale;
    };
    scale.rangeRoundBands = function(x, padding, outerPadding) {
      if (arguments.length < 2) padding = 0;
      if (arguments.length < 3) outerPadding = padding;
      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding)), error = stop - start - (domain.length - padding) * step;
      range = steps(start + Math.round(error / 2), step);
      if (reverse) range.reverse();
      rangeBand = Math.round(step * (1 - padding));
      ranger = {
        t: "rangeRoundBands",
        a: arguments
      };
      return scale;
    };
    scale.rangeBand = function() {
      return rangeBand;
    };
    scale.rangeExtent = function() {
      return d3_scaleExtent(ranger.a[0]);
    };
    scale.copy = function() {
      return d3_scale_ordinal(domain, ranger);
    };
    return scale.domain(domain);
  }
  d3.scale.category10 = function() {
    return d3.scale.ordinal().range(d3_category10);
  };
  d3.scale.category20 = function() {
    return d3.scale.ordinal().range(d3_category20);
  };
  d3.scale.category20b = function() {
    return d3.scale.ordinal().range(d3_category20b);
  };
  d3.scale.category20c = function() {
    return d3.scale.ordinal().range(d3_category20c);
  };
  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);
  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);
  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);
  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);
  d3.scale.quantile = function() {
    return d3_scale_quantile([], []);
  };
  function d3_scale_quantile(domain, range) {
    var thresholds;
    function rescale() {
      var k = 0, q = range.length;
      thresholds = [];
      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);
      return scale;
    }
    function scale(x) {
      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];
    }
    scale.domain = function(x) {
      if (!arguments.length) return domain;
      domain = x.filter(d3_number).sort(d3_ascending);
      return rescale();
    };
    scale.range = function(x) {
      if (!arguments.length) return range;
      range = x;
      return rescale();
    };
    scale.quantiles = function() {
      return thresholds;
    };
    scale.invertExtent = function(y) {
      y = range.indexOf(y);
      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];
    };
    scale.copy = function() {
      return d3_scale_quantile(domain, range);
    };
    return rescale();
  }
  d3.scale.quantize = function() {
    return d3_scale_quantize(0, 1, [ 0, 1 ]);
  };
  function d3_scale_quantize(x0, x1, range) {
    var kx, i;
    function scale(x) {
      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];
    }
    function rescale() {
      kx = range.length / (x1 - x0);
      i = range.length - 1;
      return scale;
    }
    scale.domain = function(x) {
      if (!arguments.length) return [ x0, x1 ];
      x0 = +x[0];
      x1 = +x[x.length - 1];
      return rescale();
    };
    scale.range = function(x) {
      if (!arguments.length) return range;
      range = x;
      return rescale();
    };
    scale.invertExtent = function(y) {
      y = range.indexOf(y);
      y = y < 0 ? NaN : y / kx + x0;
      return [ y, y + 1 / kx ];
    };
    scale.copy = function() {
      return d3_scale_quantize(x0, x1, range);
    };
    return rescale();
  }
  d3.scale.threshold = function() {
    return d3_scale_threshold([ .5 ], [ 0, 1 ]);
  };
  function d3_scale_threshold(domain, range) {
    function scale(x) {
      if (x <= x) return range[d3.bisect(domain, x)];
    }
    scale.domain = function(_) {
      if (!arguments.length) return domain;
      domain = _;
      return scale;
    };
    scale.range = function(_) {
      if (!arguments.length) return range;
      range = _;
      return scale;
    };
    scale.invertExtent = function(y) {
      y = range.indexOf(y);
      return [ domain[y - 1], domain[y] ];
    };
    scale.copy = function() {
      return d3_scale_threshold(domain, range);
    };
    return scale;
  }
  d3.scale.identity = function() {
    return d3_scale_identity([ 0, 1 ]);
  };
  function d3_scale_identity(domain) {
    function identity(x) {
      return +x;
    }
    identity.invert = identity;
    identity.domain = identity.range = function(x) {
      if (!arguments.length) return domain;
      domain = x.map(identity);
      return identity;
    };
    identity.ticks = function(m) {
      return d3_scale_linearTicks(domain, m);
    };
    identity.tickFormat = function(m, format) {
      return d3_scale_linearTickFormat(domain, m, format);
    };
    identity.copy = function() {
      return d3_scale_identity(domain);
    };
    return identity;
  }
  d3.svg = {};
  d3.svg.arc = function() {
    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;
    function arc() {
      var r0 = innerRadius.apply(this, arguments), r1 = outerRadius.apply(this, arguments), a0 = startAngle.apply(this, arguments) + d3_svg_arcOffset, a1 = endAngle.apply(this, arguments) + d3_svg_arcOffset, da = (a1 < a0 && (da = a0, 
      a0 = a1, a1 = da), a1 - a0), df = da < π ? "0" : "1", c0 = Math.cos(a0), s0 = Math.sin(a0), c1 = Math.cos(a1), s1 = Math.sin(a1);
      return da >= d3_svg_arcMax ? r0 ? "M0," + r1 + "A" + r1 + "," + r1 + " 0 1,1 0," + -r1 + "A" + r1 + "," + r1 + " 0 1,1 0," + r1 + "M0," + r0 + "A" + r0 + "," + r0 + " 0 1,0 0," + -r0 + "A" + r0 + "," + r0 + " 0 1,0 0," + r0 + "Z" : "M0," + r1 + "A" + r1 + "," + r1 + " 0 1,1 0," + -r1 + "A" + r1 + "," + r1 + " 0 1,1 0," + r1 + "Z" : r0 ? "M" + r1 * c0 + "," + r1 * s0 + "A" + r1 + "," + r1 + " 0 " + df + ",1 " + r1 * c1 + "," + r1 * s1 + "L" + r0 * c1 + "," + r0 * s1 + "A" + r0 + "," + r0 + " 0 " + df + ",0 " + r0 * c0 + "," + r0 * s0 + "Z" : "M" + r1 * c0 + "," + r1 * s0 + "A" + r1 + "," + r1 + " 0 " + df + ",1 " + r1 * c1 + "," + r1 * s1 + "L0,0" + "Z";
    }
    arc.innerRadius = function(v) {
      if (!arguments.length) return innerRadius;
      innerRadius = d3_functor(v);
      return arc;
    };
    arc.outerRadius = function(v) {
      if (!arguments.length) return outerRadius;
      outerRadius = d3_functor(v);
      return arc;
    };
    arc.startAngle = function(v) {
      if (!arguments.length) return startAngle;
      startAngle = d3_functor(v);
      return arc;
    };
    arc.endAngle = function(v) {
      if (!arguments.length) return endAngle;
      endAngle = d3_functor(v);
      return arc;
    };
    arc.centroid = function() {
      var r = (innerRadius.apply(this, arguments) + outerRadius.apply(this, arguments)) / 2, a = (startAngle.apply(this, arguments) + endAngle.apply(this, arguments)) / 2 + d3_svg_arcOffset;
      return [ Math.cos(a) * r, Math.sin(a) * r ];
    };
    return arc;
  };
  var d3_svg_arcOffset = -halfπ, d3_svg_arcMax = τ - ε;
  function d3_svg_arcInnerRadius(d) {
    return d.innerRadius;
  }
  function d3_svg_arcOuterRadius(d) {
    return d.outerRadius;
  }
  function d3_svg_arcStartAngle(d) {
    return d.startAngle;
  }
  function d3_svg_arcEndAngle(d) {
    return d.endAngle;
  }
  function d3_svg_line(projection) {
    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;
    function line(data) {
      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);
      function segment() {
        segments.push("M", interpolate(projection(points), tension));
      }
      while (++i < n) {
        if (defined.call(this, d = data[i], i)) {
          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);
        } else if (points.length) {
          segment();
          points = [];
        }
      }
      if (points.length) segment();
      return segments.length ? segments.join("") : null;
    }
    line.x = function(_) {
      if (!arguments.length) return x;
      x = _;
      return line;
    };
    line.y = function(_) {
      if (!arguments.length) return y;
      y = _;
      return line;
    };
    line.defined = function(_) {
      if (!arguments.length) return defined;
      defined = _;
      return line;
    };
    line.interpolate = function(_) {
      if (!arguments.length) return interpolateKey;
      if (typeof _ === "function") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;
      return line;
    };
    line.tension = function(_) {
      if (!arguments.length) return tension;
      tension = _;
      return line;
    };
    return line;
  }
  d3.svg.line = function() {
    return d3_svg_line(d3_identity);
  };
  var d3_svg_lineInterpolators = d3.map({
    linear: d3_svg_lineLinear,
    "linear-closed": d3_svg_lineLinearClosed,
    step: d3_svg_lineStep,
    "step-before": d3_svg_lineStepBefore,
    "step-after": d3_svg_lineStepAfter,
    basis: d3_svg_lineBasis,
    "basis-open": d3_svg_lineBasisOpen,
    "basis-closed": d3_svg_lineBasisClosed,
    bundle: d3_svg_lineBundle,
    cardinal: d3_svg_lineCardinal,
    "cardinal-open": d3_svg_lineCardinalOpen,
    "cardinal-closed": d3_svg_lineCardinalClosed,
    monotone: d3_svg_lineMonotone
  });
  d3_svg_lineInterpolators.forEach(function(key, value) {
    value.key = key;
    value.closed = /-closed$/.test(key);
  });
  function d3_svg_lineLinear(points) {
    return points.join("L");
  }
  function d3_svg_lineLinearClosed(points) {
    return d3_svg_lineLinear(points) + "Z";
  }
  function d3_svg_lineStep(points) {
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];
    while (++i < n) path.push("H", (p[0] + (p = points[i])[0]) / 2, "V", p[1]);
    if (n > 1) path.push("H", p[0]);
    return path.join("");
  }
  function d3_svg_lineStepBefore(points) {
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];
    while (++i < n) path.push("V", (p = points[i])[1], "H", p[0]);
    return path.join("");
  }
  function d3_svg_lineStepAfter(points) {
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];
    while (++i < n) path.push("H", (p = points[i])[0], "V", p[1]);
    return path.join("");
  }
  function d3_svg_lineCardinalOpen(points, tension) {
    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, points.length - 1), d3_svg_lineCardinalTangents(points, tension));
  }
  function d3_svg_lineCardinalClosed(points, tension) {
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite((points.push(points[0]), 
    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));
  }
  function d3_svg_lineCardinal(points, tension) {
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));
  }
  function d3_svg_lineHermite(points, tangents) {
    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {
      return d3_svg_lineLinear(points);
    }
    var quad = points.length != tangents.length, path = "", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;
    if (quad) {
      path += "Q" + (p[0] - t0[0] * 2 / 3) + "," + (p[1] - t0[1] * 2 / 3) + "," + p[0] + "," + p[1];
      p0 = points[1];
      pi = 2;
    }
    if (tangents.length > 1) {
      t = tangents[1];
      p = points[pi];
      pi++;
      path += "C" + (p0[0] + t0[0]) + "," + (p0[1] + t0[1]) + "," + (p[0] - t[0]) + "," + (p[1] - t[1]) + "," + p[0] + "," + p[1];
      for (var i = 2; i < tangents.length; i++, pi++) {
        p = points[pi];
        t = tangents[i];
        path += "S" + (p[0] - t[0]) + "," + (p[1] - t[1]) + "," + p[0] + "," + p[1];
      }
    }
    if (quad) {
      var lp = points[pi];
      path += "Q" + (p[0] + t[0] * 2 / 3) + "," + (p[1] + t[1] * 2 / 3) + "," + lp[0] + "," + lp[1];
    }
    return path;
  }
  function d3_svg_lineCardinalTangents(points, tension) {
    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;
    while (++i < n) {
      p0 = p1;
      p1 = p2;
      p2 = points[i];
      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);
    }
    return tangents;
  }
  function d3_svg_lineBasis(points) {
    if (points.length < 3) return d3_svg_lineLinear(points);
    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, ",", y0, "L", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];
    points.push(points[n - 1]);
    while (++i <= n) {
      pi = points[i];
      px.shift();
      px.push(pi[0]);
      py.shift();
      py.push(pi[1]);
      d3_svg_lineBasisBezier(path, px, py);
    }
    points.pop();
    path.push("L", pi);
    return path.join("");
  }
  function d3_svg_lineBasisOpen(points) {
    if (points.length < 4) return d3_svg_lineLinear(points);
    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];
    while (++i < 3) {
      pi = points[i];
      px.push(pi[0]);
      py.push(pi[1]);
    }
    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + "," + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));
    --i;
    while (++i < n) {
      pi = points[i];
      px.shift();
      px.push(pi[0]);
      py.shift();
      py.push(pi[1]);
      d3_svg_lineBasisBezier(path, px, py);
    }
    return path.join("");
  }
  function d3_svg_lineBasisClosed(points) {
    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];
    while (++i < 4) {
      pi = points[i % n];
      px.push(pi[0]);
      py.push(pi[1]);
    }
    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];
    --i;
    while (++i < m) {
      pi = points[i % n];
      px.shift();
      px.push(pi[0]);
      py.shift();
      py.push(pi[1]);
      d3_svg_lineBasisBezier(path, px, py);
    }
    return path.join("");
  }
  function d3_svg_lineBundle(points, tension) {
    var n = points.length - 1;
    if (n) {
      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;
      while (++i <= n) {
        p = points[i];
        t = i / n;
        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);
        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);
      }
    }
    return d3_svg_lineBasis(points);
  }
  function d3_svg_lineDot4(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];
  function d3_svg_lineBasisBezier(path, x, y) {
    path.push("C", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));
  }
  function d3_svg_lineSlope(p0, p1) {
    return (p1[1] - p0[1]) / (p1[0] - p0[0]);
  }
  function d3_svg_lineFiniteDifferences(points) {
    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);
    while (++i < j) {
      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;
    }
    m[i] = d;
    return m;
  }
  function d3_svg_lineMonotoneTangents(points) {
    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;
    while (++i < j) {
      d = d3_svg_lineSlope(points[i], points[i + 1]);
      if (abs(d) < ε) {
        m[i] = m[i + 1] = 0;
      } else {
        a = m[i] / d;
        b = m[i + 1] / d;
        s = a * a + b * b;
        if (s > 9) {
          s = d * 3 / Math.sqrt(s);
          m[i] = s * a;
          m[i + 1] = s * b;
        }
      }
    }
    i = -1;
    while (++i <= j) {
      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));
      tangents.push([ s || 0, m[i] * s || 0 ]);
    }
    return tangents;
  }
  function d3_svg_lineMonotone(points) {
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));
  }
  d3.svg.line.radial = function() {
    var line = d3_svg_line(d3_svg_lineRadial);
    line.radius = line.x, delete line.x;
    line.angle = line.y, delete line.y;
    return line;
  };
  function d3_svg_lineRadial(points) {
    var point, i = -1, n = points.length, r, a;
    while (++i < n) {
      point = points[i];
      r = point[0];
      a = point[1] + d3_svg_arcOffset;
      point[0] = r * Math.cos(a);
      point[1] = r * Math.sin(a);
    }
    return points;
  }
  function d3_svg_area(projection) {
    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = "L", tension = .7;
    function area(data) {
      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {
        return x;
      } : d3_functor(x1), fy1 = y0 === y1 ? function() {
        return y;
      } : d3_functor(y1), x, y;
      function segment() {
        segments.push("M", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), "Z");
      }
      while (++i < n) {
        if (defined.call(this, d = data[i], i)) {
          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);
          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);
        } else if (points0.length) {
          segment();
          points0 = [];
          points1 = [];
        }
      }
      if (points0.length) segment();
      return segments.length ? segments.join("") : null;
    }
    area.x = function(_) {
      if (!arguments.length) return x1;
      x0 = x1 = _;
      return area;
    };
    area.x0 = function(_) {
      if (!arguments.length) return x0;
      x0 = _;
      return area;
    };
    area.x1 = function(_) {
      if (!arguments.length) return x1;
      x1 = _;
      return area;
    };
    area.y = function(_) {
      if (!arguments.length) return y1;
      y0 = y1 = _;
      return area;
    };
    area.y0 = function(_) {
      if (!arguments.length) return y0;
      y0 = _;
      return area;
    };
    area.y1 = function(_) {
      if (!arguments.length) return y1;
      y1 = _;
      return area;
    };
    area.defined = function(_) {
      if (!arguments.length) return defined;
      defined = _;
      return area;
    };
    area.interpolate = function(_) {
      if (!arguments.length) return interpolateKey;
      if (typeof _ === "function") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;
      interpolateReverse = interpolate.reverse || interpolate;
      L = interpolate.closed ? "M" : "L";
      return area;
    };
    area.tension = function(_) {
      if (!arguments.length) return tension;
      tension = _;
      return area;
    };
    return area;
  }
  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;
  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;
  d3.svg.area = function() {
    return d3_svg_area(d3_identity);
  };
  d3.svg.area.radial = function() {
    var area = d3_svg_area(d3_svg_lineRadial);
    area.radius = area.x, delete area.x;
    area.innerRadius = area.x0, delete area.x0;
    area.outerRadius = area.x1, delete area.x1;
    area.angle = area.y, delete area.y;
    area.startAngle = area.y0, delete area.y0;
    area.endAngle = area.y1, delete area.y1;
    return area;
  };
  d3.svg.chord = function() {
    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;
    function chord(d, i) {
      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);
      return "M" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + "Z";
    }
    function subgroup(self, f, d, i) {
      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) + d3_svg_arcOffset, a1 = endAngle.call(self, subgroup, i) + d3_svg_arcOffset;
      return {
        r: r,
        a0: a0,
        a1: a1,
        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],
        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]
      };
    }
    function equals(a, b) {
      return a.a0 == b.a0 && a.a1 == b.a1;
    }
    function arc(r, p, a) {
      return "A" + r + "," + r + " 0 " + +(a > π) + ",1 " + p;
    }
    function curve(r0, p0, r1, p1) {
      return "Q 0,0 " + p1;
    }
    chord.radius = function(v) {
      if (!arguments.length) return radius;
      radius = d3_functor(v);
      return chord;
    };
    chord.source = function(v) {
      if (!arguments.length) return source;
      source = d3_functor(v);
      return chord;
    };
    chord.target = function(v) {
      if (!arguments.length) return target;
      target = d3_functor(v);
      return chord;
    };
    chord.startAngle = function(v) {
      if (!arguments.length) return startAngle;
      startAngle = d3_functor(v);
      return chord;
    };
    chord.endAngle = function(v) {
      if (!arguments.length) return endAngle;
      endAngle = d3_functor(v);
      return chord;
    };
    return chord;
  };
  function d3_svg_chordRadius(d) {
    return d.radius;
  }
  d3.svg.diagonal = function() {
    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;
    function diagonal(d, i) {
      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {
        x: p0.x,
        y: m
      }, {
        x: p3.x,
        y: m
      }, p3 ];
      p = p.map(projection);
      return "M" + p[0] + "C" + p[1] + " " + p[2] + " " + p[3];
    }
    diagonal.source = function(x) {
      if (!arguments.length) return source;
      source = d3_functor(x);
      return diagonal;
    };
    diagonal.target = function(x) {
      if (!arguments.length) return target;
      target = d3_functor(x);
      return diagonal;
    };
    diagonal.projection = function(x) {
      if (!arguments.length) return projection;
      projection = x;
      return diagonal;
    };
    return diagonal;
  };
  function d3_svg_diagonalProjection(d) {
    return [ d.x, d.y ];
  }
  d3.svg.diagonal.radial = function() {
    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;
    diagonal.projection = function(x) {
      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;
    };
    return diagonal;
  };
  function d3_svg_diagonalRadialProjection(projection) {
    return function() {
      var d = projection.apply(this, arguments), r = d[0], a = d[1] + d3_svg_arcOffset;
      return [ r * Math.cos(a), r * Math.sin(a) ];
    };
  }
  d3.svg.symbol = function() {
    var type = d3_svg_symbolType, size = d3_svg_symbolSize;
    function symbol(d, i) {
      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));
    }
    symbol.type = function(x) {
      if (!arguments.length) return type;
      type = d3_functor(x);
      return symbol;
    };
    symbol.size = function(x) {
      if (!arguments.length) return size;
      size = d3_functor(x);
      return symbol;
    };
    return symbol;
  };
  function d3_svg_symbolSize() {
    return 64;
  }
  function d3_svg_symbolType() {
    return "circle";
  }
  function d3_svg_symbolCircle(size) {
    var r = Math.sqrt(size / π);
    return "M0," + r + "A" + r + "," + r + " 0 1,1 0," + -r + "A" + r + "," + r + " 0 1,1 0," + r + "Z";
  }
  var d3_svg_symbols = d3.map({
    circle: d3_svg_symbolCircle,
    cross: function(size) {
      var r = Math.sqrt(size / 5) / 2;
      return "M" + -3 * r + "," + -r + "H" + -r + "V" + -3 * r + "H" + r + "V" + -r + "H" + 3 * r + "V" + r + "H" + r + "V" + 3 * r + "H" + -r + "V" + r + "H" + -3 * r + "Z";
    },
    diamond: function(size) {
      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;
      return "M0," + -ry + "L" + rx + ",0" + " 0," + ry + " " + -rx + ",0" + "Z";
    },
    square: function(size) {
      var r = Math.sqrt(size) / 2;
      return "M" + -r + "," + -r + "L" + r + "," + -r + " " + r + "," + r + " " + -r + "," + r + "Z";
    },
    "triangle-down": function(size) {
      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;
      return "M0," + ry + "L" + rx + "," + -ry + " " + -rx + "," + -ry + "Z";
    },
    "triangle-up": function(size) {
      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;
      return "M0," + -ry + "L" + rx + "," + ry + " " + -rx + "," + ry + "Z";
    }
  });
  d3.svg.symbolTypes = d3_svg_symbols.keys();
  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);
  function d3_transition(groups, id) {
    d3_subclass(groups, d3_transitionPrototype);
    groups.id = id;
    return groups;
  }
  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;
  d3_transitionPrototype.call = d3_selectionPrototype.call;
  d3_transitionPrototype.empty = d3_selectionPrototype.empty;
  d3_transitionPrototype.node = d3_selectionPrototype.node;
  d3_transitionPrototype.size = d3_selectionPrototype.size;
  d3.transition = function(selection) {
    return arguments.length ? d3_transitionInheritId ? selection.transition() : selection : d3_selectionRoot.transition();
  };
  d3.transition.prototype = d3_transitionPrototype;
  d3_transitionPrototype.select = function(selector) {
    var id = this.id, subgroups = [], subgroup, subnode, node;
    selector = d3_selection_selector(selector);
    for (var j = -1, m = this.length; ++j < m; ) {
      subgroups.push(subgroup = []);
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {
        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {
          if ("__data__" in node) subnode.__data__ = node.__data__;
          d3_transitionNode(subnode, i, id, node.__transition__[id]);
          subgroup.push(subnode);
        } else {
          subgroup.push(null);
        }
      }
    }
    return d3_transition(subgroups, id);
  };
  d3_transitionPrototype.selectAll = function(selector) {
    var id = this.id, subgroups = [], subgroup, subnodes, node, subnode, transition;
    selector = d3_selection_selectorAll(selector);
    for (var j = -1, m = this.length; ++j < m; ) {
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {
        if (node = group[i]) {
          transition = node.__transition__[id];
          subnodes = selector.call(node, node.__data__, i, j);
          subgroups.push(subgroup = []);
          for (var k = -1, o = subnodes.length; ++k < o; ) {
            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, id, transition);
            subgroup.push(subnode);
          }
        }
      }
    }
    return d3_transition(subgroups, id);
  };
  d3_transitionPrototype.filter = function(filter) {
    var subgroups = [], subgroup, group, node;
    if (typeof filter !== "function") filter = d3_selection_filter(filter);
    for (var j = 0, m = this.length; j < m; j++) {
      subgroups.push(subgroup = []);
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {
        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {
          subgroup.push(node);
        }
      }
    }
    return d3_transition(subgroups, this.id);
  };
  d3_transitionPrototype.tween = function(name, tween) {
    var id = this.id;
    if (arguments.length < 2) return this.node().__transition__[id].tween.get(name);
    return d3_selection_each(this, tween == null ? function(node) {
      node.__transition__[id].tween.remove(name);
    } : function(node) {
      node.__transition__[id].tween.set(name, tween);
    });
  };
  function d3_transition_tween(groups, name, value, tween) {
    var id = groups.id;
    return d3_selection_each(groups, typeof value === "function" ? function(node, i, j) {
      node.__transition__[id].tween.set(name, tween(value.call(node, node.__data__, i, j)));
    } : (value = tween(value), function(node) {
      node.__transition__[id].tween.set(name, value);
    }));
  }
  d3_transitionPrototype.attr = function(nameNS, value) {
    if (arguments.length < 2) {
      for (value in nameNS) this.attr(value, nameNS[value]);
      return this;
    }
    var interpolate = nameNS == "transform" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);
    function attrNull() {
      this.removeAttribute(name);
    }
    function attrNullNS() {
      this.removeAttributeNS(name.space, name.local);
    }
    function attrTween(b) {
      return b == null ? attrNull : (b += "", function() {
        var a = this.getAttribute(name), i;
        return a !== b && (i = interpolate(a, b), function(t) {
          this.setAttribute(name, i(t));
        });
      });
    }
    function attrTweenNS(b) {
      return b == null ? attrNullNS : (b += "", function() {
        var a = this.getAttributeNS(name.space, name.local), i;
        return a !== b && (i = interpolate(a, b), function(t) {
          this.setAttributeNS(name.space, name.local, i(t));
        });
      });
    }
    return d3_transition_tween(this, "attr." + nameNS, value, name.local ? attrTweenNS : attrTween);
  };
  d3_transitionPrototype.attrTween = function(nameNS, tween) {
    var name = d3.ns.qualify(nameNS);
    function attrTween(d, i) {
      var f = tween.call(this, d, i, this.getAttribute(name));
      return f && function(t) {
        this.setAttribute(name, f(t));
      };
    }
    function attrTweenNS(d, i) {
      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));
      return f && function(t) {
        this.setAttributeNS(name.space, name.local, f(t));
      };
    }
    return this.tween("attr." + nameNS, name.local ? attrTweenNS : attrTween);
  };
  d3_transitionPrototype.style = function(name, value, priority) {
    var n = arguments.length;
    if (n < 3) {
      if (typeof name !== "string") {
        if (n < 2) value = "";
        for (priority in name) this.style(priority, name[priority], value);
        return this;
      }
      priority = "";
    }
    function styleNull() {
      this.style.removeProperty(name);
    }
    function styleString(b) {
      return b == null ? styleNull : (b += "", function() {
        var a = d3_window.getComputedStyle(this, null).getPropertyValue(name), i;
        return a !== b && (i = d3_interpolate(a, b), function(t) {
          this.style.setProperty(name, i(t), priority);
        });
      });
    }
    return d3_transition_tween(this, "style." + name, value, styleString);
  };
  d3_transitionPrototype.styleTween = function(name, tween, priority) {
    if (arguments.length < 3) priority = "";
    function styleTween(d, i) {
      var f = tween.call(this, d, i, d3_window.getComputedStyle(this, null).getPropertyValue(name));
      return f && function(t) {
        this.style.setProperty(name, f(t), priority);
      };
    }
    return this.tween("style." + name, styleTween);
  };
  d3_transitionPrototype.text = function(value) {
    return d3_transition_tween(this, "text", value, d3_transition_text);
  };
  function d3_transition_text(b) {
    if (b == null) b = "";
    return function() {
      this.textContent = b;
    };
  }
  d3_transitionPrototype.remove = function() {
    return this.each("end.transition", function() {
      var p;
      if (this.__transition__.count < 2 && (p = this.parentNode)) p.removeChild(this);
    });
  };
  d3_transitionPrototype.ease = function(value) {
    var id = this.id;
    if (arguments.length < 1) return this.node().__transition__[id].ease;
    if (typeof value !== "function") value = d3.ease.apply(d3, arguments);
    return d3_selection_each(this, function(node) {
      node.__transition__[id].ease = value;
    });
  };
  d3_transitionPrototype.delay = function(value) {
    var id = this.id;
    if (arguments.length < 1) return this.node().__transition__[id].delay;
    return d3_selection_each(this, typeof value === "function" ? function(node, i, j) {
      node.__transition__[id].delay = +value.call(node, node.__data__, i, j);
    } : (value = +value, function(node) {
      node.__transition__[id].delay = value;
    }));
  };
  d3_transitionPrototype.duration = function(value) {
    var id = this.id;
    if (arguments.length < 1) return this.node().__transition__[id].duration;
    return d3_selection_each(this, typeof value === "function" ? function(node, i, j) {
      node.__transition__[id].duration = Math.max(1, value.call(node, node.__data__, i, j));
    } : (value = Math.max(1, value), function(node) {
      node.__transition__[id].duration = value;
    }));
  };
  d3_transitionPrototype.each = function(type, listener) {
    var id = this.id;
    if (arguments.length < 2) {
      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;
      d3_transitionInheritId = id;
      d3_selection_each(this, function(node, i, j) {
        d3_transitionInherit = node.__transition__[id];
        type.call(node, node.__data__, i, j);
      });
      d3_transitionInherit = inherit;
      d3_transitionInheritId = inheritId;
    } else {
      d3_selection_each(this, function(node) {
        var transition = node.__transition__[id];
        (transition.event || (transition.event = d3.dispatch("start", "end"))).on(type, listener);
      });
    }
    return this;
  };
  d3_transitionPrototype.transition = function() {
    var id0 = this.id, id1 = ++d3_transitionId, subgroups = [], subgroup, group, node, transition;
    for (var j = 0, m = this.length; j < m; j++) {
      subgroups.push(subgroup = []);
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {
        if (node = group[i]) {
          transition = Object.create(node.__transition__[id0]);
          transition.delay += transition.duration;
          d3_transitionNode(node, i, id1, transition);
        }
        subgroup.push(node);
      }
    }
    return d3_transition(subgroups, id1);
  };
  function d3_transitionNode(node, i, id, inherit) {
    var lock = node.__transition__ || (node.__transition__ = {
      active: 0,
      count: 0
    }), transition = lock[id];
    if (!transition) {
      var time = inherit.time;
      transition = lock[id] = {
        tween: new d3_Map(),
        time: time,
        ease: inherit.ease,
        delay: inherit.delay,
        duration: inherit.duration
      };
      ++lock.count;
      d3.timer(function(elapsed) {
        var d = node.__data__, ease = transition.ease, delay = transition.delay, duration = transition.duration, timer = d3_timer_active, tweened = [];
        timer.t = delay + time;
        if (delay <= elapsed) return start(elapsed - delay);
        timer.c = start;
        function start(elapsed) {
          if (lock.active > id) return stop();
          lock.active = id;
          transition.event && transition.event.start.call(node, d, i);
          transition.tween.forEach(function(key, value) {
            if (value = value.call(node, d, i)) {
              tweened.push(value);
            }
          });
          d3.timer(function() {
            timer.c = tick(elapsed || 1) ? d3_true : tick;
            return 1;
          }, 0, time);
        }
        function tick(elapsed) {
          if (lock.active !== id) return stop();
          var t = elapsed / duration, e = ease(t), n = tweened.length;
          while (n > 0) {
            tweened[--n].call(node, e);
          }
          if (t >= 1) {
            transition.event && transition.event.end.call(node, d, i);
            return stop();
          }
        }
        function stop() {
          if (--lock.count) delete lock[id]; else delete node.__transition__;
          return 1;
        }
      }, 0, time);
    }
  }
  d3.svg.axis = function() {
    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;
    function axis(g) {
      g.each(function() {
        var g = d3.select(this);
        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();
        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(".tick").data(ticks, scale1), tickEnter = tick.enter().insert("g", ".domain").attr("class", "tick").style("opacity", ε), tickExit = d3.transition(tick.exit()).style("opacity", ε).remove(), tickUpdate = d3.transition(tick.order()).style("opacity", 1), tickTransform;
        var range = d3_scaleRange(scale1), path = g.selectAll(".domain").data([ 0 ]), pathUpdate = (path.enter().append("path").attr("class", "domain"), 
        d3.transition(path));
        tickEnter.append("line");
        tickEnter.append("text");
        var lineEnter = tickEnter.select("line"), lineUpdate = tickUpdate.select("line"), text = tick.select("text").text(tickFormat), textEnter = tickEnter.select("text"), textUpdate = tickUpdate.select("text");
        switch (orient) {
         case "bottom":
          {
            tickTransform = d3_svg_axisX;
            lineEnter.attr("y2", innerTickSize);
            textEnter.attr("y", Math.max(innerTickSize, 0) + tickPadding);
            lineUpdate.attr("x2", 0).attr("y2", innerTickSize);
            textUpdate.attr("x", 0).attr("y", Math.max(innerTickSize, 0) + tickPadding);
            text.attr("dy", ".71em").style("text-anchor", "middle");
            pathUpdate.attr("d", "M" + range[0] + "," + outerTickSize + "V0H" + range[1] + "V" + outerTickSize);
            break;
          }

         case "top":
          {
            tickTransform = d3_svg_axisX;
            lineEnter.attr("y2", -innerTickSize);
            textEnter.attr("y", -(Math.max(innerTickSize, 0) + tickPadding));
            lineUpdate.attr("x2", 0).attr("y2", -innerTickSize);
            textUpdate.attr("x", 0).attr("y", -(Math.max(innerTickSize, 0) + tickPadding));
            text.attr("dy", "0em").style("text-anchor", "middle");
            pathUpdate.attr("d", "M" + range[0] + "," + -outerTickSize + "V0H" + range[1] + "V" + -outerTickSize);
            break;
          }

         case "left":
          {
            tickTransform = d3_svg_axisY;
            lineEnter.attr("x2", -innerTickSize);
            textEnter.attr("x", -(Math.max(innerTickSize, 0) + tickPadding));
            lineUpdate.attr("x2", -innerTickSize).attr("y2", 0);
            textUpdate.attr("x", -(Math.max(innerTickSize, 0) + tickPadding)).attr("y", 0);
            text.attr("dy", ".32em").style("text-anchor", "end");
            pathUpdate.attr("d", "M" + -outerTickSize + "," + range[0] + "H0V" + range[1] + "H" + -outerTickSize);
            break;
          }

         case "right":
          {
            tickTransform = d3_svg_axisY;
            lineEnter.attr("x2", innerTickSize);
            textEnter.attr("x", Math.max(innerTickSize, 0) + tickPadding);
            lineUpdate.attr("x2", innerTickSize).attr("y2", 0);
            textUpdate.attr("x", Math.max(innerTickSize, 0) + tickPadding).attr("y", 0);
            text.attr("dy", ".32em").style("text-anchor", "start");
            pathUpdate.attr("d", "M" + outerTickSize + "," + range[0] + "H0V" + range[1] + "H" + outerTickSize);
            break;
          }
        }
        if (scale1.rangeBand) {
          var x = scale1, dx = x.rangeBand() / 2;
          scale0 = scale1 = function(d) {
            return x(d) + dx;
          };
        } else if (scale0.rangeBand) {
          scale0 = scale1;
        } else {
          tickExit.call(tickTransform, scale1);
        }
        tickEnter.call(tickTransform, scale0);
        tickUpdate.call(tickTransform, scale1);
      });
    }
    axis.scale = function(x) {
      if (!arguments.length) return scale;
      scale = x;
      return axis;
    };
    axis.orient = function(x) {
      if (!arguments.length) return orient;
      orient = x in d3_svg_axisOrients ? x + "" : d3_svg_axisDefaultOrient;
      return axis;
    };
    axis.ticks = function() {
      if (!arguments.length) return tickArguments_;
      tickArguments_ = arguments;
      return axis;
    };
    axis.tickValues = function(x) {
      if (!arguments.length) return tickValues;
      tickValues = x;
      return axis;
    };
    axis.tickFormat = function(x) {
      if (!arguments.length) return tickFormat_;
      tickFormat_ = x;
      return axis;
    };
    axis.tickSize = function(x) {
      var n = arguments.length;
      if (!n) return innerTickSize;
      innerTickSize = +x;
      outerTickSize = +arguments[n - 1];
      return axis;
    };
    axis.innerTickSize = function(x) {
      if (!arguments.length) return innerTickSize;
      innerTickSize = +x;
      return axis;
    };
    axis.outerTickSize = function(x) {
      if (!arguments.length) return outerTickSize;
      outerTickSize = +x;
      return axis;
    };
    axis.tickPadding = function(x) {
      if (!arguments.length) return tickPadding;
      tickPadding = +x;
      return axis;
    };
    axis.tickSubdivide = function() {
      return arguments.length && axis;
    };
    return axis;
  };
  var d3_svg_axisDefaultOrient = "bottom", d3_svg_axisOrients = {
    top: 1,
    right: 1,
    bottom: 1,
    left: 1
  };
  function d3_svg_axisX(selection, x) {
    selection.attr("transform", function(d) {
      return "translate(" + x(d) + ",0)";
    });
  }
  function d3_svg_axisY(selection, y) {
    selection.attr("transform", function(d) {
      return "translate(0," + y(d) + ")";
    });
  }
  d3.svg.brush = function() {
    var event = d3_eventDispatch(brush, "brushstart", "brush", "brushend"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];
    function brush(g) {
      g.each(function() {
        var g = d3.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", brushstart).on("touchstart.brush", brushstart);
        var background = g.selectAll(".background").data([ 0 ]);
        background.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair");
        g.selectAll(".extent").data([ 0 ]).enter().append("rect").attr("class", "extent").style("cursor", "move");
        var resize = g.selectAll(".resize").data(resizes, d3_identity);
        resize.exit().remove();
        resize.enter().append("g").attr("class", function(d) {
          return "resize " + d;
        }).style("cursor", function(d) {
          return d3_svg_brushCursor[d];
        }).append("rect").attr("x", function(d) {
          return /[ew]$/.test(d) ? -3 : null;
        }).attr("y", function(d) {
          return /^[ns]/.test(d) ? -3 : null;
        }).attr("width", 6).attr("height", 6).style("visibility", "hidden");
        resize.style("display", brush.empty() ? "none" : null);
        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;
        if (x) {
          range = d3_scaleRange(x);
          backgroundUpdate.attr("x", range[0]).attr("width", range[1] - range[0]);
          redrawX(gUpdate);
        }
        if (y) {
          range = d3_scaleRange(y);
          backgroundUpdate.attr("y", range[0]).attr("height", range[1] - range[0]);
          redrawY(gUpdate);
        }
        redraw(gUpdate);
      });
    }
    brush.event = function(g) {
      g.each(function() {
        var event_ = event.of(this, arguments), extent1 = {
          x: xExtent,
          y: yExtent,
          i: xExtentDomain,
          j: yExtentDomain
        }, extent0 = this.__chart__ || extent1;
        this.__chart__ = extent1;
        if (d3_transitionInheritId) {
          d3.select(this).transition().each("start.brush", function() {
            xExtentDomain = extent0.i;
            yExtentDomain = extent0.j;
            xExtent = extent0.x;
            yExtent = extent0.y;
            event_({
              type: "brushstart"
            });
          }).tween("brush:brush", function() {
            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);
            xExtentDomain = yExtentDomain = null;
            return function(t) {
              xExtent = extent1.x = xi(t);
              yExtent = extent1.y = yi(t);
              event_({
                type: "brush",
                mode: "resize"
              });
            };
          }).each("end.brush", function() {
            xExtentDomain = extent1.i;
            yExtentDomain = extent1.j;
            event_({
              type: "brush",
              mode: "resize"
            });
            event_({
              type: "brushend"
            });
          });
        } else {
          event_({
            type: "brushstart"
          });
          event_({
            type: "brush",
            mode: "resize"
          });
          event_({
            type: "brushend"
          });
        }
      });
    };
    function redraw(g) {
      g.selectAll(".resize").attr("transform", function(d) {
        return "translate(" + xExtent[+/e$/.test(d)] + "," + yExtent[+/^s/.test(d)] + ")";
      });
    }
    function redrawX(g) {
      g.select(".extent").attr("x", xExtent[0]);
      g.selectAll(".extent,.n>rect,.s>rect").attr("width", xExtent[1] - xExtent[0]);
    }
    function redrawY(g) {
      g.select(".extent").attr("y", yExtent[0]);
      g.selectAll(".extent,.e>rect,.w>rect").attr("height", yExtent[1] - yExtent[0]);
    }
    function brushstart() {
      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed("extent"), dragRestore = d3_event_dragSuppress(), center, origin = d3.mouse(target), offset;
      var w = d3.select(d3_window).on("keydown.brush", keydown).on("keyup.brush", keyup);
      if (d3.event.changedTouches) {
        w.on("touchmove.brush", brushmove).on("touchend.brush", brushend);
      } else {
        w.on("mousemove.brush", brushmove).on("mouseup.brush", brushend);
      }
      g.interrupt().selectAll("*").interrupt();
      if (dragging) {
        origin[0] = xExtent[0] - origin[0];
        origin[1] = yExtent[0] - origin[1];
      } else if (resizing) {
        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);
        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];
        origin[0] = xExtent[ex];
        origin[1] = yExtent[ey];
      } else if (d3.event.altKey) center = origin.slice();
      g.style("pointer-events", "none").selectAll(".resize").style("display", null);
      d3.select("body").style("cursor", eventTarget.style("cursor"));
      event_({
        type: "brushstart"
      });
      brushmove();
      function keydown() {
        if (d3.event.keyCode == 32) {
          if (!dragging) {
            center = null;
            origin[0] -= xExtent[1];
            origin[1] -= yExtent[1];
            dragging = 2;
          }
          d3_eventPreventDefault();
        }
      }
      function keyup() {
        if (d3.event.keyCode == 32 && dragging == 2) {
          origin[0] += xExtent[1];
          origin[1] += yExtent[1];
          dragging = 0;
          d3_eventPreventDefault();
        }
      }
      function brushmove() {
        var point = d3.mouse(target), moved = false;
        if (offset) {
          point[0] += offset[0];
          point[1] += offset[1];
        }
        if (!dragging) {
          if (d3.event.altKey) {
            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];
            origin[0] = xExtent[+(point[0] < center[0])];
            origin[1] = yExtent[+(point[1] < center[1])];
          } else center = null;
        }
        if (resizingX && move1(point, x, 0)) {
          redrawX(g);
          moved = true;
        }
        if (resizingY && move1(point, y, 1)) {
          redrawY(g);
          moved = true;
        }
        if (moved) {
          redraw(g);
          event_({
            type: "brush",
            mode: dragging ? "move" : "resize"
          });
        }
      }
      function move1(point, scale, i) {
        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;
        if (dragging) {
          r0 -= position;
          r1 -= size + position;
        }
        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];
        if (dragging) {
          max = (min += position) + size;
        } else {
          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));
          if (position < min) {
            max = min;
            min = position;
          } else {
            max = position;
          }
        }
        if (extent[0] != min || extent[1] != max) {
          if (i) yExtentDomain = null; else xExtentDomain = null;
          extent[0] = min;
          extent[1] = max;
          return true;
        }
      }
      function brushend() {
        brushmove();
        g.style("pointer-events", "all").selectAll(".resize").style("display", brush.empty() ? "none" : null);
        d3.select("body").style("cursor", null);
        w.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null);
        dragRestore();
        event_({
          type: "brushend"
        });
      }
    }
    brush.x = function(z) {
      if (!arguments.length) return x;
      x = z;
      resizes = d3_svg_brushResizes[!x << 1 | !y];
      return brush;
    };
    brush.y = function(z) {
      if (!arguments.length) return y;
      y = z;
      resizes = d3_svg_brushResizes[!x << 1 | !y];
      return brush;
    };
    brush.clamp = function(z) {
      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;
      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;
      return brush;
    };
    brush.extent = function(z) {
      var x0, x1, y0, y1, t;
      if (!arguments.length) {
        if (x) {
          if (xExtentDomain) {
            x0 = xExtentDomain[0], x1 = xExtentDomain[1];
          } else {
            x0 = xExtent[0], x1 = xExtent[1];
            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);
            if (x1 < x0) t = x0, x0 = x1, x1 = t;
          }
        }
        if (y) {
          if (yExtentDomain) {
            y0 = yExtentDomain[0], y1 = yExtentDomain[1];
          } else {
            y0 = yExtent[0], y1 = yExtent[1];
            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);
            if (y1 < y0) t = y0, y0 = y1, y1 = t;
          }
        }
        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];
      }
      if (x) {
        x0 = z[0], x1 = z[1];
        if (y) x0 = x0[0], x1 = x1[0];
        xExtentDomain = [ x0, x1 ];
        if (x.invert) x0 = x(x0), x1 = x(x1);
        if (x1 < x0) t = x0, x0 = x1, x1 = t;
        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];
      }
      if (y) {
        y0 = z[0], y1 = z[1];
        if (x) y0 = y0[1], y1 = y1[1];
        yExtentDomain = [ y0, y1 ];
        if (y.invert) y0 = y(y0), y1 = y(y1);
        if (y1 < y0) t = y0, y0 = y1, y1 = t;
        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];
      }
      return brush;
    };
    brush.clear = function() {
      if (!brush.empty()) {
        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];
        xExtentDomain = yExtentDomain = null;
      }
      return brush;
    };
    brush.empty = function() {
      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];
    };
    return d3.rebind(brush, event, "on");
  };
  var d3_svg_brushCursor = {
    n: "ns-resize",
    e: "ew-resize",
    s: "ns-resize",
    w: "ew-resize",
    nw: "nwse-resize",
    ne: "nesw-resize",
    se: "nwse-resize",
    sw: "nesw-resize"
  };
  var d3_svg_brushResizes = [ [ "n", "e", "s", "w", "nw", "ne", "se", "sw" ], [ "e", "w" ], [ "n", "s" ], [] ];
  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;
  var d3_time_formatUtc = d3_time_format.utc;
  var d3_time_formatIso = d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");
  d3_time_format.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? d3_time_formatIsoNative : d3_time_formatIso;
  function d3_time_formatIsoNative(date) {
    return date.toISOString();
  }
  d3_time_formatIsoNative.parse = function(string) {
    var date = new Date(string);
    return isNaN(date) ? null : date;
  };
  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;
  d3_time.second = d3_time_interval(function(date) {
    return new d3_date(Math.floor(date / 1e3) * 1e3);
  }, function(date, offset) {
    date.setTime(date.getTime() + Math.floor(offset) * 1e3);
  }, function(date) {
    return date.getSeconds();
  });
  d3_time.seconds = d3_time.second.range;
  d3_time.seconds.utc = d3_time.second.utc.range;
  d3_time.minute = d3_time_interval(function(date) {
    return new d3_date(Math.floor(date / 6e4) * 6e4);
  }, function(date, offset) {
    date.setTime(date.getTime() + Math.floor(offset) * 6e4);
  }, function(date) {
    return date.getMinutes();
  });
  d3_time.minutes = d3_time.minute.range;
  d3_time.minutes.utc = d3_time.minute.utc.range;
  d3_time.hour = d3_time_interval(function(date) {
    var timezone = date.getTimezoneOffset() / 60;
    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);
  }, function(date, offset) {
    date.setTime(date.getTime() + Math.floor(offset) * 36e5);
  }, function(date) {
    return date.getHours();
  });
  d3_time.hours = d3_time.hour.range;
  d3_time.hours.utc = d3_time.hour.utc.range;
  d3_time.month = d3_time_interval(function(date) {
    date = d3_time.day(date);
    date.setDate(1);
    return date;
  }, function(date, offset) {
    date.setMonth(date.getMonth() + offset);
  }, function(date) {
    return date.getMonth();
  });
  d3_time.months = d3_time.month.range;
  d3_time.months.utc = d3_time.month.utc.range;
  function d3_time_scale(linear, methods, format) {
    function scale(x) {
      return linear(x);
    }
    scale.invert = function(x) {
      return d3_time_scaleDate(linear.invert(x));
    };
    scale.domain = function(x) {
      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);
      linear.domain(x);
      return scale;
    };
    function tickMethod(extent, count) {
      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);
      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {
        return d / 31536e6;
      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];
    }
    scale.nice = function(interval, skip) {
      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === "number" && tickMethod(extent, interval);
      if (method) interval = method[0], skip = method[1];
      function skipped(date) {
        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;
      }
      return scale.domain(d3_scale_nice(domain, skip > 1 ? {
        floor: function(date) {
          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);
          return date;
        },
        ceil: function(date) {
          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);
          return date;
        }
      } : interval));
    };
    scale.ticks = function(interval, skip) {
      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === "number" ? tickMethod(extent, interval) : !interval.range && [ {
        range: interval
      }, skip ];
      if (method) interval = method[0], skip = method[1];
      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);
    };
    scale.tickFormat = function() {
      return format;
    };
    scale.copy = function() {
      return d3_time_scale(linear.copy(), methods, format);
    };
    return d3_scale_linearRebind(scale, linear);
  }
  function d3_time_scaleDate(t) {
    return new Date(t);
  }
  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];
  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];
  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ ".%L", function(d) {
    return d.getMilliseconds();
  } ], [ ":%S", function(d) {
    return d.getSeconds();
  } ], [ "%I:%M", function(d) {
    return d.getMinutes();
  } ], [ "%I %p", function(d) {
    return d.getHours();
  } ], [ "%a %d", function(d) {
    return d.getDay() && d.getDate() != 1;
  } ], [ "%b %d", function(d) {
    return d.getDate() != 1;
  } ], [ "%B", function(d) {
    return d.getMonth();
  } ], [ "%Y", d3_true ] ]);
  var d3_time_scaleMilliseconds = {
    range: function(start, stop, step) {
      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);
    },
    floor: d3_identity,
    ceil: d3_identity
  };
  d3_time_scaleLocalMethods.year = d3_time.year;
  d3_time.scale = function() {
    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);
  };
  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {
    return [ m[0].utc, m[1] ];
  });
  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ ".%L", function(d) {
    return d.getUTCMilliseconds();
  } ], [ ":%S", function(d) {
    return d.getUTCSeconds();
  } ], [ "%I:%M", function(d) {
    return d.getUTCMinutes();
  } ], [ "%I %p", function(d) {
    return d.getUTCHours();
  } ], [ "%a %d", function(d) {
    return d.getUTCDay() && d.getUTCDate() != 1;
  } ], [ "%b %d", function(d) {
    return d.getUTCDate() != 1;
  } ], [ "%B", function(d) {
    return d.getUTCMonth();
  } ], [ "%Y", d3_true ] ]);
  d3_time_scaleUtcMethods.year = d3_time.year.utc;
  d3_time.scale.utc = function() {
    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);
  };
  d3.text = d3_xhrType(function(request) {
    return request.responseText;
  });
  d3.json = function(url, callback) {
    return d3_xhr(url, "application/json", d3_json, callback);
  };
  function d3_json(request) {
    return JSON.parse(request.responseText);
  }
  d3.html = function(url, callback) {
    return d3_xhr(url, "text/html", d3_html, callback);
  };
  function d3_html(request) {
    var range = d3_document.createRange();
    range.selectNode(d3_document.body);
    return range.createContextualFragment(request.responseText);
  }
  d3.xml = d3_xhrType(function(request) {
    return request.responseXML;
  });
  if (typeof define === "function" && define.amd) {
    define(d3);
  } else if (typeof module === "object" && module.exports) {
    module.exports = d3;
  } else {
    this.d3 = d3;
  }
}();;/* qTip2 v2.2.0 tips modal viewport svg imagemap ie6 | qtip2.com | Licensed MIT, GPL | Thu Nov 21 2013 20:34:59 */
(function(t,e,i){(function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)})(function(s){"use strict";function o(t,e,i,o){this.id=i,this.target=t,this.tooltip=E,this.elements={target:t},this._id=X+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:s(),disabled:k,attr:o,onTooltip:k,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=k}function n(t){return t===E||"object"!==s.type(t)}function r(t){return!(s.isFunction(t)||t&&t.attr||t.length||"object"===s.type(t)&&(t.jquery||t.then))}function a(t){var e,i,o,a;return n(t)?k:(n(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,n(e)||e.jquery||e.done?e=t.content={text:i=r(e)?k:e}:i=e.text,"ajax"in e&&(o=e.ajax,a=o&&o.once!==k,delete e.ajax,e.text=function(t,e){var n=i||s(this).attr(e.options.content.attr)||"Loading...",r=s.ajax(s.extend({},o,{context:e})).then(o.success,E,o.error).then(function(t){return t&&a&&e.set("content.text",t),t},function(t,i,s){e.destroyed||0===t.status||e.set("content.text",i+": "+s)});return a?n:(e.set("content.text",n),r)}),"title"in e&&(n(e.title)||(e.button=e.title.button,e.title=e.title.text),r(e.title||k)&&(e.title=k))),"position"in t&&n(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&n(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===W?{ready:W}:{event:t.show}),"hide"in t&&n(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&n(t.style)&&(t.style={classes:t.style}),s.each(R,function(){this.sanitize&&this.sanitize(t)}),t)}function h(t,e){for(var i,s=0,o=t,n=e.split(".");o=o[n[s++]];)n.length>s&&(i=o);return[i||t,n.pop()]}function l(t,e){var i,s,o;for(i in this.checks)for(s in this.checks[i])(o=RegExp(s,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][s].apply(this.plugins[i]||this,e))}function c(t){return G.concat("").join(t?"-"+t+" ":" ")}function d(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function p(t,e){return e>0?setTimeout(s.proxy(t,this),e):(t.call(this),i)}function u(t){return this.tooltip.hasClass(ee)?k:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=p.call(this,function(){this.toggle(W,t)},this.options.show.delay),i)}function f(t){if(this.tooltip.hasClass(ee))return k;var e=s(t.relatedTarget),i=e.closest(U)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(n){}else this.timers.hide=p.call(this,function(){this.toggle(k,t)},this.options.hide.delay,this)}function g(t){return this.tooltip.hasClass(ee)||!this.options.hide.inactive?k:(clearTimeout(this.timers.inactive),this.timers.inactive=p.call(this,function(){this.hide(t)},this.options.hide.inactive),i)}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function v(t,i,o){s(e.body).delegate(t,(i.split?i:i.join(he+" "))+he,function(){var t=T.api[s.attr(this,H)];t&&!t.disabled&&o.apply(t,arguments)})}function y(t,i,n){var r,h,l,c,d,p=s(e.body),u=t[0]===e?p:t,f=t.metadata?t.metadata(n.metadata):E,g="html5"===n.metadata.type&&f?f[n.metadata.name]:E,m=t.data(n.metadata.name||"qtipopts");try{m="string"==typeof m?s.parseJSON(m):m}catch(v){}if(c=s.extend(W,{},T.defaults,n,"object"==typeof m?a(m):E,a(g||f)),h=c.position,c.id=i,"boolean"==typeof c.content.text){if(l=t.attr(c.content.attr),c.content.attr===k||!l)return k;c.content.text=l}if(h.container.length||(h.container=p),h.target===k&&(h.target=u),c.show.target===k&&(c.show.target=u),c.show.solo===W&&(c.show.solo=h.container.closest("body")),c.hide.target===k&&(c.hide.target=u),c.position.viewport===W&&(c.position.viewport=h.container),h.container=h.container.eq(0),h.at=new z(h.at,W),h.my=new z(h.my),t.data(X))if(c.overwrite)t.qtip("destroy",!0);else if(c.overwrite===k)return k;return t.attr(Y,i),c.suppress&&(d=t.attr("title"))&&t.removeAttr("title").attr(se,d).attr("title",""),r=new o(t,c,i,!!l),t.data(X,r),t.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var t;(t=s(this).data(X))&&t.destroy(!0)}),r}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e){var s,o,n=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+be.join(n+" ")+n).split(" "),a=0;if(ye[e])return t.css(ye[e]);for(;s=r[a++];)if((o=t.css(s))!==i)return ye[e]=s,o}function _(t,e){return Math.ceil(parseFloat(w(t,e)))}function x(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function q(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function C(t){this._ns="ie6",this.init(this.qtip=t)}var T,j,z,M,I,W=!0,k=!1,E=null,S="x",L="y",A="width",B="height",D="top",F="left",O="bottom",P="right",N="center",$="flipinvert",V="shift",R={},X="qtip",Y="data-hasqtip",H="data-qtip-id",G=["ui-widget","ui-tooltip"],U="."+X,Q="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),J=X+"-fixed",K=X+"-default",Z=X+"-focus",te=X+"-hover",ee=X+"-disabled",ie="_replacedByqTip",se="oldtitle",oe={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||k};j=o.prototype,j._when=function(t){return s.when.apply(s,t)},j.render=function(t){if(this.rendered||this.destroyed)return this;var e,i=this,o=this.options,n=this.cache,r=this.elements,a=o.content.text,h=o.content.title,l=o.content.button,c=o.position,d=("."+this._id+" ",[]);return s.attr(this.target[0],"aria-describedby",this._id),this.tooltip=r.tooltip=e=s("<div/>",{id:this._id,"class":[X,K,o.style.classes,X+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":k,"aria-describedby":this._id+"-content","aria-hidden":W}).toggleClass(ee,this.disabled).attr(H,this.id).data(X,this).appendTo(c.container).append(r.content=s("<div />",{"class":X+"-content",id:this._id+"-content","aria-atomic":W})),this.rendered=-1,this.positioning=W,h&&(this._createTitle(),s.isFunction(h)||d.push(this._updateTitle(h,k))),l&&this._createButton(),s.isFunction(a)||d.push(this._updateContent(a,k)),this.rendered=W,this._setWidget(),s.each(R,function(t){var e;"render"===this.initialize&&(e=this(i))&&(i.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){i._trigger("render"),i.positioning=k,i.hiddenDuringWait||!o.show.ready&&!t||i.toggle(W,n.event,k),i.hiddenDuringWait=k}),T.api[this.id]=this,this},j.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=W;var t=this.target,e=t.attr(se);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),s.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(X).removeAttr(H).removeAttr(Y).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(se),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=E,delete T.api[this.id]}}return this.destroyed?this.target:(t===W&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",s.proxy(e,this)),!this.triggering&&this.hide()),this.target)},M=j.checks={builtin:{"^id$":function(t,e,i,o){var n=i===W?T.nextid:i,r=X+"-"+n;n!==k&&n.length>0&&!s("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,s){this.options.content.text===this.target.attr(s)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,s){return s?(s&&!this.elements.title&&this._createTitle(),this._updateTitle(s),i):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new z(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(W)||this.toggle(W))},"^style.classes$":function(t,e,i,s){this.rendered&&this.tooltip.removeClass(s).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(K,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(s.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},j.get=function(t){if(this.destroyed)return this;var e=h(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var ne=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,re=/^prerender|show\.ready/i;j.set=function(t,e){if(this.destroyed)return this;var o,n=this.rendered,r=k,c=this.options;return this.checks,"string"==typeof t?(o=t,t={},t[o]=e):t=s.extend({},t),s.each(t,function(e,o){if(n&&re.test(e))return delete t[e],i;var a,l=h(c,e.toLowerCase());a=l[0][l[1]],l[0][l[1]]=o&&o.nodeType?s(o):o,r=ne.test(e)||r,t[e]=[l[0],l[1],o,a]}),a(c),this.positioning=W,s.each(t,s.proxy(l,this)),this.positioning=k,this.rendered&&this.tooltip[0].offsetWidth>0&&r&&this.reposition("mouse"===c.position.target?E:this.cache.event),this},j._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(s.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),s.isFunction(t.then)?(o.waiting=W,t.then(function(t){return o.waiting=k,i._update(t,e)},E,function(t){return i._update(t,e)})):t===k||!t&&""!==t?k:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!t.length)}))):k},j._waitForContent=function(t){var e=this.cache;return e.waiting=W,(s.fn.imagesLoaded?t.imagesLoaded():s.Deferred().resolve([])).done(function(){e.waiting=k}).promise()},j._updateContent=function(t,e){this._update(t,this.elements.content,e)},j._updateTitle=function(t,e){this._update(t,this.elements.title,e)===k&&this._removeTitle(k)},j._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=s("<div />",{"class":X+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(t.title=s("<div />",{id:e,"class":X+"-title","aria-atomic":W})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){s(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){s(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},j._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=E,t!==k&&this.reposition())},j.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=W;var n,r,a=this.cache,h=this.tooltip,l=this.options.position,c=l.target,d=l.my,p=l.at,u=l.viewport,f=l.container,g=l.adjust,m=g.method.split(" "),v=h.outerWidth(k),y=h.outerHeight(k),b=0,w=0,_=h.css("position"),x={left:0,top:0},q=h[0].offsetWidth>0,C=i&&"scroll"===i.type,T=s(t),j=f[0].ownerDocument,z=this.mouse;if(s.isArray(c)&&2===c.length)p={x:F,y:D},x={left:c[0],top:c[1]};else if("mouse"===c)p={x:F,y:D},!z||!z.pageX||!g.mouse&&i&&i.pageX?i&&i.pageX||((!g.mouse||this.options.show.distance)&&a.origin&&a.origin.pageX?i=a.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=a.event)):i=z,"static"!==_&&(x=f.offset()),j.body.offsetWidth!==(t.innerWidth||j.documentElement.clientWidth)&&(r=s(e.body).offset()),x={left:i.pageX-x.left+(r&&r.left||0),top:i.pageY-x.top+(r&&r.top||0)},g.mouse&&C&&z&&(x.left-=(z.scrollX||0)-T.scrollLeft(),x.top-=(z.scrollY||0)-T.scrollTop());else{if("event"===c?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?a.target=s(i.target):i.target||(a.target=this.elements.target):"event"!==c&&(a.target=s(c.jquery?c:this.elements.target)),c=a.target,c=s(c).eq(0),0===c.length)return this;c[0]===e||c[0]===t?(b=oe.iOS?t.innerWidth:c.width(),w=oe.iOS?t.innerHeight:c.height(),c[0]===t&&(x={top:(u||c).scrollTop(),left:(u||c).scrollLeft()})):R.imagemap&&c.is("area")?n=R.imagemap(this,c,p,R.viewport?m:k):R.svg&&c&&c[0].ownerSVGElement?n=R.svg(this,c,p,R.viewport?m:k):(b=c.outerWidth(k),w=c.outerHeight(k),x=c.offset()),n&&(b=n.width,w=n.height,r=n.offset,x=n.position),x=this.reposition.offset(c,x,f),(oe.iOS>3.1&&4.1>oe.iOS||oe.iOS>=4.3&&4.33>oe.iOS||!oe.iOS&&"fixed"===_)&&(x.left-=T.scrollLeft(),x.top-=T.scrollTop()),(!n||n&&n.adjustable!==k)&&(x.left+=p.x===P?b:p.x===N?b/2:0,x.top+=p.y===O?w:p.y===N?w/2:0)}return x.left+=g.x+(d.x===P?-v:d.x===N?-v/2:0),x.top+=g.y+(d.y===O?-y:d.y===N?-y/2:0),R.viewport?(x.adjusted=R.viewport(this,x,l,b,w,v,y),r&&x.adjusted.left&&(x.left+=r.left),r&&x.adjusted.top&&(x.top+=r.top)):x.adjusted={left:0,top:0},this._trigger("move",[x,u.elem||u],i)?(delete x.adjusted,o===k||!q||isNaN(x.left)||isNaN(x.top)||"mouse"===c||!s.isFunction(l.effect)?h.css(x):s.isFunction(l.effect)&&(l.effect.call(h,this,s.extend({},x)),h.queue(function(t){s(this).css({opacity:"",height:""}),oe.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=k,this):this},j.reposition.offset=function(t,i,o){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var r,a,h,l,c=s(t[0].ownerDocument),d=!!oe.ie&&"CSS1Compat"!==e.compatMode,p=o[0];do"static"!==(a=s.css(p,"position"))&&("fixed"===a?(h=p.getBoundingClientRect(),n(c,-1)):(h=s(p).position(),h.left+=parseFloat(s.css(p,"borderLeftWidth"))||0,h.top+=parseFloat(s.css(p,"borderTopWidth"))||0),i.left-=h.left+(parseFloat(s.css(p,"marginLeft"))||0),i.top-=h.top+(parseFloat(s.css(p,"marginTop"))||0),r||"hidden"===(l=s.css(p,"overflow"))||"visible"===l||(r=s(p)));while(p=p.offsetParent);return r&&(r[0]!==c[0]||d)&&n(r,1),i};var ae=(z=j.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,N).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?L:S}).prototype;ae.invert=function(t,e){this[t]=this[t]===F?P:this[t]===P?F:e||this[t]},ae.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===L||this.forceY&&"center"!==e?e+" "+t:t+" "+e},ae.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},ae.clone=function(){return new z(this.string(),this.forceY)},j.toggle=function(t,i){var o=this.cache,n=this.options,r=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(o.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&r.has(i.relatedTarget).length)return this;o.event=d(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=W),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,h,l,c=t?"show":"hide",p=this.options[c],u=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,g=this.tooltip.css("width"),m=this.tooltip.is(":visible"),v=t||1===p.target.length,y=!i||2>p.target.length||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!m),a=!r.is(":animated")&&m===t&&y,h=a?E:!!this._trigger(c,[90]),this.destroyed?this:(h!==k&&t&&this.focus(i),!h||a?this:(s.attr(r[0],"aria-hidden",!t),t?(o.origin=d(this.mouse),s.isFunction(f.text)&&this._updateContent(f.text,k),s.isFunction(f.title)&&this._updateTitle(f.title,k),!I&&"mouse"===u.target&&u.adjust.mouse&&(s(e).bind("mousemove."+X,this._storeMouse),I=W),g||r.css("width",r.outerWidth(k)),this.reposition(i,arguments[2]),g||r.css("width",""),p.solo&&("string"==typeof p.solo?s(p.solo):s(U,p.solo)).not(r).not(p.target).qtip("hide",s.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,I&&!s(U+'[tracking="true"]:visible',p.solo).not(r).length&&(s(e).unbind("mousemove."+X),I=k),this.blur(i)),l=s.proxy(function(){t?(oe.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof p.autofocus&&s(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),p.effect===k||v===k?(r[c](),l()):s.isFunction(p.effect)?(r.stop(1,1),p.effect.call(r,this),r.queue("fx",function(t){l(),t()})):r.fadeTo(90,t?1:0,l),t&&p.target.trigger("qtip-"+this.id+"-inactive"),this))},j.show=function(t){return this.toggle(W,t)},j.hide=function(t){return this.toggle(k,t)},j.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=s(U),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),n=T.zindex+e.length;return i.hasClass(Z)||this._trigger("focus",[n],t)&&(o!==n&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+Z).qtip("blur",t)),i.addClass(Z)[0].style.zIndex=n),this},j.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Z),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},j.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof t&&(t=W),this.rendered&&this.tooltip.toggleClass(ee,t).attr("aria-disabled",t),this.disabled=!!t,this)},j.enable=function(){return this.disable(k)},j._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,n="string"==typeof o,r=n?o:"Close tooltip";e.button&&e.button.remove(),e.button=o.jquery?o:s("<a />",{"class":"qtip-close "+(this.options.style.widget?"":X+"-icon"),title:r,"aria-label":r}).prepend(s("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(ee)||t.hide(e),k})},j._updateButton=function(t){if(!this.rendered)return k;var e=this.elements.button;t?this._createButton():e.remove()},j._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,s=i.hasClass(ee);i.removeClass(ee),ee=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(ee,s),i.toggleClass("ui-helper-reset "+c(),t).toggleClass(K,this.options.style.def&&!t),e.content&&e.content.toggleClass(c("content"),t),e.titlebar&&e.titlebar.toggleClass(c("header"),t),e.button&&e.button.toggleClass(X+"-icon",!t)},j._storeMouse=function(t){(this.mouse=d(t)).type="mousemove"},j._bind=function(t,e,i,o,n){var r="."+this._id+(o?"-"+o:"");e.length&&s(t).bind((e.split?e:e.join(r+" "))+r,s.proxy(i,n||this))},j._unbind=function(t,e){s(t).unbind("."+this._id+(e?"-"+e:""))};var he="."+X;s(function(){v(U,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=s(t.currentTarget),o=s(t.relatedTarget||t.target),n=this.options;e?(this.focus(t),i.hasClass(J)&&!i.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.hide.event&&n.show.target&&!o.closest(n.show.target[0]).length&&this.hide(t),i.toggleClass(te,e)}),v("["+H+"]",Q,g)}),j._trigger=function(t,e,i){var o=s.Event("tooltip"+t);return o.originalEvent=i&&s.extend({},i)||this.cache.event||E,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=k,!o.isDefaultPrevented()},j._bindEvents=function(t,e,o,n,r,a){if(n.add(o).length===n.length){var h=[];e=s.map(e,function(e){var o=s.inArray(e,t);return o>-1?(h.push(t.splice(o,1)[0]),i):e}),h.length&&this._bind(o,h,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?a:r).call(this,t)})}this._bind(o,t,r),this._bind(n,e,a)},j._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?k:(this.cache.event=d(t),this.cache.target=t?s(t.target):[i],clearTimeout(this.timers.show),this.timers.show=p.call(this,function(){this.render("object"==typeof t||o.show.ready)},o.show.delay),i)}var o=this.options,n=o.show.target,r=o.hide.target,a=o.show.event?s.trim(""+o.show.event).split(" "):[],h=o.hide.event?s.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&h.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=W}),this._bindEvents(a,h,n,r,e,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&e.call(this,t)},j._assignEvents=function(){var i=this,o=this.options,n=o.position,r=this.tooltip,a=o.show.target,h=o.hide.target,l=n.container,c=n.viewport,d=s(e),p=(s(e.body),s(t)),v=o.show.event?s.trim(""+o.show.event).split(" "):[],y=o.hide.event?s.trim(""+o.hide.event).split(" "):[];s.each(o.events,function(t,e){i._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(d,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?h=h.add(r.addClass(J)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(h,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(l.closest("html"),["mousedown","touchstart"],function(t){var e=s(t.target),i=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,o=e.parents(U).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",g),this._bind(h.add(r),T.inactiveEvents,g,"-inactive")),this._bindEvents(v,y,a,h,u,f),this._bind(a.add(r),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,s=Math.abs;(s(t.pageX-e.pageX)>=i||s(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===n.target&&n.adjust.mouse&&(o.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(d,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(n.adjust.resize||c.length)&&this._bind(s.event.special.resize?c:p,"resize",m),n.adjust.scroll&&this._bind(p.add(n.container),"scroll",m)},j._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(s([]).pushStack(s.grep(i,function(t){return"object"==typeof t})))},T=s.fn.qtip=function(t,e,o){var n=(""+t).toLowerCase(),r=E,h=s.makeArray(arguments).slice(1),l=h[h.length-1],c=this[0]?s.data(this[0],X):E;return!arguments.length&&c||"api"===n?c:"string"==typeof t?(this.each(function(){var t=s.data(this,X);if(!t)return W;if(l&&l.timeStamp&&(t.cache.event=l),!e||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,h);else{if(o===i&&!s.isPlainObject(e))return r=t.get(e),k;t.set(e,o)}}),r!==E?r:this):"object"!=typeof t&&arguments.length?i:(c=a(s.extend(W,{},t)),this.each(function(t){var e,o;return o=s.isArray(c.id)?c.id[t]:c.id,o=!o||o===k||1>o.length||T.api[o]?T.nextid++:o,e=y(s(this),o,c),e===k?W:(T.api[o]=e,s.each(R,function(){"initialize"===this.initialize&&this(e)}),e._assignInitialEvents(l),i)}))},s.qtip=o,T.api={},s.each({attr:function(t,e){if(this.length){var i=this[0],o="title",n=s.data(i,"qtip");if(t===o&&n&&"object"==typeof n&&n.options.suppress)return 2>arguments.length?s.attr(i,se):(n&&n.options.content.attr===o&&n.cache.attr&&n.set("content.text",e),this.attr(se,e))}return s.fn["attr"+ie].apply(this,arguments)},clone:function(t){var e=(s([]),s.fn["clone"+ie].apply(this,arguments));return t||e.filter("["+se+"]").attr("title",function(){return s.attr(this,se)}).removeAttr(se),e}},function(t,e){if(!e||s.fn[t+ie])return W;var i=s.fn[t+ie]=s.fn[t];s.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),s.ui||(s["cleanData"+ie]=s.cleanData,s.cleanData=function(t){for(var e,i=0;(e=s(t[i])).length;i++)if(e.attr(Y))try{e.triggerHandler("removeqtip")}catch(o){}s["cleanData"+ie].apply(this,arguments)}),T.version="2.2.0",T.nextid=0,T.inactiveEvents=Q,T.zindex=15e3,T.defaults={prerender:k,id:k,overwrite:W,suppress:W,content:{text:W,attr:"title",title:k,button:k},position:{my:"top left",at:"bottom right",target:k,container:k,viewport:k,adjust:{x:0,y:0,mouse:W,scroll:W,resize:W,method:"flipinvert flipinvert"},effect:function(t,e){s(this).animate(e,{duration:200,queue:k})}},show:{target:k,event:"mouseenter",effect:W,delay:90,solo:k,ready:k,autofocus:k},hide:{target:k,event:"mouseleave",effect:W,delay:0,fixed:k,inactive:k,leave:"window",distance:k},style:{classes:"",widget:k,width:k,height:k,def:W},events:{render:E,move:E,show:E,hide:E,toggle:E,visible:E,hidden:E,focus:E,blur:E}};var le,ce="margin",de="border",pe="color",ue="background-color",fe="transparent",ge=" !important",me=!!e.createElement("canvas").getContext,ve=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ye={},be=["Webkit","O","Moz","ms"];if(me)var we=t.devicePixelRatio||1,_e=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),xe=we/_e;else var qe=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};s.extend(x.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=s("<div />",{"class":X+"-tip"}).prependTo(t.tooltip),me?(e=s("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=qe("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(s("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===D||t.y===N&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(W))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===k||e===k?t=k:t===W?t=new z(e.string()):t.string||(t=new z(t),t.fixed=W),t},_parseWidth:function(t,e,i){var s=this.qtip.elements,o=de+b(e)+"Width";return(i?_(i,o):_(s.content,o)||_(this._useTitle(t)&&s.titlebar||s.content,o)||_(s.tooltip,o))||0},_parseRadius:function(t){var e=this.qtip.elements,i=de+b(t.y)+b(t.x)+"Radius";return 9>oe.ie?0:_(this._useTitle(t)&&e.titlebar||e.content,i)||_(e.tooltip,i)||0},_invalidColour:function(t,e,i){var s=t.css(e);return!s||i&&s===t.css(i)||ve.test(s)?k:s},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),o=de+b(t[t.precedance])+b(pe),n=this._useTitle(t)&&e.titlebar||e.content,r=this._invalidColour,a=[];return a[0]=r(i,ue)||r(n,ue)||r(e.content,ue)||r(e.tooltip,ue)||i.css(ue),a[1]=r(i,o,pe)||r(n,o,pe)||r(e.content,o,pe)||r(e.tooltip,o,pe)||e.tooltip.css(o),s("*",i).add(i).css("cssText",ue+":"+fe+ge+";"+de+":0"+ge+";"),a},_calculateSize:function(t){var e,i,s,o=t.precedance===L,n=this.options.width,r=this.options.height,a="c"===t.abbrev(),h=(o?n:r)*(a?.5:1),l=Math.pow,c=Math.round,d=Math.sqrt(l(h,2)+l(r,2)),p=[this.border/h*d,this.border/r*d];return p[2]=Math.sqrt(l(p[0],2)-l(this.border,2)),p[3]=Math.sqrt(l(p[1],2)-l(this.border,2)),e=d+p[2]+p[3]+(a?0:p[0]),i=e/d,s=[c(i*n),c(i*r)],o?s:s.reverse()},_calculateTip:function(t,e,i){i=i||1,e=e||this.size;var s=e[0]*i,o=e[1]*i,n=Math.ceil(s/2),r=Math.ceil(o/2),a={br:[0,0,s,o,s,0],bl:[0,0,s,0,0,o],tr:[0,o,s,0,s,o],tl:[0,0,0,o,s,o],tc:[0,o,n,0,s,o],bc:[0,0,s,0,n,o],rc:[0,0,s,r,0,o],lc:[s,0,s,o,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(me||oe.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var o,n,r,a,h,l,c,d,p=this.qtip.elements,u=this.element,f=u.children(),g=this.options,m=this.size,v=g.mimic,y=Math.round;e||(e=this.qtip.cache.corner||this.corner),v===k?v=e:(v=new z(v),v.precedance=e.precedance,"inherit"===v.x?v.x=e.x:"inherit"===v.y?v.y=e.y:v.x===v.y&&(v[e.precedance]=e[e.precedance])),n=v.precedance,e.precedance===S?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(e),o[1]!==fe?(d=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>d&&!ve.test(o[1])&&(o[0]=o[1]),this.border=d=g.border!==W?g.border:d):this.border=d=0,c=this.size=this._calculateSize(e),u.css({width:c[0],height:c[1],lineHeight:c[1]+"px"}),l=e.precedance===L?[y(v.x===F?d:v.x===P?c[0]-m[0]-d:(c[0]-m[0])/2),y(v.y===D?c[1]-m[1]:0)]:[y(v.x===F?c[0]-m[0]:0),y(v.y===D?d:v.y===O?c[1]-m[1]-d:(c[1]-m[1])/2)],me?(r=f[0].getContext("2d"),r.restore(),r.save(),r.clearRect(0,0,6e3,6e3),a=this._calculateTip(v,m,xe),h=this._calculateTip(v,this.size,xe),f.attr(A,c[0]*xe).attr(B,c[1]*xe),f.css(A,c[0]).css(B,c[1]),this._drawCoords(r,h),r.fillStyle=o[1],r.fill(),r.translate(l[0]*xe,l[1]*xe),this._drawCoords(r,a),r.fillStyle=o[0],r.fill()):(a=this._calculateTip(v),a="m"+a[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",l[2]=d&&/^(r|b)/i.test(e.string())?8===oe.ie?2:1:0,f.css({coordsize:c[0]+d+" "+(c[1]+d),antialias:""+(v.string().indexOf(N)>-1),left:l[0]-l[2]*Number(n===S),top:l[1]-l[2]*Number(n===L),width:c[0]+d,height:c[1]+d}).each(function(t){var e=s(this);e[e.prop?"prop":"attr"]({coordsize:c[0]+d+" "+(c[1]+d),path:a,fillcolor:o[0],filled:!!t,stroked:!t}).toggle(!(!d&&!t)),!t&&e.html(qe("stroke",'weight="'+2*d+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){p.tip.css({display:"inline-block",visibility:"visible"})},1),i!==k&&this.calculate(e,c)},calculate:function(t,e){if(!this.enabled)return k;var i,o,n=this,r=this.qtip.elements,a=this.element,h=this.options.offset,l=(r.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,i=t.precedance,e=e||this._calculateSize(t),o=[t.x,t.y],i===S&&o.reverse(),s.each(o,function(s,o){var a,c,d;o===N?(a=i===L?F:D,l[a]="50%",l[ce+"-"+a]=-Math.round(e[i===L?0:1]/2)+h):(a=n._parseWidth(t,o,r.tooltip),c=n._parseWidth(t,o,r.content),d=n._parseRadius(t),l[o]=Math.max(-n.border,s?c:h+(d>a?d:-a)))
}),l[t[i]]-=e[i===S?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(l),l},reposition:function(t,e,s){function o(t,e,i,s,o){t===V&&l.precedance===e&&c[s]&&l[i]!==N?l.precedance=l.precedance===S?L:S:t!==V&&c[s]&&(l[e]=l[e]===N?c[s]>0?s:o:l[e]===s?o:s)}function n(t,e,o){l[t]===N?g[ce+"-"+e]=f[t]=r[ce+"-"+e]-c[e]:(a=r[o]!==i?[c[e],-r[e]]:[-c[e],r[e]],(f[t]=Math.max(a[0],a[1]))>a[0]&&(s[e]-=c[e],f[e]=k),g[r[o]!==i?o:e]=f[t])}if(this.enabled){var r,a,h=e.cache,l=this.corner.clone(),c=s.adjusted,d=e.options.position.adjust.method.split(" "),p=d[0],u=d[1]||d[0],f={left:k,top:k,x:0,y:0},g={};this.corner.fixed!==W&&(o(p,S,L,F,P),o(u,L,S,D,O),l.string()===h.corner.string()||h.cornerTop===c.top&&h.cornerLeft===c.left||this.update(l,k)),r=this.calculate(l),r.right!==i&&(r.left=-r.right),r.bottom!==i&&(r.top=-r.bottom),r.user=this.offset,(f.left=p===V&&!!c.left)&&n(S,F,P),(f.top=u===V&&!!c.top)&&n(L,D,O),this.element.css(g).toggle(!(f.x&&f.y||l.x===N&&f.y||l.y===N&&f.x)),s.left-=r.left.charAt?r.user:p!==V||f.top||!f.left&&!f.top?r.left+this.border:0,s.top-=r.top.charAt?r.user:u!==V||f.left||!f.left&&!f.top?r.top+this.border:0,h.cornerLeft=c.left,h.cornerTop=c.top,h.corner=l.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),le=R.tip=function(t){return new x(t,t.options.style.tip)},le.initialize="render",le.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=W)}},M.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},s.extend(W,T.defaults,{style:{tip:{corner:W,mimic:k,width:6,height:6,border:W,offset:0}}});var Ce,Te,je="qtip-modal",ze="."+je;Te=function(){function t(t){if(s.expr[":"].focusable)return s.expr[":"].focusable;var e,i,o,n=!isNaN(s.attr(t,"tabindex")),r=t.nodeName&&t.nodeName.toLowerCase();return"area"===r?(e=t.parentNode,i=e.name,t.href&&i&&"map"===e.nodeName.toLowerCase()?(o=s("img[usemap=#"+i+"]")[0],!!o&&o.is(":visible")):!1):/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||n:n}function i(t){1>c.length&&t.length?t.not("body").blur():c.first().focus()}function o(t){if(h.is(":visible")){var e,o=s(t.target),a=n.tooltip,l=o.closest(U);e=1>l.length?k:parseInt(l[0].style.zIndex,10)>parseInt(a[0].style.zIndex,10),e||o.closest(U)[0]===a[0]||i(o),r=t.target===c[c.length-1]}}var n,r,a,h,l=this,c={};s.extend(l,{init:function(){return h=l.elem=s("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return k}}).hide(),s(e.body).bind("focusin"+ze,o),s(e).bind("keydown"+ze,function(t){n&&n.options.show.modal.escape&&27===t.keyCode&&n.hide(t)}),h.bind("click"+ze,function(t){n&&n.options.show.modal.blur&&n.hide(t)}),l},update:function(e){n=e,c=e.options.show.modal.stealfocus!==k?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,o,r){var c=(s(e.body),t.tooltip),d=t.options.show.modal,p=d.effect,u=o?"show":"hide",f=h.is(":visible"),g=s(ze).filter(":visible:not(:animated)").not(c);return l.update(t),o&&d.stealfocus!==k&&i(s(":focus")),h.toggleClass("blurs",d.blur),o&&h.appendTo(e.body),h.is(":animated")&&f===o&&a!==k||!o&&g.length?l:(h.stop(W,k),s.isFunction(p)?p.call(h,o):p===k?h[u]():h.fadeTo(parseInt(r,10)||90,o?1:0,function(){o||h.hide()}),o||h.queue(function(t){h.css({left:"",top:""}),s(ze).length||h.detach(),t()}),a=o,n.destroyed&&(n=E),l)}}),l.init()},Te=new Te,s.extend(q.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=Te.elem,e.addClass(je).css("z-index",T.modal_zindex+s(ze).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,i,o){var n=t.originalEvent;if(t.target===e[0])if(n&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(n.type)&&s(n.relatedTarget).closest(Te.elem[0]).length)try{t.preventDefault()}catch(r){}else(!n||n&&"tooltipsolo"!==n.type)&&this.toggle(t,"tooltipshow"===t.type,o)},this._ns,this),t._bind(e,"tooltipfocus",function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var o=s(ze),n=T.modal_zindex+o.length,r=parseInt(e[0].style.zIndex,10);Te.elem[0].style.zIndex=n-1,o.each(function(){this.style.zIndex>r&&(this.style.zIndex-=1)}),o.filter("."+Z).qtip("blur",t.originalEvent),e.addClass(Z)[0].style.zIndex=n,Te.update(i);try{t.preventDefault()}catch(a){}}},this._ns,this),t._bind(e,"tooltiphide",function(t){t.target===e[0]&&s(ze).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this),i):this},toggle:function(t,e,s){return t&&t.isDefaultPrevented()?this:(Te.toggle(this.qtip,!!e,s),i)},destroy:function(){this.qtip.tooltip.removeClass(je),this.qtip._unbind(this.qtip.tooltip,this._ns),Te.toggle(this.qtip,k),delete this.qtip.elements.overlay}}),Ce=R.modal=function(t){return new q(t,t.options.show.modal)},Ce.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:t.show.modal.on===i&&(t.show.modal.on=W))},T.modal_zindex=T.zindex-200,Ce.initialize="render",M.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},s.extend(W,T.defaults,{show:{modal:{on:k,effect:W,blur:W,stealfocus:W,escape:W}}}),R.viewport=function(i,s,o,n,r,a,h){function l(t,e,i,o,n,r,a,h,l){var c=s[n],p=_[t],b=x[t],w=i===V,q=p===n?l:p===r?-l:-l/2,C=b===n?h:b===r?-h:-h/2,T=v[n]+y[n]-(f?0:u[n]),j=T-c,z=c+l-(a===A?g:m)-T,M=q-(_.precedance===t||p===_[e]?C:0)-(b===N?h/2:0);return w?(M=(p===n?1:-1)*q,s[n]+=j>0?j:z>0?-z:0,s[n]=Math.max(-u[n]+y[n],c-M,Math.min(Math.max(-u[n]+y[n]+(a===A?g:m),c+M),s[n],"center"===p?c-q:1e9))):(o*=i===$?2:0,j>0&&(p!==n||z>0)?(s[n]-=M+o,d.invert(t,n)):z>0&&(p!==r||j>0)&&(s[n]-=(p===N?-M:M)+o,d.invert(t,r)),v>s[n]&&-s[n]>z&&(s[n]=c,d=_.clone())),s[n]-c}var c,d,p,u,f,g,m,v,y,b=o.target,w=i.elements.tooltip,_=o.my,x=o.at,q=o.adjust,C=q.method.split(" "),T=C[0],j=C[1]||C[0],z=o.viewport,M=o.container,I=i.cache,W={left:0,top:0};return z.jquery&&b[0]!==t&&b[0]!==e.body&&"none"!==q.method?(u=M.offset()||W,f="static"===M.css("position"),c="fixed"===w.css("position"),g=z[0]===t?z.width():z.outerWidth(k),m=z[0]===t?z.height():z.outerHeight(k),v={left:c?0:z.scrollLeft(),top:c?0:z.scrollTop()},y=z.offset()||W,("shift"!==T||"shift"!==j)&&(d=_.clone()),W={left:"none"!==T?l(S,L,T,q.x,F,P,A,n,a):0,top:"none"!==j?l(L,S,j,q.y,D,O,B,r,h):0},d&&I.lastClass!==(p=X+"-pos-"+d.abbrev())&&w.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=p),W):W},R.polys={polygon:function(t,e){var i,s,o,n={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:k},r=0,a=[],h=1,l=1,c=0,d=0;for(r=t.length;r--;)i=[parseInt(t[--r],10),parseInt(t[r+1],10)],i[0]>n.position.right&&(n.position.right=i[0]),i[0]<n.position.left&&(n.position.left=i[0]),i[1]>n.position.bottom&&(n.position.bottom=i[1]),i[1]<n.position.top&&(n.position.top=i[1]),a.push(i);if(s=n.width=Math.abs(n.position.right-n.position.left),o=n.height=Math.abs(n.position.bottom-n.position.top),"c"===e.abbrev())n.position={left:n.position.left+n.width/2,top:n.position.top+n.height/2};else{for(;s>0&&o>0&&h>0&&l>0;)for(s=Math.floor(s/2),o=Math.floor(o/2),e.x===F?h=s:e.x===P?h=n.width-s:h+=Math.floor(s/2),e.y===D?l=o:e.y===O?l=n.height-o:l+=Math.floor(o/2),r=a.length;r--&&!(2>a.length);)c=a[r][0]-n.position.left,d=a[r][1]-n.position.top,(e.x===F&&c>=h||e.x===P&&h>=c||e.x===N&&(h>c||c>n.width-h)||e.y===D&&d>=l||e.y===O&&l>=d||e.y===N&&(l>d||d>n.height-l))&&a.splice(r,1);n.position={left:a[0][0],top:a[0][1]}}return n},rect:function(t,e,i,s){return{width:Math.abs(i-t),height:Math.abs(s-e),position:{left:Math.min(t,i),top:Math.min(e,s)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,s,o){var n=R.polys._angles[o.abbrev()],r=0===n?0:i*Math.cos(n*Math.PI),a=s*Math.sin(n*Math.PI);return{width:2*i-Math.abs(r),height:2*s-Math.abs(a),position:{left:t+r,top:e+a},adjustable:k}},circle:function(t,e,i,s){return R.polys.ellipse(t,e,i,i,s)}},R.svg=function(t,i,o){for(var n,r,a,h,l,c,d,p,u,f,g,m=s(e),v=i[0],y=s(v.ownerSVGElement),b=1,w=1,_=!0;!v.getBBox;)v=v.parentNode;if(!v.getBBox||!v.parentNode)return k;n=y.attr("width")||y.width()||parseInt(y.css("width"),10),r=y.attr("height")||y.height()||parseInt(y.css("height"),10);var x=(parseInt(i.css("stroke-width"),10)||0)/2;switch(x&&(b+=x/n,w+=x/r),v.nodeName){case"ellipse":case"circle":f=R.polys.ellipse(v.cx.baseVal.value,v.cy.baseVal.value,(v.rx||v.r).baseVal.value+x,(v.ry||v.r).baseVal.value+x,o);break;case"line":case"polygon":case"polyline":for(u=v.points||[{x:v.x1.baseVal.value,y:v.y1.baseVal.value},{x:v.x2.baseVal.value,y:v.y2.baseVal.value}],f=[],p=-1,c=u.numberOfItems||u.length;c>++p;)d=u.getItem?u.getItem(p):u[p],f.push.apply(f,[d.x,d.y]);f=R.polys.polygon(f,o);break;default:f=v.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},_=!1}return g=f.position,y=y[0],_&&(y.createSVGPoint&&(a=v.getScreenCTM(),u=y.createSVGPoint(),u.x=g.left,u.y=g.top,h=u.matrixTransform(a),g.left=h.x,g.top=h.y),y.viewBox&&(l=y.viewBox.baseVal)&&l.width&&l.height&&(b*=n/l.width,w*=r/l.height)),g.left+=m.scrollLeft(),g.top+=m.scrollTop(),f},R.imagemap=function(t,e,i){e.jquery||(e=s(e));var o,n,r,a,h,l=e.attr("shape").toLowerCase().replace("poly","polygon"),c=s('img[usemap="#'+e.parent("map").attr("name")+'"]'),d=s.trim(e.attr("coords")),p=d.replace(/,$/,"").split(",");if(!c.length)return k;if("polygon"===l)a=R.polys.polygon(p,i);else{if(!R.polys[l])return k;for(r=-1,h=p.length,n=[];h>++r;)n.push(parseInt(p[r],10));a=R.polys[l].apply(this,n.concat(i))}return o=c.offset(),o.left+=Math.ceil((c.outerWidth(k)-c.width())/2),o.top+=Math.ceil((c.outerHeight(k)-c.height())/2),a.position.left+=o.left,a.position.top+=o.top,a};var Me,Ie='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';s.extend(C.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=s(t).scrollTop()+"px")},init:function(i){var o=i.tooltip;1>s("select, object").length&&(this.bgiframe=i.elements.bgiframe=s(Ie).appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=s("<div/>",{id:X+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,s={height:i.outerHeight(k),width:i.outerWidth(k)},o=this.qtip.plugins.tip,n=this.qtip.elements.tip;e=parseInt(i.css("borderLeftWidth"),10)||0,e={left:-e,top:-e},o&&n&&(t="x"===o.corner.precedance?[A,F]:[B,D],e[t[1]]-=n[t[0]]()),this.bgiframe.css(e).css(s)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var t,e,i,s,o=this.qtip.tooltip,n=this.qtip.options.style,r=this.qtip.options.position.container;return this.qtip.drawing=1,n.height&&o.css(B,n.height),n.width?o.css(A,n.width):(o.css(A,"").appendTo(this.redrawContainer),e=o.width(),1>e%2&&(e+=1),i=o.css("maxWidth")||"",s=o.css("minWidth")||"",t=(i+s).indexOf("%")>-1?r.width()/100:0,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e,s=(s.indexOf("%")>-1?t:1)*parseInt(s,10)||0,e=i+s?Math.min(Math.max(e,s),i):e,o.css(A,Math.round(e)).appendTo(r)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),Me=R.ie6=function(t){return 6===oe.ie?new C(t):k},Me.initialize="render",M.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);
//@ sourceMappingURL=http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.map;// moment.js
// version : 2.0.0
// author : Tim Wood
// license : MIT
// momentjs.com

(function (undefined) {

    /************************************
        Constants
    ************************************/

    var moment,
        VERSION = "2.0.0",
        round = Math.round, i,
        // internal storage for language config files
        languages = {},

        // check for nodeJS
        hasModule = (typeof module !== 'undefined' && module.exports),

        // ASP.NET json date format regex
        aspNetJsonRegex = /^\/?Date\((\-?\d+)/i,

        // format tokens
        formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,
        localFormattingTokens = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,

        // parsing tokens
        parseMultipleFormatChunker = /([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,

        // parsing token regexes
        parseTokenOneOrTwoDigits = /\d\d?/, // 0 - 99
        parseTokenOneToThreeDigits = /\d{1,3}/, // 0 - 999
        parseTokenThreeDigits = /\d{3}/, // 000 - 999
        parseTokenFourDigits = /\d{1,4}/, // 0 - 9999
        parseTokenSixDigits = /[+\-]?\d{1,6}/, // -999,999 - 999,999
        parseTokenWord = /[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i, // any word (or two) characters or numbers including two word month in arabic.
        parseTokenTimezone = /Z|[\+\-]\d\d:?\d\d/i, // +00:00 -00:00 +0000 -0000 or Z
        parseTokenT = /T/i, // T (ISO seperator)
        parseTokenTimestampMs = /[\+\-]?\d+(\.\d{1,3})?/, // 123456789 123456789.123

        // preliminary iso regex
        // 0000-00-00 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000
        isoRegex = /^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,
        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',

        // iso time formats and regexes
        isoTimes = [
            ['HH:mm:ss.S', /(T| )\d\d:\d\d:\d\d\.\d{1,3}/],
            ['HH:mm:ss', /(T| )\d\d:\d\d:\d\d/],
            ['HH:mm', /(T| )\d\d:\d\d/],
            ['HH', /(T| )\d\d/]
        ],

        // timezone chunker "+10:00" > ["10", "00"] or "-1530" > ["-15", "30"]
        parseTimezoneChunker = /([\+\-]|\d\d)/gi,

        // getter and setter names
        proxyGettersAndSetters = 'Month|Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),
        unitMillisecondFactors = {
            'Milliseconds' : 1,
            'Seconds' : 1e3,
            'Minutes' : 6e4,
            'Hours' : 36e5,
            'Days' : 864e5,
            'Months' : 2592e6,
            'Years' : 31536e6
        },

        // format function strings
        formatFunctions = {},

        // tokens to ordinalize and pad
        ordinalizeTokens = 'DDD w W M D d'.split(' '),
        paddedTokens = 'M D H h m s w W'.split(' '),

        formatTokenFunctions = {
            M    : function () {
                return this.month() + 1;
            },
            MMM  : function (format) {
                return this.lang().monthsShort(this, format);
            },
            MMMM : function (format) {
                return this.lang().months(this, format);
            },
            D    : function () {
                return this.date();
            },
            DDD  : function () {
                return this.dayOfYear();
            },
            d    : function () {
                return this.day();
            },
            dd   : function (format) {
                return this.lang().weekdaysMin(this, format);
            },
            ddd  : function (format) {
                return this.lang().weekdaysShort(this, format);
            },
            dddd : function (format) {
                return this.lang().weekdays(this, format);
            },
            w    : function () {
                return this.week();
            },
            W    : function () {
                return this.isoWeek();
            },
            YY   : function () {
                return leftZeroFill(this.year() % 100, 2);
            },
            YYYY : function () {
                return leftZeroFill(this.year(), 4);
            },
            YYYYY : function () {
                return leftZeroFill(this.year(), 5);
            },
            a    : function () {
                return this.lang().meridiem(this.hours(), this.minutes(), true);
            },
            A    : function () {
                return this.lang().meridiem(this.hours(), this.minutes(), false);
            },
            H    : function () {
                return this.hours();
            },
            h    : function () {
                return this.hours() % 12 || 12;
            },
            m    : function () {
                return this.minutes();
            },
            s    : function () {
                return this.seconds();
            },
            S    : function () {
                return ~~(this.milliseconds() / 100);
            },
            SS   : function () {
                return leftZeroFill(~~(this.milliseconds() / 10), 2);
            },
            SSS  : function () {
                return leftZeroFill(this.milliseconds(), 3);
            },
            Z    : function () {
                var a = -this.zone(),
                    b = "+";
                if (a < 0) {
                    a = -a;
                    b = "-";
                }
                return b + leftZeroFill(~~(a / 60), 2) + ":" + leftZeroFill(~~a % 60, 2);
            },
            ZZ   : function () {
                var a = -this.zone(),
                    b = "+";
                if (a < 0) {
                    a = -a;
                    b = "-";
                }
                return b + leftZeroFill(~~(10 * a / 6), 4);
            },
            X    : function () {
                return this.unix();
            }
        };

    function padToken(func, count) {
        return function (a) {
            return leftZeroFill(func.call(this, a), count);
        };
    }
    function ordinalizeToken(func) {
        return function (a) {
            return this.lang().ordinal(func.call(this, a));
        };
    }

    while (ordinalizeTokens.length) {
        i = ordinalizeTokens.pop();
        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i]);
    }
    while (paddedTokens.length) {
        i = paddedTokens.pop();
        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);
    }
    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);


    /************************************
        Constructors
    ************************************/

    function Language() {

    }

    // Moment prototype object
    function Moment(config) {
        extend(this, config);
    }

    // Duration Constructor
    function Duration(duration) {
        var data = this._data = {},
            years = duration.years || duration.year || duration.y || 0,
            months = duration.months || duration.month || duration.M || 0,
            weeks = duration.weeks || duration.week || duration.w || 0,
            days = duration.days || duration.day || duration.d || 0,
            hours = duration.hours || duration.hour || duration.h || 0,
            minutes = duration.minutes || duration.minute || duration.m || 0,
            seconds = duration.seconds || duration.second || duration.s || 0,
            milliseconds = duration.milliseconds || duration.millisecond || duration.ms || 0;

        // representation for dateAddRemove
        this._milliseconds = milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 36e5; // 1000 * 60 * 60
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = days +
            weeks * 7;
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = months +
            years * 12;

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;
        seconds += absRound(milliseconds / 1000);

        data.seconds = seconds % 60;
        minutes += absRound(seconds / 60);

        data.minutes = minutes % 60;
        hours += absRound(minutes / 60);

        data.hours = hours % 24;
        days += absRound(hours / 24);

        days += weeks * 7;
        data.days = days % 30;

        months += absRound(days / 30);

        data.months = months % 12;
        years += absRound(months / 12);

        data.years = years;
    }


    /************************************
        Helpers
    ************************************/


    function extend(a, b) {
        for (var i in b) {
            if (b.hasOwnProperty(i)) {
                a[i] = b[i];
            }
        }
        return a;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.ceil(number);
        } else {
            return Math.floor(number);
        }
    }

    // left zero fill a number
    // see http://jsperf.com/left-zero-filling for performance comparison
    function leftZeroFill(number, targetLength) {
        var output = number + '';
        while (output.length < targetLength) {
            output = '0' + output;
        }
        return output;
    }

    // helper function for _.addTime and _.subtractTime
    function addOrSubtractDurationFromMoment(mom, duration, isAdding) {
        var ms = duration._milliseconds,
            d = duration._days,
            M = duration._months,
            currentDate;

        if (ms) {
            mom._d.setTime(+mom + ms * isAdding);
        }
        if (d) {
            mom.date(mom.date() + d * isAdding);
        }
        if (M) {
            currentDate = mom.date();
            mom.date(1)
                .month(mom.month() + M * isAdding)
                .date(Math.min(currentDate, mom.daysInMonth()));
        }
    }

    // check if is an array
    function isArray(input) {
        return Object.prototype.toString.call(input) === '[object Array]';
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if (~~array1[i] !== ~~array2[i]) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }


    /************************************
        Languages
    ************************************/


    Language.prototype = {
        set : function (config) {
            var prop, i;
            for (i in config) {
                prop = config[i];
                if (typeof prop === 'function') {
                    this[i] = prop;
                } else {
                    this['_' + i] = prop;
                }
            }
        },

        _months : "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months : function (m) {
            return this._months[m.month()];
        },

        _monthsShort : "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort : function (m) {
            return this._monthsShort[m.month()];
        },

        monthsParse : function (monthName) {
            var i, mom, regex, output;

            if (!this._monthsParse) {
                this._monthsParse = [];
            }

            for (i = 0; i < 12; i++) {
                // make the regex if we don't have it already
                if (!this._monthsParse[i]) {
                    mom = moment([2000, i]);
                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
                }
                // test the regex
                if (this._monthsParse[i].test(monthName)) {
                    return i;
                }
            }
        },

        _weekdays : "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays : function (m) {
            return this._weekdays[m.day()];
        },

        _weekdaysShort : "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort : function (m) {
            return this._weekdaysShort[m.day()];
        },

        _weekdaysMin : "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin : function (m) {
            return this._weekdaysMin[m.day()];
        },

        _longDateFormat : {
            LT : "h:mm A",
            L : "MM/DD/YYYY",
            LL : "MMMM D YYYY",
            LLL : "MMMM D YYYY LT",
            LLLL : "dddd, MMMM D YYYY LT"
        },
        longDateFormat : function (key) {
            var output = this._longDateFormat[key];
            if (!output && this._longDateFormat[key.toUpperCase()]) {
                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {
                    return val.slice(1);
                });
                this._longDateFormat[key] = output;
            }
            return output;
        },

        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'pm' : 'PM';
            } else {
                return isLower ? 'am' : 'AM';
            }
        },

        _calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[last] dddd [at] LT',
            sameElse : 'L'
        },
        calendar : function (key, mom) {
            var output = this._calendar[key];
            return typeof output === 'function' ? output.apply(mom) : output;
        },

        _relativeTime : {
            future : "in %s",
            past : "%s ago",
            s : "a few seconds",
            m : "a minute",
            mm : "%d minutes",
            h : "an hour",
            hh : "%d hours",
            d : "a day",
            dd : "%d days",
            M : "a month",
            MM : "%d months",
            y : "a year",
            yy : "%d years"
        },
        relativeTime : function (number, withoutSuffix, string, isFuture) {
            var output = this._relativeTime[string];
            return (typeof output === 'function') ?
                output(number, withoutSuffix, string, isFuture) :
                output.replace(/%d/i, number);
        },
        pastFuture : function (diff, output) {
            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);
        },

        ordinal : function (number) {
            return this._ordinal.replace("%d", number);
        },
        _ordinal : "%d",

        preparse : function (string) {
            return string;
        },

        postformat : function (string) {
            return string;
        },

        week : function (mom) {
            return weekOfYear(mom, this._week.dow, this._week.doy);
        },
        _week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    };

    // Loads a language definition into the `languages` cache.  The function
    // takes a key and optionally values.  If not in the browser and no values
    // are provided, it will load the language file module.  As a convenience,
    // this function also returns the language values.
    function loadLang(key, values) {
        values.abbr = key;
        if (!languages[key]) {
            languages[key] = new Language();
        }
        languages[key].set(values);
        return languages[key];
    }

    // Determines which language definition to use and returns it.
    //
    // With no parameters, it will return the global language.  If you
    // pass in a language key, such as 'en', it will return the
    // definition for 'en', so long as 'en' has already been loaded using
    // moment.lang.
    function getLangDefinition(key) {
        if (!key) {
            return moment.fn._lang;
        }
        if (!languages[key] && hasModule) {
            require('./lang/' + key);
        }
        return languages[key];
    }


    /************************************
        Formatting
    ************************************/


    function removeFormattingTokens(input) {
        if (input.match(/\[.*\]/)) {
            return input.replace(/^\[|\]$/g, "");
        }
        return input.replace(/\\/g, "");
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = "";
            for (i = 0; i < length; i++) {
                output += typeof array[i].call === 'function' ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return m.lang().longDateFormat(input) || input;
        }

        while (i-- && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
        }

        if (!formatFunctions[format]) {
            formatFunctions[format] = makeFormatFunction(format);
        }

        return formatFunctions[format](m);
    }


    /************************************
        Parsing
    ************************************/


    // get the regex to find the next token
    function getParseRegexForToken(token) {
        switch (token) {
        case 'DDDD':
            return parseTokenThreeDigits;
        case 'YYYY':
            return parseTokenFourDigits;
        case 'YYYYY':
            return parseTokenSixDigits;
        case 'S':
        case 'SS':
        case 'SSS':
        case 'DDD':
            return parseTokenOneToThreeDigits;
        case 'MMM':
        case 'MMMM':
        case 'dd':
        case 'ddd':
        case 'dddd':
        case 'a':
        case 'A':
            return parseTokenWord;
        case 'X':
            return parseTokenTimestampMs;
        case 'Z':
        case 'ZZ':
            return parseTokenTimezone;
        case 'T':
            return parseTokenT;
        case 'MM':
        case 'DD':
        case 'YY':
        case 'HH':
        case 'hh':
        case 'mm':
        case 'ss':
        case 'M':
        case 'D':
        case 'd':
        case 'H':
        case 'h':
        case 'm':
        case 's':
            return parseTokenOneOrTwoDigits;
        default :
            return new RegExp(token.replace('\\', ''));
        }
    }

    // function to convert string input to date
    function addTimeToArrayFromToken(token, input, config) {
        var a, b,
            datePartArray = config._a;

        switch (token) {
        // MONTH
        case 'M' : // fall through to MM
        case 'MM' :
            datePartArray[1] = (input == null) ? 0 : ~~input - 1;
            break;
        case 'MMM' : // fall through to MMMM
        case 'MMMM' :
            a = getLangDefinition(config._l).monthsParse(input);
            // if we didn't find a month name, mark the date as invalid.
            if (a != null) {
                datePartArray[1] = a;
            } else {
                config._isValid = false;
            }
            break;
        // DAY OF MONTH
        case 'D' : // fall through to DDDD
        case 'DD' : // fall through to DDDD
        case 'DDD' : // fall through to DDDD
        case 'DDDD' :
            if (input != null) {
                datePartArray[2] = ~~input;
            }
            break;
        // YEAR
        case 'YY' :
            datePartArray[0] = ~~input + (~~input > 68 ? 1900 : 2000);
            break;
        case 'YYYY' :
        case 'YYYYY' :
            datePartArray[0] = ~~input;
            break;
        // AM / PM
        case 'a' : // fall through to A
        case 'A' :
            config._isPm = ((input + '').toLowerCase() === 'pm');
            break;
        // 24 HOUR
        case 'H' : // fall through to hh
        case 'HH' : // fall through to hh
        case 'h' : // fall through to hh
        case 'hh' :
            datePartArray[3] = ~~input;
            break;
        // MINUTE
        case 'm' : // fall through to mm
        case 'mm' :
            datePartArray[4] = ~~input;
            break;
        // SECOND
        case 's' : // fall through to ss
        case 'ss' :
            datePartArray[5] = ~~input;
            break;
        // MILLISECOND
        case 'S' :
        case 'SS' :
        case 'SSS' :
            datePartArray[6] = ~~ (('0.' + input) * 1000);
            break;
        // UNIX TIMESTAMP WITH MS
        case 'X':
            config._d = new Date(parseFloat(input) * 1000);
            break;
        // TIMEZONE
        case 'Z' : // fall through to ZZ
        case 'ZZ' :
            config._useUTC = true;
            a = (input + '').match(parseTimezoneChunker);
            if (a && a[1]) {
                config._tzh = ~~a[1];
            }
            if (a && a[2]) {
                config._tzm = ~~a[2];
            }
            // reverse offsets
            if (a && a[0] === '+') {
                config._tzh = -config._tzh;
                config._tzm = -config._tzm;
            }
            break;
        }

        // if the input is null, the date is not valid
        if (input == null) {
            config._isValid = false;
        }
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function dateFromArray(config) {
        var i, date, input = [];

        if (config._d) {
            return;
        }

        for (i = 0; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // add the offsets to the time to be parsed so that we can have a clean array for checking isValid
        input[3] += config._tzh || 0;
        input[4] += config._tzm || 0;

        date = new Date(0);

        if (config._useUTC) {
            date.setUTCFullYear(input[0], input[1], input[2]);
            date.setUTCHours(input[3], input[4], input[5], input[6]);
        } else {
            date.setFullYear(input[0], input[1], input[2]);
            date.setHours(input[3], input[4], input[5], input[6]);
        }

        config._d = date;
    }

    // date from string and format string
    function makeDateFromStringAndFormat(config) {
        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var tokens = config._f.match(formattingTokens),
            string = config._i,
            i, parsedInput;

        config._a = [];

        for (i = 0; i < tokens.length; i++) {
            parsedInput = (getParseRegexForToken(tokens[i]).exec(string) || [])[0];
            if (parsedInput) {
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
            }
            // don't parse if its not a known token
            if (formatTokenFunctions[tokens[i]]) {
                addTimeToArrayFromToken(tokens[i], parsedInput, config);
            }
        }
        // handle am pm
        if (config._isPm && config._a[3] < 12) {
            config._a[3] += 12;
        }
        // if is 12 am, change hours to 0
        if (config._isPm === false && config._a[3] === 12) {
            config._a[3] = 0;
        }
        // return
        dateFromArray(config);
    }

    // date from string and array of format strings
    function makeDateFromStringAndArray(config) {
        var tempConfig,
            tempMoment,
            bestMoment,

            scoreToBeat = 99,
            i,
            currentDate,
            currentScore;

        while (config._f.length) {
            tempConfig = extend({}, config);
            tempConfig._f = config._f.pop();
            makeDateFromStringAndFormat(tempConfig);
            tempMoment = new Moment(tempConfig);

            if (tempMoment.isValid()) {
                bestMoment = tempMoment;
                break;
            }

            currentScore = compareArrays(tempConfig._a, tempMoment.toArray());

            if (currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempMoment;
            }
        }

        extend(config, bestMoment);
    }

    // date from iso format
    function makeDateFromString(config) {
        var i,
            string = config._i;
        if (isoRegex.exec(string)) {
            config._f = 'YYYY-MM-DDT';
            for (i = 0; i < 4; i++) {
                if (isoTimes[i][1].exec(string)) {
                    config._f += isoTimes[i][0];
                    break;
                }
            }
            if (parseTokenTimezone.exec(string)) {
                config._f += " Z";
            }
            makeDateFromStringAndFormat(config);
        } else {
            config._d = new Date(string);
        }
    }

    function makeDateFromInput(config) {
        var input = config._i,
            matched = aspNetJsonRegex.exec(input);

        if (input === undefined) {
            config._d = new Date();
        } else if (matched) {
            config._d = new Date(+matched[1]);
        } else if (typeof input === 'string') {
            makeDateFromString(config);
        } else if (isArray(input)) {
            config._a = input.slice(0);
            dateFromArray(config);
        } else {
            config._d = input instanceof Date ? new Date(+input) : new Date(input);
        }
    }


    /************************************
        Relative Time
    ************************************/


    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {
        return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime(milliseconds, withoutSuffix, lang) {
        var seconds = round(Math.abs(milliseconds) / 1000),
            minutes = round(seconds / 60),
            hours = round(minutes / 60),
            days = round(hours / 24),
            years = round(days / 365),
            args = seconds < 45 && ['s', seconds] ||
                minutes === 1 && ['m'] ||
                minutes < 45 && ['mm', minutes] ||
                hours === 1 && ['h'] ||
                hours < 22 && ['hh', hours] ||
                days === 1 && ['d'] ||
                days <= 25 && ['dd', days] ||
                days <= 45 && ['M'] ||
                days < 345 && ['MM', round(days / 30)] ||
                years === 1 && ['y'] || ['yy', years];
        args[2] = withoutSuffix;
        args[3] = milliseconds > 0;
        args[4] = lang;
        return substituteTimeAgo.apply({}, args);
    }


    /************************************
        Week of Year
    ************************************/


    // firstDayOfWeek       0 = sun, 6 = sat
    //                      the day of the week that starts the week
    //                      (usually sunday or monday)
    // firstDayOfWeekOfYear 0 = sun, 6 = sat
    //                      the first week is the week that contains the first
    //                      of this day of the week
    //                      (eg. ISO weeks use thursday (4))
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var end = firstDayOfWeekOfYear - firstDayOfWeek,
            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day();


        if (daysToDayOfWeek > end) {
            daysToDayOfWeek -= 7;
        }

        if (daysToDayOfWeek < end - 7) {
            daysToDayOfWeek += 7;
        }

        return Math.ceil(moment(mom).add('d', daysToDayOfWeek).dayOfYear() / 7);
    }


    /************************************
        Top Level Functions
    ************************************/

    function makeMoment(config) {
        var input = config._i,
            format = config._f;

        if (input === null || input === '') {
            return null;
        }

        if (typeof input === 'string') {
            config._i = input = getLangDefinition().preparse(input);
        }

        if (moment.isMoment(input)) {
            config = extend({}, input);
            config._d = new Date(+input._d);
        } else if (format) {
            if (isArray(format)) {
                makeDateFromStringAndArray(config);
            } else {
                makeDateFromStringAndFormat(config);
            }
        } else {
            makeDateFromInput(config);
        }

        return new Moment(config);
    }

    moment = function (input, format, lang) {
        return makeMoment({
            _i : input,
            _f : format,
            _l : lang,
            _isUTC : false
        });
    };

    // creating with utc
    moment.utc = function (input, format, lang) {
        return makeMoment({
            _useUTC : true,
            _isUTC : true,
            _l : lang,
            _i : input,
            _f : format
        });
    };

    // creating with unix timestamp (in seconds)
    moment.unix = function (input) {
        return moment(input * 1000);
    };

    // duration
    moment.duration = function (input, key) {
        var isDuration = moment.isDuration(input),
            isNumber = (typeof input === 'number'),
            duration = (isDuration ? input._data : (isNumber ? {} : input)),
            ret;

        if (isNumber) {
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        }

        ret = new Duration(duration);

        if (isDuration && input.hasOwnProperty('_lang')) {
            ret._lang = input._lang;
        }

        return ret;
    };

    // version number
    moment.version = VERSION;

    // default format
    moment.defaultFormat = isoFormat;

    // This function will load languages and then set the global language.  If
    // no arguments are passed in, it will simply return the current global
    // language key.
    moment.lang = function (key, values) {
        var i;

        if (!key) {
            return moment.fn._lang._abbr;
        }
        if (values) {
            loadLang(key, values);
        } else if (!languages[key]) {
            getLangDefinition(key);
        }
        moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key);
    };

    // returns language data
    moment.langData = function (key) {
        if (key && key._lang && key._lang._abbr) {
            key = key._lang._abbr;
        }
        return getLangDefinition(key);
    };

    // compare moment object
    moment.isMoment = function (obj) {
        return obj instanceof Moment;
    };

    // for typechecking Duration objects
    moment.isDuration = function (obj) {
        return obj instanceof Duration;
    };


    /************************************
        Moment Prototype
    ************************************/


    moment.fn = Moment.prototype = {

        clone : function () {
            return moment(this);
        },

        valueOf : function () {
            return +this._d;
        },

        unix : function () {
            return Math.floor(+this._d / 1000);
        },

        toString : function () {
            return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
        },

        toDate : function () {
            return this._d;
        },

        toJSON : function () {
            return moment.utc(this).format('YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        },

        toArray : function () {
            var m = this;
            return [
                m.year(),
                m.month(),
                m.date(),
                m.hours(),
                m.minutes(),
                m.seconds(),
                m.milliseconds()
            ];
        },

        isValid : function () {
            if (this._isValid == null) {
                if (this._a) {
                    this._isValid = !compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray());
                } else {
                    this._isValid = !isNaN(this._d.getTime());
                }
            }
            return !!this._isValid;
        },

        utc : function () {
            this._isUTC = true;
            return this;
        },

        local : function () {
            this._isUTC = false;
            return this;
        },

        format : function (inputString) {
            var output = formatMoment(this, inputString || moment.defaultFormat);
            return this.lang().postformat(output);
        },

        add : function (input, val) {
            var dur;
            // switch args to support add('s', 1) and add(1, 's')
            if (typeof input === 'string') {
                dur = moment.duration(+val, input);
            } else {
                dur = moment.duration(input, val);
            }
            addOrSubtractDurationFromMoment(this, dur, 1);
            return this;
        },

        subtract : function (input, val) {
            var dur;
            // switch args to support subtract('s', 1) and subtract(1, 's')
            if (typeof input === 'string') {
                dur = moment.duration(+val, input);
            } else {
                dur = moment.duration(input, val);
            }
            addOrSubtractDurationFromMoment(this, dur, -1);
            return this;
        },

        diff : function (input, units, asFloat) {
            var that = this._isUTC ? moment(input).utc() : moment(input).local(),
                zoneDiff = (this.zone() - that.zone()) * 6e4,
                diff, output;

            if (units) {
                // standardize on singular form
                units = units.replace(/s$/, '');
            }

            if (units === 'year' || units === 'month') {
                diff = (this.daysInMonth() + that.daysInMonth()) * 432e5; // 24 * 60 * 60 * 1000 / 2
                output = ((this.year() - that.year()) * 12) + (this.month() - that.month());
                output += ((this - moment(this).startOf('month')) - (that - moment(that).startOf('month'))) / diff;
                if (units === 'year') {
                    output = output / 12;
                }
            } else {
                diff = (this - that) - zoneDiff;
                output = units === 'second' ? diff / 1e3 : // 1000
                    units === 'minute' ? diff / 6e4 : // 1000 * 60
                    units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60
                    units === 'day' ? diff / 864e5 : // 1000 * 60 * 60 * 24
                    units === 'week' ? diff / 6048e5 : // 1000 * 60 * 60 * 24 * 7
                    diff;
            }
            return asFloat ? output : absRound(output);
        },

        from : function (time, withoutSuffix) {
            return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix);
        },

        fromNow : function (withoutSuffix) {
            return this.from(moment(), withoutSuffix);
        },

        calendar : function () {
            var diff = this.diff(moment().startOf('day'), 'days', true),
                format = diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
            return this.format(this.lang().calendar(format, this));
        },

        isLeapYear : function () {
            var year = this.year();
            return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
        },

        isDST : function () {
            return (this.zone() < moment([this.year()]).zone() ||
                this.zone() < moment([this.year(), 5]).zone());
        },

        day : function (input) {
            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return input == null ? day :
                this.add({ d : input - day });
        },

        startOf: function (units) {
            units = units.replace(/s$/, '');
            // the following switch intentionally omits break keywords
            // to utilize falling through the cases.
            switch (units) {
            case 'year':
                this.month(0);
                /* falls through */
            case 'month':
                this.date(1);
                /* falls through */
            case 'week':
            case 'day':
                this.hours(0);
                /* falls through */
            case 'hour':
                this.minutes(0);
                /* falls through */
            case 'minute':
                this.seconds(0);
                /* falls through */
            case 'second':
                this.milliseconds(0);
                /* falls through */
            }

            // weeks are a special case
            if (units === 'week') {
                this.day(0);
            }

            return this;
        },

        endOf: function (units) {
            return this.startOf(units).add(units.replace(/s?$/, 's'), 1).subtract('ms', 1);
        },

        isAfter: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) > +moment(input).startOf(units);
        },

        isBefore: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) < +moment(input).startOf(units);
        },

        isSame: function (input, units) {
            units = typeof units !== 'undefined' ? units : 'millisecond';
            return +this.clone().startOf(units) === +moment(input).startOf(units);
        },

        zone : function () {
            return this._isUTC ? 0 : this._d.getTimezoneOffset();
        },

        daysInMonth : function () {
            return moment.utc([this.year(), this.month() + 1, 0]).date();
        },

        dayOfYear : function (input) {
            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;
            return input == null ? dayOfYear : this.add("d", (input - dayOfYear));
        },

        isoWeek : function (input) {
            var week = weekOfYear(this, 1, 4);
            return input == null ? week : this.add("d", (input - week) * 7);
        },

        week : function (input) {
            var week = this.lang().week(this);
            return input == null ? week : this.add("d", (input - week) * 7);
        },

        // If passed a language key, it will set the language for this
        // instance.  Otherwise, it will return the language configuration
        // variables for this instance.
        lang : function (key) {
            if (key === undefined) {
                return this._lang;
            } else {
                this._lang = getLangDefinition(key);
                return this;
            }
        }
    };

    // helper for adding shortcuts
    function makeGetterAndSetter(name, key) {
        moment.fn[name] = moment.fn[name + 's'] = function (input) {
            var utc = this._isUTC ? 'UTC' : '';
            if (input != null) {
                this._d['set' + utc + key](input);
                return this;
            } else {
                return this._d['get' + utc + key]();
            }
        };
    }

    // loop through and add shortcuts (Month, Date, Hours, Minutes, Seconds, Milliseconds)
    for (i = 0; i < proxyGettersAndSetters.length; i ++) {
        makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/, ''), proxyGettersAndSetters[i]);
    }

    // add shortcut for year (uses different syntax than the getter/setter 'year' == 'FullYear')
    makeGetterAndSetter('year', 'FullYear');

    // add plural methods
    moment.fn.days = moment.fn.day;
    moment.fn.weeks = moment.fn.week;
    moment.fn.isoWeeks = moment.fn.isoWeek;

    /************************************
        Duration Prototype
    ************************************/


    moment.duration.fn = Duration.prototype = {
        weeks : function () {
            return absRound(this.days() / 7);
        },

        valueOf : function () {
            return this._milliseconds +
              this._days * 864e5 +
              this._months * 2592e6;
        },

        humanize : function (withSuffix) {
            var difference = +this,
                output = relativeTime(difference, !withSuffix, this.lang());

            if (withSuffix) {
                output = this.lang().pastFuture(difference, output);
            }

            return this.lang().postformat(output);
        },

        lang : moment.fn.lang
    };

    function makeDurationGetter(name) {
        moment.duration.fn[name] = function () {
            return this._data[name];
        };
    }

    function makeDurationAsGetter(name, factor) {
        moment.duration.fn['as' + name] = function () {
            return +this / factor;
        };
    }

    for (i in unitMillisecondFactors) {
        if (unitMillisecondFactors.hasOwnProperty(i)) {
            makeDurationAsGetter(i, unitMillisecondFactors[i]);
            makeDurationGetter(i.toLowerCase());
        }
    }

    makeDurationAsGetter('Weeks', 6048e5);


    /************************************
        Default Lang
    ************************************/


    // Set default language, other languages will inherit from English.
    moment.lang('en', {
        ordinal : function (number) {
            var b = number % 10,
                output = (~~ (number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });


    /************************************
        Exposing Moment
    ************************************/


    // CommonJS module is defined
    if (hasModule) {
        module.exports = moment;
    }
    /*global ender:false */
    if (typeof ender === 'undefined') {
        // here, `this` means `window` in the browser, or `global` on the server
        // add `moment` as a global object via a string identifier,
        // for Closure Compiler "advanced" mode
        this['moment'] = moment;
    }
    /*global define:false */
    if (typeof define === "function" && define.amd) {
        define("moment", [], function () {
            return moment;
        });
    }
}).call(this);
;/**
 * Created by bradflyon on 6/18/14.
 */

//woohoo - this works June 18, 2014

var getCases = function(url, thingWithCallback) {

    console.log("getCases: " + url);
    //var url = "https://www.courtlistener.com/api/rest/v1/opinion/?order_by=dateFiled+desc&format=jsonp&callback=?";
    //good one... var url = "https://www.courtlistener.com/api/rest/v1/opinion/?date_filed__gt=2014-06-08&order_by=-date_filed&format=jsonp&callback=?";
//            ignorejsonpcallback: eqfeed_callback,


//    window.eqfeed_callback = function(data) {
//        console.log("eqfeed_callback: success with getting info");
//        console.log(data);
//    };

//    ignorejsonpcallback: eqfeed_callback,
    $.ajax({
            url:url,
            dataType: 'jsonp',
            jsonp: true,
            error:  function(err) {
                console.log("Error");
                console.log(err);
                //that.setTimerForNextCallCheckingQuakes();
                //that.checkingForEarthquakes = false;
                //that.setTimerForNextQuakeCheck();
            },
            success: function(data) {

                //console.log("success with results");
                var theCases = [];

                var objects = data.objects;
                for (var i=0;i<objects.length;i++) {
                    var theCase = objects[i];
                    var piecesOfCourtApiUrl = theCase.court.split("/");
                    var theCourtListenerAbbreviation = "";

                    for (var j=piecesOfCourtApiUrl.length-1;j>=0;j--) {
                        if (piecesOfCourtApiUrl[j].trim().length>0) {
                            if (theCourtListenerAbbreviation.length===0) {
                                theCourtListenerAbbreviation = piecesOfCourtApiUrl[j].trim();
                            }
                        }
                    }

                    console.log("Court had case: " + theCourtListenerAbbreviation);
                    theCases.push({courtListenerAbbreviation:theCourtListenerAbbreviation,
                                      theCase:theCase});


                    console.log(theCase);

                }
                thingWithCallback.newCasesFromCourtListener(theCases);


                //console.log(data);
                //    that.processEarthquakes(data);
                //    that.checkingForEarthquakes = false;
                //    that.setTimerForNextQuakeCheck();
            }
    });

};;"use strict";

/**
 * Created by bradflyon on 5/3/14.
 */


if(!window.console) {
    window.console = { log: function() { /* do something */ } };
}


var isDefined = function(x) {
    return (!isUndefined(x));
};

var isUndefined = function(x) {
    if (typeof x ==="undefined") {
        return true;
    }
    else {
        return false;
    }
};

//http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
var shuffleArray = function (array) {
 /**
 * Randomize array element order in-place.
 * Using Fisher-Yates shuffle algorithm.
 */
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
};

var addCommas = function(nStr, allowTranslate) {

    if (isUndefined(allowTranslate)) {
        allowTranslate = true;
    }

    nStr += '';
    var x = nStr.split('.');
    var x1 = x[0];
    var x2 = x.length > 1 ? '.' + x[1] : '';
    var rgx = /(\d+)(\d{3})/;
    while (rgx.test(x1)) {
        x1 = x1.replace(rgx, '$1' + ',' + '$2');
    }
    if (!allowTranslate) {
        return "<span class='notranslate'>" + x1 + x2 + "</span>";
    }
    else {
        return x1 + x2;
    }
};

var arrayContains = function(arr,value) {

    var bContains = false;
    arr.forEach(function(element) {
        if (element===value) {
            bContains = true;
        }
    });
    return bContains;
}

var closeAllTips = function () {
    $('.qtip').qtip('hide');
};

Array.max = function( array ){
    return Math.max.apply( Math, array );
};

Array.min = function( array ){
    return Math.min.apply( Math, array );
};

var getMiddleOfDiv = function(el) {
    var sTop = el.css("top");
    sTop = Number(sTop.substring(0, sTop.length - 2));
    return Number(sTop) + el.height()/2;
}
var getLeftOfDiv = function(el) {
    var s = el.css("left");
    s = Number(s.substring(0, s.length - 2));
    return Number(s);
}

if (typeof String.prototype.startsWith != 'function') {
    // see below for better implementation!
    String.prototype.startsWith = function (str){
        return this.indexOf(str) == 0;
    };
}

function getTheStyleBasedOnCount(count, numberHues) {

    if (count <= 0) {
        return {width: 1, color: "#777", opacity: 0.7};
//            stroke: #333;
//            stroke-width: 1px;
//            opacity:0.7;

    }
    else {
        //var numberHues = 100;

        count = Math.min(count, numberHues);

        //var hueStart = 160, hueEnd = 0;
        var hueStart = 100, hueEnd = 0;
        var deltaHue = (hueEnd - hueStart) / (numberHues - 1);

        var widthDelta = 0.1;

        var theHue = hueStart + deltaHue * count;
        var rgbString = d3.hsl(theHue, 1, 0.6).toString();

        var width = Math.max(3, Math.min(30, count * widthDelta)).toFixed(0);

        var color = rgbString;

        return {width: width, color: color};
    }
}
;/**
 * Created by bradflyon on 5/3/14.
 */

var wikiImg='https://en.wikipedia.org/wiki/Template:Infobox_United_States_District_Court_Case/images';

var districtCourts =[

    {scdbId:78, name:'District of Maine', seal:'district_maine_logo.png', sealSource:'http://www.med.uscourts.gov/sites/all/themes/us_courts_district/logo.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Maine', citation:'D. Me.', parentCitation:'1st Cir.', courtListenerAbbrev:'med', chiefJudge: 'John A. Woodcock, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/John_A._Woodcock,_Jr.', established:'1789', judges:'3',meetingPlaces:'2' },
    {scdbId:80, name:'District of Massachusetts', seal:'District-Massachusetts.gif', sealSource:'https://en.wikipedia.org/wiki/File:District-Massachusetts.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Massachusetts', citation:'D. Mass.', parentCitation:'1st Cir.', courtListenerAbbrev:'mad', chiefJudge: 'Patti B. Saris', judgeUrl:'http://en.wikipedia.org/wiki/Patti_B._Saris', established:'1789', judges:'13',meetingPlaces:'4' },
    {scdbId:91, name:'District of New Hampshire', seal:'USDCNHseal.gif', sealSource:'https://en.wikipedia.org/wiki/File:USDCNHseal.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_New_Hampshire', citation:'D.N.H.', parentCitation:'1st Cir.', courtListenerAbbrev:'nhd', chiefJudge: 'Joseph Normand Laplante', judgeUrl:'http://en.wikipedia.org/wiki/Joseph_Normand_Laplante', established:'1789', judges:'3',meetingPlaces:'2' },
    {scdbId:112, name:'District of Puerto Rico', seal:'Seal_of_the_U.S._District_Court_for_the_District_of_Puerto_Rico.gif', sealSource:'https://en.wikipedia.org/wiki/File:Seal_of_the_U.S._District_Court_for_the_District_of_Puerto_Rico.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Puerto_Rico', citation:'D.P.R.', parentCitation:'1st Cir.', courtListenerAbbrev:'prd', chiefJudge: 'Aida Delgado-Colon', judgeUrl:'http://en.wikipedia.org/wiki/Aida_Delgado-Colon', established:'1966', judges:'7',meetingPlaces:'3' },
    {scdbId:113, name:'District of Rhode Island', seal:'Seal_of_the_U.S._District_Court_for_the_District_of_Rhode_Island.jpg', sealSource:'https://en.wikipedia.org/wiki/File:Seal_of_the_U.S._District_Court_for_the_District_of_Rhode_Island.jpg', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Rhode_Island', citation:'D.R.I.', parentCitation:'1st Cir.', courtListenerAbbrev:'rid', chiefJudge: 'Mary M. Lisi', judgeUrl:'http://en.wikipedia.org/wiki/Mary_M._Lisi', established:'1790', judges:'3',meetingPlaces:'1' },
    {scdbId:53, name:'District of Connecticut', seal:'Connecticut-seal.png', sealSource:'https://en.wikipedia.org/wiki/File:Connecticut-seal.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Connecticut', citation:'D. Conn.', parentCitation:'2d Cir.', courtListenerAbbrev:'ctd', chiefJudge: 'Alvin W. Thompson', judgeUrl:'http://en.wikipedia.org/wiki/Alvin_W._Thompson', established:'1789', judges:'8',meetingPlaces:'5' },
    {scdbId:94, name:'Eastern District of New York', seal:'NewYork-eastern.gif', sealSource:'https://en.wikipedia.org/wiki/File:NewYork-eastern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_New_York', citation:'E.D.N.Y.', parentCitation:'2d Cir.', courtListenerAbbrev:'nyed', chiefJudge: 'Carol Bagley Amon', judgeUrl:'http://en.wikipedia.org/wiki/Carol_Bagley_Amon', established:'1865', judges:'15',meetingPlaces:'4' },
    {scdbId:95, name:'Northern District of New York', seal:'NewYork-northern.gif', sealSource:'https://en.wikipedia.org/wiki/File:NewYork-northern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_New_York', citation:'N.D.N.Y.', parentCitation:'2d Cir.', courtListenerAbbrev:'txnd', chiefJudge: 'Gary L. Sharpe', judgeUrl:'http://en.wikipedia.org/wiki/Gary_L._Sharpe', established:'1789', judges:'5',meetingPlaces:'8' },
    {scdbId:96, name:'Southern District of New York', seal:'NewYork-southern.gif', sealSource:'https://en.wikipedia.org/wiki/File:NewYork-southern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_New_York', citation:'S.D.N.Y.', parentCitation:'2d Cir.', courtListenerAbbrev:'nysd', chiefJudge: 'Loretta A. Preska', judgeUrl:'http://en.wikipedia.org/wiki/Loretta_A._Preska', established:'1789', judges:'28',meetingPlaces:'3' },
    {scdbId:97, name:'Western District of New York', seal:'uscourts_logo_western_new_york.png',sealSource:'http://www.nywd.uscourts.gov/sites/default/files/uscourts_logo.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_New_York', citation:'W.D.N.Y.', parentCitation:'2d Cir.', courtListenerAbbrev:'ncwd', chiefJudge: 'William M. Skretny', judgeUrl:'http://en.wikipedia.org/wiki/William_M._Skretny', established:'1900', judges:'4',meetingPlaces:'5' },
    {scdbId:124, name:'District of Vermont', seal:'District-Vermont.gif', sealSource:'https://en.wikipedia.org/wiki/File:District-Vermont.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Vermont', citation:'D. Vt.', parentCitation:'2d Cir.', courtListenerAbbrev:'vtd', chiefJudge: 'Christina Reiss', judgeUrl:'http://en.wikipedia.org/wiki/Christina_Reiss', established:'1791', judges:'2',meetingPlaces:'7' },
    {scdbId:54, name:'District of Delaware', seal:'Delaware_District_Court.gif', sealSource:'https://en.wikipedia.org/wiki/File:Delaware_District_Court.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Delaware', citation:'D. Del.', parentCitation:'3rd Cir.', courtListenerAbbrev:'ded', chiefJudge: 'Gregory Moneta Sleet', judgeUrl:'http://en.wikipedia.org/wiki/Gregory_Moneta_Sleet', established:'1789', judges:'4',meetingPlaces:'1' },
    {scdbId:92, name:'District of New Jersey', seal:'NEW JERSEY_seal_regular_color3.png', sealSource:'http://www.njd.uscourts.gov/sites/njd/files/NEW%20JERSEY_seal_regular_color3.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_New_Jersey', citation:'D.N.J.', parentCitation:'3rd Cir.', courtListenerAbbrev:'njd', chiefJudge: 'Jerome B. Simandle', judgeUrl:'http://en.wikipedia.org/wiki/Jerome_B._Simandle', established:'1798', judges:'17',meetingPlaces:'6' },
    {scdbId:109, name:'Eastern District of Pennsylvania', seal:'Seal_of_the_U.S._District_Court_for_the_Eastern_District_of_Pennsylvania.png', sealSource:'https://en.wikipedia.org/wiki/File:Seal_of_the_U.S._District_Court_for_the_Eastern_District_of_Pennsylvania.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Pennsylvania', citation:'E.D. Pa.', parentCitation:'3rd Cir.', courtListenerAbbrev:'paed', chiefJudge: 'Petrese B. Tucker', judgeUrl:'http://en.wikipedia.org/wiki/Petrese_B._Tucker', established:'1789', judges:'22',meetingPlaces:'5' },
    {scdbId:110, name:'Middle District of Pennsylvania', seal:'Pennsylvania-middle.gif',sealSource:'https://en.wikipedia.org/wiki/File:Pennsylvania-middle.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Pennsylvania', citation:'M.D. Pa.', parentCitation:'3rd Cir.', courtListenerAbbrev:'lamd', chiefJudge: 'Yvette Kane', judgeUrl:'http://en.wikipedia.org/wiki/Yvette_Kane', established:'1901', judges:'6',meetingPlaces:'5' },
    {scdbId:111, name:'Western District of Pennsylvania', seal:'Pennsylvania-western.gif', sealSource:'https://en.wikipedia.org/wiki/File:Pennsylvania-western.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Pennsylvania', citation:'W.D. Pa.', parentCitation:'3rd Cir.', courtListenerAbbrev:'pawd', chiefJudge: 'Joy Flowers Conti', judgeUrl:'http://en.wikipedia.org/wiki/Joy_Flowers_Conti', established:'1789', judges:'10',meetingPlaces:'3' },
    {scdbId:125, name:'District of the Virgin Islands', seal:'District-VirginIslands.gif', sealSource:'https://en.wikipedia.org/wiki/File:District-VirginIslands.gif', wikiUrl:'http://en.wikipedia.org/wiki/District_Court_of_the_Virgin_Islands', citation:'D.V.I.', parentCitation:'3rd Cir.', courtListenerAbbrev:'vid', chiefJudge: 'Curtis V. Gomez', judgeUrl:'http://en.wikipedia.org/w/index.php?title=Curtis_V._Gomez&action=edit&redlink=1', established:'1936', judges:'2',meetingPlaces:'2' },
    {scdbId:79, name:'District of Maryland', seal:'dc_maryland.png', sealSource:'http://mdcourts.gov/district/index.html', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Maryland', citation:'D. Md.', parentCitation:'4th Cir.', courtListenerAbbrev:'mad', chiefJudge: 'Deborah K. Chasanow', judgeUrl:'http://en.wikipedia.org/wiki/Deborah_K._Chasanow', established:'1789', judges:'10',meetingPlaces:'4' },
    {scdbId:98, name:'Eastern District of North Carolina', seal:'Seal_of_the_U.S._District_Court_for_the_Eastern_District_of_North_Carolina.gif', sealSource:'https://en.wikipedia.org/wiki/File:Seal_of_the_U.S._District_Court_for_the_Eastern_District_of_North_Carolina.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_North_Carolina', citation:'E.D.N.C.', parentCitation:'4th Cir.', courtListenerAbbrev:'nced', chiefJudge: 'James C. Dever III', judgeUrl:'http://en.wikipedia.org/wiki/James_C._Dever_III', established:'1790', judges:'4',meetingPlaces:'7' },
    {scdbId:99, name:'Middle District of North Carolina', seal:'NorthCarolina-middle.gif', sealSource:'https://en.wikipedia.org/wiki/File:NorthCarolina-middle.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_North_Carolina', citation:'M.D.N.C.', parentCitation:'4th Cir.', courtListenerAbbrev:'ncmd', chiefJudge: 'James A. Beaty, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/James_A._Beaty,_Jr.', established:'1927', judges:'4',meetingPlaces:'3' },
    {scdbId:100, name:'Western District of North Carolina', seal:'NorthCarolina-western.gif', sealSource:'https://en.wikipedia.org/wiki/File:NorthCarolina-western.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_North_Carolina', citation:'W.D.N.C.', parentCitation:'4th Cir.', courtListenerAbbrev:'ncwd', chiefJudge: 'Robert James Conrad, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Robert_James_Conrad,_Jr.', established:'1790', judges:'5',meetingPlaces:'5' },
    {scdbId:114, note:'Became single district in 1965',  name:'District of South Carolina', ignoreseal:'top_grey_sc.gif', sealSource:'http://www.scd.uscourts.gov/Graphics/top_grey.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_South_Carolina', citation:'D.S.C.', parentCitation:'4th Cir.', courtListenerAbbrev:'scd', chiefJudge: 'Terry L. Wooten', judgeUrl:'http://en.wikipedia.org/wiki/Terry_L._Wooten', established:'1789', judges:'10',meetingPlaces:'11' },
    {scdbId:126, name:'Eastern District of Virginia',seal:'Virginia-eastern.gif', sealSource:'https://en.wikipedia.org/wiki/File:Virginia-eastern.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Virginia', citation:'E.D. Va.', parentCitation:'4th Cir.', courtListenerAbbrev:'vaed', chiefJudge: 'Rebecca Beach Smith', judgeUrl:'http://en.wikipedia.org/wiki/Rebecca_Beach_Smith', established:'1789', judges:'11',meetingPlaces:'4' },
    {scdbId:127, name:'Western District of Virginia', seal:'Virginia-western.gif', sealSource:'https://en.wikipedia.org/wiki/File:Virginia-western.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Virginia', citation:'W.D. Va.', parentCitation:'4th Cir.', courtListenerAbbrev:'vawd', chiefJudge: 'Glen E. Conrad', judgeUrl:'http://en.wikipedia.org/wiki/Glen_E._Conrad', established:'1789', judges:'4',meetingPlaces:'7' },
    {scdbId:130, name:'Northern District of West Virginia', seal:'WestVirginia-northern.gif', sealSource:'https://en.wikipedia.org/wiki/File:WestVirginia-northern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_West_Virginia', citation:'N.D. W. Va.', parentCitation:'4th Cir.', courtListenerAbbrev:'txnd', chiefJudge: 'John Preston Bailey', judgeUrl:'http://en.wikipedia.org/wiki/John_Preston_Bailey', established:'1864', judges:'3',meetingPlaces:'5' },
    {scdbId:131, name:'Southern District of West Virginia', seal:'WestVirginia-southern.gif', sealSource:'https://en.wikipedia.org/wiki/File:WestVirginia-southern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_West_Virginia', citation:'S.D. W. Va.', parentCitation:'4th Cir.', courtListenerAbbrev:'txsd', chiefJudge: 'Joseph Robert Goodwin', judgeUrl:'http://en.wikipedia.org/wiki/Joseph_Robert_Goodwin', established:'1864', judges:'5',meetingPlaces:'6' },

    {scdbId:75, name:'Eastern District of Louisiana', seal:'Louisiana-eastern.gif', sealSource:'https://en.wikipedia.org/wiki/File:Louisiana-eastern.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Louisiana', citation:'E.D. La.', parentCitation:'5th Cir.', courtListenerAbbrev:'laed', chiefJudge: 'Sarah S. Vance', judgeUrl:'http://en.wikipedia.org/wiki/Sarah_S._Vance', established:'1804', judges:'12',meetingPlaces:'2' },
    {scdbId:76, name:'Middle District of Louisiana', seal:'Louisiana-middle.gif', sealSource:'https://en.wikipedia.org/wiki/File:Louisiana-middle.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Louisiana', citation:'M.D. La.', parentCitation:'5th Cir.', courtListenerAbbrev:'lamd', chiefJudge: 'Brian Anthony Jackson', judgeUrl:'http://en.wikipedia.org/wiki/Brian_Anthony_Jackson', established:'1971', judges:'3',meetingPlaces:'1' },
    {scdbId:77, name:'Western District of Louisiana', seal:'Louisiana-western.gif',  sealSource:'https://en.wikipedia.org/wiki/File:Louisiana-western.gif', swikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Louisiana', citation:'W.D. La.', parentCitation:'5th Cir.', courtListenerAbbrev:'lawd', chiefJudge: 'Dee D. Drell', judgeUrl:'http://en.wikipedia.org/wiki/Dee_D._Drell', established:'1804', judges:'7',meetingPlaces:'6' },
    {scdbId:84, name:'Northern District of Mississippi', seal:'Northern_district_Mississippi_seal_v4_LS.png', sealSource:'http://www.msnd.uscourts.gov/sites/msnd/files/Northern_district_Mississippi_seal_v4_LS.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Mississippi', citation:'N.D. Miss.', parentCitation:'5th Cir.', courtListenerAbbrev:'msnd', chiefJudge: 'Michael P. Mills', judgeUrl:'http://en.wikipedia.org/wiki/Michael_P._Mills', established:'1818', judges:'3',meetingPlaces:'7' },
    {scdbId:85, name:'Southern District of Mississippi', seal:'SOUTHERN DISTRICT OF MISSISSIPPI_color3.png', sealSource:'http://www.mssd.uscourts.gov/sites/mssd/files/SOUTHERN%20DISTRICT%20OF%20MISSISSIPPI_color3.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Mississippi', citation:'S.D. Miss.', parentCitation:'5th Cir.', courtListenerAbbrev:'mssd', chiefJudge: 'Louis Guirola, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Louis_Guirola,_Jr.', established:'1818', judges:'6',meetingPlaces:'7' },
    {scdbId:119, name:'Eastern District of Texas', seal:'Texas-eastern.gif',sealSource:'https://en.wikipedia.org/wiki/Template:Infobox_United_States_District_Court_Case/images',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Texas', citation:'E.D. Tex.', parentCitation:'5th Cir.', courtListenerAbbrev:'txed', chiefJudge: 'Leonard Davis', judgeUrl:'http://en.wikipedia.org/wiki/Leonard_Davis_(judge)', established:'1845', judges:'8',meetingPlaces:'7' },
    {scdbId:120, name:'Northern District of Texas', seal:'Seal_of_the_U.S._District_Court_for_the_Northern_District_of_Texas.gif', sealSource:'https://en.wikipedia.org/wiki/Template:Infobox_United_States_District_Court_Case/images',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Texas', citation:'N.D. Tex.', parentCitation:'5th Cir.', courtListenerAbbrev:'txnd', chiefJudge: 'Sidney A. Fitzwater', judgeUrl:'http://en.wikipedia.org/wiki/Sidney_A._Fitzwater', established:'1879', judges:'12',meetingPlaces:'7' },
    {scdbId:121, name:'Southern District of Texas', seal:'Texas-southern.gif', sealSource:'https://en.wikipedia.org/wiki/Template:Infobox_United_States_District_Court_Case/images',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Texas', citation:'S.D. Tex.', parentCitation:'5th Cir.', courtListenerAbbrev:'txsd', chiefJudge: 'Ricardo Hinojosa', judgeUrl:'http://en.wikipedia.org/wiki/Ricardo_Hinojosa', established:'1902', judges:'19',meetingPlaces:'7' },
    {scdbId:122, name:'Western District of Texas', seal:'Texas-western.gif',
                sealSource:'https://en.wikipedia.org/wiki/Template:Infobox_United_States_District_Court_Case/images',
                wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Texas',
                citation:'W.D. Tex.',
                parentCitation:'5th Cir.', courtListenerAbbrev:'txwd', chiefJudge: 'Samuel Frederick Biery, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Samuel_Frederick_Biery,_Jr.', established:'1845', judges:'13',meetingPlaces:'8' },
    {scdbId:73, name:'Eastern District of Kentucky', seal:'225px-EDKY_seal.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Kentucky', citation:'E.D. Ky.', parentCitation:'6th Cir.', courtListenerAbbrev:'kyed', chiefJudge: 'Karen K. Caldwell', judgeUrl:'http://en.wikipedia.org/wiki/Karen_K._Caldwell', established:'1789', judges:'6',meetingPlaces:'9' },
    {scdbId:74, name:'Western District of Kentucky', seal:'ky_western_district_logo.png', sealSource:'http://www.kywd.uscourts.gov/',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Kentucky', citation:'W.D. Ky.', parentCitation:'6th Cir.', courtListenerAbbrev:'kywd', chiefJudge: 'Joseph H. McKinley, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Joseph_H._McKinley,_Jr.', established:'1789', judges:'5',meetingPlaces:'4' },
    {scdbId:81, name:'Eastern District of Michigan', seal:'United_States_District_Court_for_the_Eastern_District_of_Michigan_seal.png', sealSource:'http://en.wikipedia.org/wiki/File:United_States_District_Court_for_the_Eastern_District_of_Michigan_seal.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Michigan', citation:'E.D. Mich.', parentCitation:'6th Cir.', courtListenerAbbrev:'mied', chiefJudge: 'Gerald Ellis Rosen', judgeUrl:'http://en.wikipedia.org/wiki/Gerald_Ellis_Rosen', established:'1836', judges:'15',meetingPlaces:'5' },
    {scdbId:82, name:'Western District of Michigan', seal:'smallseal_western_district_michigan.gif',sealSource:'http://www.miwd.uscourts.gov/images/smallseal.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Michigan', citation:'W.D. Mich.', parentCitation:'6th Cir.', courtListenerAbbrev:'miwd', chiefJudge: 'Paul Lewis Maloney', judgeUrl:'http://en.wikipedia.org/wiki/Paul_Lewis_Maloney', established:'1836', judges:'4',meetingPlaces:'6' },
    {scdbId:103, name:'Northern District of Ohio', seal:'Ohio-northern.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Ohio', citation:'N.D. Ohio', parentCitation:'6th Cir.', courtListenerAbbrev:'ohnd', chiefJudge: 'Solomon Oliver, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Solomon_Oliver,_Jr.', established:'1803', judges:'12',meetingPlaces:'5' },
    {scdbId:104, name:'Southern District of Ohio', seal:'225px-Ohio-southern.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Ohio', citation:'S.D. Ohio', parentCitation:'6th Cir.', courtListenerAbbrev:'ohsd', chiefJudge: 'Susan J. Dlott', judgeUrl:'http://en.wikipedia.org/wiki/Susan_J._Dlott', established:'1803', judges:'8',meetingPlaces:'5' },
    {scdbId:116, name:'Eastern District of Tennessee',seal:'Seal_of_the_U.S._District_Court_for_the_Eastern_District_of_Tennessee.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Tennessee', citation:'E.D. Tenn.', parentCitation:'6th Cir.', courtListenerAbbrev:'tned', chiefJudge: 'Thomas A. Varlan', judgeUrl:'http://en.wikipedia.org/wiki/Thomas_A._Varlan', established:'1797', judges:'5',meetingPlaces:'4' },
    {scdbId:117, name:'Middle District of Tennessee', seal:'Tennessee-middle.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Tennessee', citation:'M.D. Tenn.', parentCitation:'6th Cir.', courtListenerAbbrev:'tnmd', chiefJudge: 'William Joseph Haynes, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/William_Joseph_Haynes,_Jr.', established:'1839', judges:'4',meetingPlaces:'3' },
    {scdbId:118, name:'Western District of Tennessee', seal:'Tennessee-western.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Tennessee', citation:'W.D. Tenn.', parentCitation:'6th Cir.', courtListenerAbbrev:'tnwd', chiefJudge: 'J. Daniel Breen', judgeUrl:'http://en.wikipedia.org/wiki/J._Daniel_Breen', established:'1797', judges:'5',meetingPlaces:'3' },
    {scdbId:66, name:'Northern District of Illinois', seal:'N.D._Ill._seal.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Illinois', citation:'N.D. Ill.', parentCitation:'7th Cir.', courtListenerAbbrev:'ilnd', chiefJudge: 'Ruben Castillo', judgeUrl:'http://en.wikipedia.org/wiki/Ruben_Castillo_(judge)', established:'1819', judges:'22',meetingPlaces:'4' },
    {scdbId:65, name:'Central District of Illinois', seal:'ilcd_seal_0.png',sealSource:'http://www.ilcd.uscourts.gov/sites/ilcd/files/ilcd_seal_0.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Central_District_of_Illinois', citation:'C.D. Ill.', parentCitation:'7th Cir.', courtListenerAbbrev:'ilcd', chiefJudge: 'James E. Shadid', judgeUrl:'http://en.wikipedia.org/wiki/James_E._Shadid', established:'1978', judges:'4',meetingPlaces:'6' },
    {scdbId:67, name:'Southern District of Illinois', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Illinois', citation:'S.D. Ill.', parentCitation:'7th Cir.', courtListenerAbbrev:'ilsd', chiefJudge: 'David R. Herndon', judgeUrl:'http://en.wikipedia.org/wiki/David_R._Herndon', established:'1819', judges:'4',meetingPlaces:'4' },
    {scdbId:68, name:'Northern District of Indiana', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Indiana', citation:'N.D. Ind.', parentCitation:'7th Cir.', courtListenerAbbrev:'innd', chiefJudge: 'Philip P. Simon', judgeUrl:'http://en.wikipedia.org/wiki/Philip_P._Simon', established:'1817', judges:'5',meetingPlaces:'4' },
    {scdbId:69, name:'Southern District of Indiana', seal:'insd_seal_2.png', sealSource:'http://www.insd.uscourts.gov/sites/insd/files/insd_seal_2.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Indiana', citation:'S.D. Ind.', parentCitation:'7th Cir.', courtListenerAbbrev:'insd', chiefJudge: 'Richard L. Young', judgeUrl:'http://en.wikipedia.org/wiki/Richard_L._Young', established:'1817', judges:'5',meetingPlaces:'5' },
    {scdbId:132, name:'Eastern District of Wisconsin', seal:'Wisconsin-eastern.png', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Wisconsin', citation:'E.D. Wis.', parentCitation:'7th Cir.', courtListenerAbbrev:'waed', chiefJudge: 'William C. Griesbach', judgeUrl:'http://en.wikipedia.org/wiki/William_C._Griesbach', established:'1848', judges:'5',meetingPlaces:'3' },
    {scdbId:133, name:'Western District of Wisconsin', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Wisconsin', citation:'W.D. Wis.', parentCitation:'7th Cir.', courtListenerAbbrev:'wiwd', chiefJudge: 'William M. Conley', judgeUrl:'http://en.wikipedia.org/wiki/William_M._Conley', established:'1848', judges:'2',meetingPlaces:'5' },
    {scdbId:46, name:'Eastern District of Arkansas', seal:'Arkansas-eastern.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Arkansas', citation:'E.D. Ark.', parentCitation:'8th Cir.', courtListenerAbbrev:'ared', chiefJudge: 'Brian Stacy Miller', judgeUrl:'http://en.wikipedia.org/wiki/Brian_Stacy_Miller', established:'1836', judges:'5',meetingPlaces:'5' },
    {scdbId:47, name:'Western District of Arkansas', seal:'225px-Arkansas-western.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Arkansas', citation:'W.D. Ark.', parentCitation:'8th Cir.', courtListenerAbbrev:'arwd', chiefJudge: 'Paul K. Holmes III', judgeUrl:'http://en.wikipedia.org/wiki/Paul_K._Holmes_III', established:'1836', judges:'3',meetingPlaces:'6' },
    {scdbId:70, name:'Northern District of Iowa',ignoreseal:'header_nd_iowa.jpg', sealSource:'http://www.iand.uscourts.gov/e-web/home.nsf/header.jpg', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Iowa', citation:'N.D. Iowa', parentCitation:'8th Cir.', courtListenerAbbrev:'iand', chiefJudge: 'Linda R. Reade', judgeUrl:'http://en.wikipedia.org/wiki/Linda_R._Reade', established:'1845', judges:'2',meetingPlaces:'6' },
    {scdbId:71, name:'Southern District of Iowa', ignoreseal:'logo2_sd_iowa.png',sealSource:'http://www.iasd.uscourts.gov/templates/districtwebsite_v4/images/logo2.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Iowa', citation:'S.D. Iowa', parentCitation:'8th Cir.', courtListenerAbbrev:'iasd', chiefJudge: 'James E. Gritzner', judgeUrl:'http://en.wikipedia.org/wiki/James_E._Gritzner', established:'1845', judges:'3',meetingPlaces:'6' },
    {scdbId:83, name:'District of Minnesota', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Minnesota', citation:'D. Minn.', parentCitation:'8th Cir.', courtListenerAbbrev:'med', chiefJudge: 'Michael J. Davis', judgeUrl:'http://en.wikipedia.org/wiki/Michael_J._Davis', established:'1858', judges:'7',meetingPlaces:'6' },
    {scdbId:86, name:'Eastern District of Missouri',seal:'200px-E.D.Mo._Seal.svg.png', sealSource:'http://upload.wikimedia.org/wikipedia/commons/thumb/1/14/E.D.Mo._Seal.svg/200px-E.D.Mo._Seal.svg.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Missouri', citation:'E.D. Mo.', parentCitation:'8th Cir.', courtListenerAbbrev:'moed', chiefJudge: 'Catherine D. Perry', judgeUrl:'http://en.wikipedia.org/wiki/Catherine_D._Perry', established:'1822', judges:'9',meetingPlaces:'3' },
    {scdbId:87, name:'Western District of Missouri', seal:'seal_western_district_missouri.gif', sealSource:'http://www.mow.uscourts.gov/images/seal.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Missouri', citation:'W.D. Mo.', parentCitation:'8th Cir.', courtListenerAbbrev:'mowd', chiefJudge: 'Fernando J. Gaitan, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Fernando_J._Gaitan,_Jr.', established:'1822', judges:'7',meetingPlaces:'5' },
    {scdbId:89, name:'District of Nebraska', seal:'seal_ned.png', sealSource:'http://www.ned.uscourts.gov/sites/default/files/images/seal_ned.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Nebraska', citation:'D. Neb.', parentCitation:'8th Cir.', courtListenerAbbrev:'ned', chiefJudge: 'Laurie Smith Camp', judgeUrl:'http://en.wikipedia.org/wiki/Laurie_Smith_Camp', established:'1867', judges:'3',meetingPlaces:'3' },
    {scdbId:101, name:'District of North Dakota',seal:'DISTRICT OF NORTH DAKOTA_color2.png', sealSource:'http://www.ndd.uscourts.gov/sites/default/files/DISTRICT%20OF%20NORTH%20DAKOTA_color2.png',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_North_Dakota', citation:'D.N.D.', parentCitation:'8th Cir.', courtListenerAbbrev:'ndd', chiefJudge: 'Ralph R. Erickson', judgeUrl:'http://en.wikipedia.org/wiki/Ralph_R._Erickson', established:'1890', judges:'2',meetingPlaces:'4' },
    {scdbId:115, name:'District of South Dakota', seal:'District-SouthDakota.gif', sealSource:'http://en.wikipedia.org/wiki/File:District-SouthDakota.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_South_Dakota', citation:'D.S.D.', parentCitation:'8th Cir.', courtListenerAbbrev:'sdd', chiefJudge: 'Jeffrey L. Viken', judgeUrl:'http://en.wikipedia.org/wiki/Jeffrey_L._Viken', established:'1889', judges:'3',meetingPlaces:'5' },
    {scdbId:44, name:'District of Alaska', seal:'Seal_of_the_United_States_District_Court_for_the_District_of_Alaska.gif', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_United_States_District_Court_for_the_District_of_Alaska.gif',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Alaska', citation:'D. Alaska', parentCitation:'9th Cir.', courtListenerAbbrev:'akd', chiefJudge: 'Ralph R. Beistline', judgeUrl:'http://en.wikipedia.org/wiki/Ralph_R._Beistline', established:'1958', judges:'3',meetingPlaces:'5' },
    {scdbId:45, name:'District of Arizona', seal:'district_Arizona_seal_v1_AG.png', sealSource:'http://www.azd.uscourts.gov/sites/default/files/district_Arizona_seal_v1_AG.png', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Arizona', citation:'D. Ariz.', parentCitation:'9th Cir.', courtListenerAbbrev:'azd', chiefJudge: 'Raner C. Collins', judgeUrl:'http://en.wikipedia.org/wiki/Raner_C._Collins', established:'1910', judges:'13',meetingPlaces:'4' },
    {scdbId:48, name:'Central District of California', seal:'California-central.png', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Central_District_of_California', citation:'C.D. Cal.', parentCitation:'9th Cir.', courtListenerAbbrev:'cacd', chiefJudge: 'George H. King', judgeUrl:'http://en.wikipedia.org/wiki/George_H._King', established:'1966', judges:'28',meetingPlaces:'4' },
    {scdbId:49, name:'Eastern District of California', seal:'California-eastern.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_California', citation:'E.D. Cal.', parentCitation:'9th Cir.', courtListenerAbbrev:'ared', chiefJudge: 'Morrison C. England, Jr.', judgeUrl:'http://en.wikipedia.org/wiki/Morrison_C._England,_Jr.', established:'1966', judges:'6',meetingPlaces:'3' },
    {scdbId:50, name:'Northern District of California',seal:'225px-US_DC_NorCal.svg.png', sealSource:wikiImg,   wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_California', citation:'N.D. Cal.', parentCitation:'9th Cir.', courtListenerAbbrev:'cand', chiefJudge: 'Claudia Ann Wilken', judgeUrl:'http://en.wikipedia.org/wiki/Claudia_Ann_Wilken', established:'1850', judges:'14',meetingPlaces:'4' },
    {scdbId:51, name:'Southern District of California', seal:'California-southern.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_California', citation:'S.D. Cal.', parentCitation:'9th Cir.', courtListenerAbbrev:'casd', chiefJudge: 'Barry Ted Moskowitz', judgeUrl:'http://en.wikipedia.org/wiki/Barry_Ted_Moskowitz', established:'1850', judges:'13',meetingPlaces:'1' },
    {scdbId:62, name:'District of Guam', seal:'Guam-seal.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Guam', citation:'D. Guam', parentCitation:'9th Cir.', courtListenerAbbrev:'gud', chiefJudge: 'Frances Marie Tydingco-Gatewood', judgeUrl:'http://en.wikipedia.org/w/index.php?title=Frances_Marie_Tydingco-Gatewood&action=edit&redlink=1', established:'1951', judges:'1',meetingPlaces:'1' },
    {scdbId:63, name:'District of Hawaii',seal:'Hawaii-seal.png', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Hawaii', citation:'D. Haw.', parentCitation:'9th Cir.', courtListenerAbbrev:'hid', chiefJudge: 'Susan Oki Mollway', judgeUrl:'http://en.wikipedia.org/wiki/Susan_Oki_Mollway', established:'1959', judges:'4',meetingPlaces:'1' },
    {scdbId:64, name:'District of Idaho', seal:'District-Idaho.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Idaho', citation:'D. Idaho', parentCitation:'9th Cir.', courtListenerAbbrev:'idd', chiefJudge: 'B. Lynn Winmill', judgeUrl:'http://en.wikipedia.org/wiki/B._Lynn_Winmill', established:'1890', judges:'2',meetingPlaces:'4' },
    {scdbId:88, name:'District of Montana',seal:'MontanaDistrictCourt.gif', sealSource:'http://en.wikipedia.org/wiki/File:MontanaDistrictCourt.gif', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Montana', citation:'D. Mont.', parentCitation:'9th Cir.', courtListenerAbbrev:'mtd', chiefJudge: 'Dana L. Christensen', judgeUrl:'http://en.wikipedia.org/wiki/Dana_L._Christensen', established:'1889', judges:'3',meetingPlaces:'11' },
    {scdbId:90, name:'District of Nevada', seal:'UnitedStatesDistrictCourtDistrictNevada.png', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Nevada', citation:'D. Nev.', parentCitation:'9th Cir.', courtListenerAbbrev:'nvd', chiefJudge: 'Robert Clive Jones', judgeUrl:'http://en.wikipedia.org/wiki/Robert_Clive_Jones', established:'1865', judges:'7',meetingPlaces:'6' },
    {scdbId:102, name:'District of the Northern Mariana Islands', seal:'District-NorthernMarianaIslands.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_Mariana_Islands', citation:'D.N. Mar. I.', parentCitation:'9th Cir.', courtListenerAbbrev:'dcd', chiefJudge: 'Ramona Villagomez Manglona', judgeUrl:'http://en.wikipedia.org/wiki/Ramona_Villagomez_Manglona', established:'1977', judges:'1',meetingPlaces:'1' },
    {scdbId:108, name:'District of Oregon', seal:'Seal_of_the_U.S._District_Court_for_the_District_of_Oregon.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Oregon', citation:'D. Or.', parentCitation:'9th Cir.', courtListenerAbbrev:'ord', chiefJudge: 'Ann L. Aiken', judgeUrl:'http://en.wikipedia.org/wiki/Ann_L._Aiken', established:'1859', judges:'6',meetingPlaces:'7' },
    {scdbId:128, name:'Eastern District of Washington', seal:'Washington-eastern.gif',  sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Washington', citation:'E.D. Wash.', parentCitation:'9th Cir.', courtListenerAbbrev:'waed', chiefJudge: 'Rosanna M. Peterson', judgeUrl:'http://en.wikipedia.org/wiki/Rosanna_M._Peterson', established:'1890', judges:'4',meetingPlaces:'4' },
    {scdbId:129, name:'Western District of Washington', seal:'Washington-western.gif',  sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Washington', citation:'W.D. Wash.', parentCitation:'9th Cir.', courtListenerAbbrev:'wawd', chiefJudge: 'Marsha J. Pechman', judgeUrl:'http://en.wikipedia.org/wiki/Marsha_J._Pechman', established:'1890', judges:'8',meetingPlaces:'3' },
    {scdbId:52, name:'District of Colorado', seal:'Colorado-seal.png', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Colorado', citation:'D. Colo.', parentCitation:'10th Cir.', courtListenerAbbrev:'californiad', chiefJudge: 'Marcia S. Krieger', judgeUrl:'http://en.wikipedia.org/wiki/Marcia_S._Krieger', established:'1876', judges:'7',meetingPlaces:'8' },
    {scdbId:72, name:'District of Kansas', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Kansas', citation:'D. Kan.', parentCitation:'10th Cir.', courtListenerAbbrev:'ksd', chiefJudge: 'Kathryn Hoefer Vratil', judgeUrl:'http://en.wikipedia.org/wiki/Kathryn_Hoefer_Vratil', established:'1861', judges:'6',meetingPlaces:'9' },
    {scdbId:93, name:'District of New Mexico', seal:'Seal_of_the_U.S._District_Court_for_the_District_of_New_Mexico.jpg', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_U.S._District_Court_for_the_District_of_New_Mexico.jpg',  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_New_Mexico', citation:'D.N.M.', parentCitation:'10th Cir.', courtListenerAbbrev:'nmd', chiefJudge: 'M. Christina Armijo', judgeUrl:'http://en.wikipedia.org/wiki/M._Christina_Armijo', established:'1910', judges:'7',meetingPlaces:'3' },
    {scdbId:105, name:'Eastern District of Oklahoma', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Oklahoma', citation:'E.D. Okla.', parentCitation:'10th Cir.', courtListenerAbbrev:'moed', chiefJudge: 'James H. Payne', judgeUrl:'http://en.wikipedia.org/wiki/James_H._Payne', established:'1906', judges:'2',meetingPlaces:'8' },
    {scdbId:106, name:'Northern District of Oklahoma', seal:'Oklahoma-northern.gif',  sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Oklahoma', citation:'N.D. Okla.', parentCitation:'10th Cir.', courtListenerAbbrev:'ohnd', chiefJudge: 'Gregory Kent Frizzell', judgeUrl:'http://en.wikipedia.org/wiki/Gregory_Kent_Frizzell', established:'1925', judges:'4',meetingPlaces:'5' },
    {scdbId:107, name:'Western District of Oklahoma', seal:'Oklahoma-western.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Western_District_of_Oklahoma', citation:'W.D. Okla.', parentCitation:'10th Cir.', courtListenerAbbrev:'mowd', chiefJudge: 'Vicki Miles-LaGrange', judgeUrl:'http://en.wikipedia.org/wiki/Vicki_Miles-LaGrange', established:'1906', judges:'7',meetingPlaces:'10' },
    {scdbId:123, name:'District of Utah', seal:'District-Utah.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Utah', citation:'D. Utah', parentCitation:'10th Cir.', courtListenerAbbrev:'utd', chiefJudge: 'Ted Stewart', judgeUrl:'http://en.wikipedia.org/wiki/Ted_Stewart', established:'1894', judges:'5',meetingPlaces:'4' },
    {scdbId:134, name:'District of Wyoming', seal:'District-Wyoming.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Wyoming', citation:'D. Wyo.', parentCitation:'10th Cir.', courtListenerAbbrev:'wyd', chiefJudge: 'Nancy D. Freudenthal', judgeUrl:'http://en.wikipedia.org/wiki/Nancy_D._Freudenthal', established:'1890', judges:'3',meetingPlaces:'6' },
    {scdbId:42, name:'Northern District of Alabama', seal:'NDAla_seal.gif',sealSource:'https://en.wikipedia.org/wiki/File:NDAla_seal.gif',
                wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Alabama', citation:'N.D. Ala.', parentCitation:'11th Cir.', courtListenerAbbrev:'alnd', chiefJudge: 'Sharon Lovelace Blackburn', judgeUrl:'http://en.wikipedia.org/wiki/Sharon_Lovelace_Blackburn', established:'1820', judges:'8',meetingPlaces:'8' },
    {scdbId:41, name:'Middle District of Alabama', seal:'Seal_of_the_United_States_District_Court_for_the_Middle_District_of_Alabama.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Alabama', citation:'M.D. Ala.', parentCitation:'11th Cir.', courtListenerAbbrev:'almd', chiefJudge: 'William Keith Watkins', judgeUrl:'http://en.wikipedia.org/wiki/William_Keith_Watkins', established:'1839', judges:'3',meetingPlaces:'3' },
    {scdbId:43, name:'Southern District of Alabama', seal:'225px-Alabama-southern.gif', sealSource:wikiImg,
        wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Alabama', citation:'S.D. Ala.', parentCitation:'11th Cir.', courtListenerAbbrev:'alsd', chiefJudge: 'William H. Steele', judgeUrl:'http://en.wikipedia.org/wiki/William_H._Steele', established:'1820', judges:'3',meetingPlaces:'2' },
    {scdbId:57, name:'Northern District of Florida', seal:'225px-USDC-seal_northern_fla.gif', sealSource:wikiImg,
                wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Florida', citation:'N.D. Fla.', parentCitation:'11th Cir.', courtListenerAbbrev:'flnd', chiefJudge: 'Margaret Catharine Rodgers', judgeUrl:'http://en.wikipedia.org/wiki/Margaret_Catharine_Rodgers', established:'1845', judges:'4',meetingPlaces:'6' },
    {scdbId:56, name:'Middle District of Florida', seal:'Florida-middle.jpg',  sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Florida', citation:'M.D. Fla.', parentCitation:'11th Cir.', courtListenerAbbrev:'flmd', chiefJudge: 'Anne C. Conway', judgeUrl:'http://en.wikipedia.org/wiki/Anne_C._Conway', established:'1962', judges:'15',meetingPlaces:'8' },
    {scdbId:58, name:'Southern District of Florida', seal:'Florida-southern.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Florida', citation:'S.D. Fla.', parentCitation:'11th Cir.', courtListenerAbbrev:'flsd', chiefJudge: 'Federico A. Moreno', judgeUrl:'http://en.wikipedia.org/wiki/Federico_A._Moreno', established:'1845', judges:'18',meetingPlaces:'5' },
    {scdbId:60, name:'Northern District of Georgia', seal:'Georgia-northern.gif', sealSource:wikiImg,    wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Northern_District_of_Georgia', citation:'N.D. Ga.', parentCitation:'11th Cir.', courtListenerAbbrev:'gand', chiefJudge: 'Julie E. Carnes', judgeUrl:'http://en.wikipedia.org/wiki/Julie_E._Carnes', established:'1789', judges:'11',meetingPlaces:'4' },
    {scdbId:59, name:'Middle District of Georgia',  seal:'Georgia-middle.gif', sealSource:wikiImg, wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Middle_District_of_Georgia', citation:'M.D. Ga.', parentCitation:'11th Cir.', courtListenerAbbrev:'flmd', chiefJudge: 'C. Ashley Royal', judgeUrl:'http://en.wikipedia.org/wiki/C._Ashley_Royal', established:'1926', judges:'4',meetingPlaces:'7' },
    {scdbId:61, name:'Southern District of Georgia', seal:'Seal_of_the_United_States_District_Court_for_the_Southern_District_of_Georgia.gif', sealSource:wikiImg,  wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_Southern_District_of_Georgia', citation:'S.D. Ga.', parentCitation:'11th Cir.', courtListenerAbbrev:'gasd', chiefJudge: 'Lisa Godbey Wood', judgeUrl:'http://en.wikipedia.org/wiki/Lisa_Godbey_Wood', established:'1789', judges:'3',meetingPlaces:'6' },
    {scdbId:55, name:'District of Columbia', wikiUrl:'http://en.wikipedia.org/wiki/United_States_District_Court_for_the_District_of_Columbia', citation:'D.D.C.', parentCitation:'D.C. Cir.', courtListenerAbbrev:'dcd', chiefJudge: 'Richard W. Roberts', judgeUrl:'http://en.wikipedia.org/wiki/Richard_W._Roberts', established:'1802', judges:'15',meetingPlaces:'1' }

];
//old one Middle District California

//state courts that can appeal to state appellate courts
//California 58 courts
//Arkansas 23 circuit courts

//Colorado: 22 judicial districts
;/**
 * Created by bradflyon on 5/15/14.
 */

var judges = [

    {name:"John G. Roberts, Jr"
        , title:"Chief Justice of the United States"
        , img:"sc_JRoberts.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/JRoberts.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President George W. Bush", party:"R", year:2005}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    ,
    {name:"Antonio Scalia"
        , title:"Associate Justice"
        , img:"sc_AScalia2.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/AScalia2.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Ronald Reagan", party:"R", year:1986}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    ,
    {name:"Anthony M. Kennedy"
        , title:"Associate Justice"
        , img:"sc_AKennedy.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/AKennedy.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Ronald Reagan", party:"R", year:1988}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Clarence Thomas"
        , title:"Associate Justice"
        , img:"sc_CThomas.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/CThomas.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President George Bush", party:"R", year:1991}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Ruth Bader Ginsburg"
        , title:"Associate Justice"
        , img:"sc_RGinsburg2.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/RGinsburg2.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Clinton", party:"D", year:1993}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Stephen G. Breyer"
        , title:"Associate Justice"
        , img:"sc_SBreyer.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/SBreyer.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Clinton", party:"D", year:1994}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Samuel Anthony Alito, Jr."
        , title:"Associate Justice"
        , img:"sc_SAlito.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/SAlito.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President George W. Bush", party:"R", year:2006}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Sonia Sotomayor"
        , title:"Associate Justice"
        , img:"sc_SSotomayor.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/SSotomayor.jpg.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Barack Obama", party:"D", year:2009}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }
    , {name:"Elena Kagan"
        , title:"Associate Justice"
        , img:"sc_EKagan.jpg"
        , imgSource:"http://www.supremecourt.gov/about/justice_pictures/EKagan.jpg.jpg"
        , court:"SCOTUS"
        , nominatedBy:{name:"President Barack Obama", party:"D", year:2010}
        , url:"http://www.supremecourt.gov/about/biographies.aspx"
    }

    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Sandra Lynch', title:'Chief Judge', born:'1946',  court:'1st Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Sandra_Lynch', dutyStation:'Boston, MA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Juan R. Torruella', title:'Circuit Judge', born:'1933',  court:'1st Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1984'},url:'http://en.wikipedia.org/wiki/Juan_R._Torruella', dutyStation:'San Juan, PR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Jeffrey R. Howard', title:'Circuit Judge', born:'1955',  court:'1st Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Jeffrey_R._Howard', dutyStation:'Concord, NH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Ojetta Rogeriee Thompson', title:'Circuit Judge', born:'1951',  court:'1st Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Ojetta_Rogeriee_Thompson', dutyStation:'Providence, RI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'William J. Kayatta, Jr.', title:'Circuit Judge', born:'1953',  court:'1st Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/William_J._Kayatta,_Jr.', dutyStation:'Portland, ME'}

    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Levin H. Campbell', title:'Senior Judge', born:'1927',  court:'1st Cir.', nominatedBy:{name:'Nixon', party:'R', year:'1972'},url:'http://en.wikipedia.org/wiki/Levin_H._Campbell', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Bruce M. Selya', title:'Senior Judge', born:'1934',  court:'1st Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Bruce_M._Selya', dutyStation:'Providence, RI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Conrad K. Cyr', title:'Senior Judge', born:'1931',  court:'1st Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1989'},url:'http://en.wikipedia.org/wiki/Conrad_K._Cyr', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Michael Boudin', title:'Senior Judge', born:'1939',  court:'1st Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Michael_Boudin', dutyStation:'Boston, MA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Norman H. Stahl', title:'Senior Judge', born:'1931',  court:'1st Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Norman_H._Stahl', dutyStation:'Boston, MA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit', name:'Kermit Lipez', title:'Senior Judge', born:'1941',  court:'1st Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Kermit_Lipez', dutyStation:'Portland, ME'}






    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Robert Katzmann', title:'Chief Judge', born:'1953',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Robert_Katzmann', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Dennis G. Jacobs', title:'Circuit Judge', born:'1944',  court:'2d Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Dennis_G._Jacobs', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'José A. Cabranes', title:'Circuit Judge', born:'1940',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Jos%C3%A9_A._Cabranes', dutyStation:'New Haven, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Rosemary S. Pooler', title:'Circuit Judge', born:'1938',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Rosemary_S._Pooler', dutyStation:'Syracuse, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Reena Raggi', title:'Circuit Judge', born:'1951',  court:'2d Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Reena_Raggi', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Richard C. Wesley', title:'Circuit Judge', born:'1949',  court:'2d Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Richard_C._Wesley', dutyStation:'Geneseo, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Peter W. Hall', title:'Circuit Judge', born:'1948',  court:'2d Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2004'},url:'http://en.wikipedia.org/wiki/Peter_W._Hall', dutyStation:'Rutland, VT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Debra Ann Livingston', title:'Circuit Judge', born:'1959',  court:'2d Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/Debra_Ann_Livingston', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Gerard E. Lynch', title:'Circuit Judge', born:'1951',  court:'2d Cir.', nominatedBy:{name:'Obama', party:'D', year:'2009'},url:'http://en.wikipedia.org/wiki/Gerard_E._Lynch', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Denny Chin', title:'Circuit Judge', born:'1954',  court:'2d Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Denny_Chin', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Raymond Lohier, Jr.', title:'Circuit Judge', born:'1965',  court:'2d Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Raymond_Lohier,_Jr.', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Susan L. Carney', title:'Circuit Judge', born:'1951',  court:'2d Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Susan_L._Carney', dutyStation:'New Haven, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Christopher F. Droney', title:'Circuit Judge', born:'1954',  court:'2d Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Christopher_F._Droney', dutyStation:'Hartford, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Wilfred Feinberg', title:'Senior Judge', born:'1920',  court:'2d Cir.', nominatedBy:{name:'L. Johnson', party:'D', year:'1966'},url:'http://en.wikipedia.org/wiki/Wilfred_Feinberg', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Jon Ormond Newman', title:'Senior Judge', born:'1932',  court:'2d Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Jon_Ormond_Newman', dutyStation:'Hartford, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Amalya Lyle Kearse', title:'Senior Judge', born:'1937',  court:'2d Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Amalya_Lyle_Kearse', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Richard J. Cardamone', title:'Senior Judge', born:'1925',  court:'2d Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1981'},url:'http://en.wikipedia.org/wiki/Richard_J._Cardamone', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Ralph K. Winter, Jr.', title:'Senior Judge', born:'1935',  court:'2d Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1981'},url:'http://en.wikipedia.org/wiki/Ralph_K._Winter,_Jr.', dutyStation:'New Haven, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'John M. Walker, Jr.', title:'Senior Judge', born:'1940',  court:'2d Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1989'},url:'http://en.wikipedia.org/wiki/John_M._Walker,_Jr.', dutyStation:'New Haven, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Pierre N. Leval', title:'Senior Judge', born:'1936',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1993'},url:'http://en.wikipedia.org/wiki/Pierre_N._Leval', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Guido Calabresi', title:'Senior Judge', born:'1932',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Guido_Calabresi', dutyStation:'New Haven, CT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Chester J. Straub', title:'Senior Judge', born:'1937',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Chester_J._Straub', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Robert D. Sack', title:'Senior Judge', born:'1939',  court:'2d Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Robert_D._Sack', dutyStation:'New York, NY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit', name:'Barrington Daniels Parker, Jr.', title:'Senior Judge', born:'1944',  court:'2d Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2001'},url:'http://en.wikipedia.org/wiki/Barrington_Daniels_Parker,_Jr.', dutyStation:'New York, NY'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Theodore A. McKee', title:'Chief Judge', born:'1947',  court:'3rd Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Theodore_A._McKee', dutyStation:'Philadelphia, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Marjorie O. Rendell', title:'Circuit Judge', born:'1947',  court:'3rd Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Marjorie_O._Rendell', dutyStation:'Philadelphia, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Thomas L. Ambro', title:'Circuit Judge', born:'1949',  court:'3rd Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Thomas_L._Ambro', dutyStation:'Wilmington, DE'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Julio M. Fuentes', title:'Circuit Judge', born:'1946',  court:'3rd Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Julio_M._Fuentes', dutyStation:'Newark, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'D. Brooks Smith', title:'Circuit Judge', born:'1951',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/D._Brooks_Smith', dutyStation:'Duncansville, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'D. Michael Fisher', title:'Circuit Judge', born:'1944',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/D._Michael_Fisher', dutyStation:'Pittsburgh, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Michael Chagares', title:'Circuit Judge', born:'1962',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Michael_Chagares', dutyStation:'Newark, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Kent A. Jordan', title:'Circuit Judge', born:'1957',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Kent_A._Jordan', dutyStation:'Wilmington, DE'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Thomas M. Hardiman', title:'Circuit Judge', born:'1965',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/Thomas_M._Hardiman', dutyStation:'Pittsburgh, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Joseph A. Greenaway', title:'Circuit Judge', born:'1957',  court:'3rd Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Joseph_A._Greenaway,_Jr.', dutyStation:'Newark, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Thomas I. Vanaskie', title:'Circuit Judge', born:'1953',  court:'3rd Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Thomas_I._Vanaskie', dutyStation:'Scranton, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Patty Shwartz', title:'Circuit Judge', born:'1961',  court:'3rd Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Patty_Shwartz', dutyStation:'Newark, NJ'}


    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Ruggero J. Aldisert', title:'Senior Judge', born:'1919',  court:'3rd Cir.', nominatedBy:{name:'L. Johnson', party:'D', year:'1968'},url:'http://en.wikipedia.org/wiki/Ruggero_J._Aldisert', dutyStation:'Santa Barbara, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Leonard I. Garth', title:'Senior Judge', born:'1921',  court:'3rd Cir.', nominatedBy:{name:'Nixon', party:'R', year:'1973'},url:'http://en.wikipedia.org/wiki/Leonard_I._Garth', dutyStation:'Newark, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Dolores Korman Sloviter', title:'Senior Judge', born:'1932',  court:'3rd Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Dolores_Sloviter', dutyStation:'Philadelphia, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Walter King Stapleton', title:'Senior Judge', born:'1934',  court:'3rd Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Walter_King_Stapleton', dutyStation:'Wilmington, DE'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Morton Ira Greenberg', title:'Senior Judge', born:'1933',  court:'3rd Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Morton_Ira_Greenberg', dutyStation:'Trenton, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Anthony Joseph Scirica', title:'Senior Judge', born:'1940',  court:'3rd Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Anthony_Joseph_Scirica', dutyStation:'Philadelphia, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Robert E. Cowen', title:'Senior Judge', born:'1930',  court:'3rd Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Robert_Cowen', dutyStation:'Trenton, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Richard Lowell Nygaard', title:'Senior Judge', born:'1940',  court:'3rd Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1988'},url:'http://en.wikipedia.org/wiki/Richard_Lowell_Nygaard', dutyStation:'Erie, PA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Jane Richards Roth', title:'Senior Judge', born:'1935',  court:'3rd Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Jane_Richards_Roth', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Maryanne Trump Barry', title:'Senior Judge', born:'1937',  court:'3rd Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Maryanne_Trump_Barry', dutyStation:'Newark, NJ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit', name:'Franklin Stuart Van Antwerpen', title:'Senior Judge', born:'1941',  court:'3rd Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2004'},url:'http://en.wikipedia.org/wiki/Franklin_Stuart_Van_Antwerpen', dutyStation:'Easton, PA'}




    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'William Byrd Traxler, Jr.', title:'Chief Judge', born:'1948',  court:'4th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/William_Byrd_Traxler,_Jr.', dutyStation:'Greenville, SC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'J. Harvie Wilkinson III', title:'Circuit Judge', born:'1944',  court:'4th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1984'},url:'http://en.wikipedia.org/wiki/J._Harvie_Wilkinson_III', dutyStation:'Charlottesville, VA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Paul V. Niemeyer', title:'Circuit Judge', born:'1941',  court:'4th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Paul_V._Niemeyer', dutyStation:'Baltimore, MD'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Diana Gribbon Motz', title:'Circuit Judge', born:'1943',  court:'4th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Diana_Gribbon_Motz', dutyStation:'Baltimore, MD'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Robert Bruce King', title:'Circuit Judge', born:'1940',  court:'4th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Robert_Bruce_King', dutyStation:'Charleston, WV'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Roger Gregory', title:'Circuit Judge', born:'1953',  court:'4th Cir.', nominatedBy:{name:'Clinton/G.W. Bush[Note 1]', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Roger_Gregory', dutyStation:'Richmond, VA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Dennis Shedd', title:'Circuit Judge', born:'1953',  court:'4th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Dennis_Shedd', dutyStation:'Columbia, SC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Allyson Kay Duncan', title:'Circuit Judge', born:'1951',  court:'4th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Allyson_Kay_Duncan', dutyStation:'Raleigh, NC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'G. Steven Agee', title:'Circuit Judge', born:'1952',  court:'4th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2008'},url:'http://en.wikipedia.org/wiki/G._Steven_Agee', dutyStation:'Salem, VA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Barbara Milano Keenan', title:'Circuit Judge', born:'1950',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Barbara_Milano_Keenan', dutyStation:'Alexandria, VA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'James A. Wynn, Jr.', title:'Circuit Judge', born:'1954',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/James_A._Wynn,_Jr.', dutyStation:'Raleigh, NC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Albert Diaz', title:'Circuit Judge', born:'1960',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Albert_Diaz_(judge)', dutyStation:'Charlotte, NC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Henry Franklin Floyd', title:'Circuit Judge', born:'1947',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Henry_Franklin_Floyd', dutyStation:'Pickens, SC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Stephanie Thacker', title:'Circuit Judge', born:'1965',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Stephanie_Thacker', dutyStation:'Charleston, WV'}

    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'James Dickson Phillips, Jr.', title:'Senior Judge', born:'1922',  court:'4th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1978'},url:'http://en.wikipedia.org/wiki/James_Dickson_Phillips,_Jr.', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Robert F. Chapman', title:'Senior Judge', born:'1926',  court:'4th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1981'},url:'http://en.wikipedia.org/wiki/Robert_F._Chapman', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Clyde H. Hamilton', title:'Senior Judge', born:'1934',  court:'4th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Clyde_H._Hamilton', dutyStation:'Columbia, SC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit', name:'Andre M. Davis', title:'Senior Judge', born:'1949',  court:'4th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2009'},url:'http://en.wikipedia.org/wiki/Andre_M._Davis', dutyStation:'Baltimore, MD'}




    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Carl E. Stewart', title:'Chief Judge', born:'1950',  court:'5th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Carl_E._Stewart', dutyStation:'Shreveport, LA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'E. Grady Jolly', title:'Circuit Judge', born:'1937',  court:'5th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1982'},url:'http://en.wikipedia.org/wiki/E._Grady_Jolly', dutyStation:'Jackson, MS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'W. Eugene Davis', title:'Circuit Judge', born:'1936',  court:'5th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1983'},url:'http://en.wikipedia.org/wiki/W._Eugene_Davis', dutyStation:'Lafayette, LA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Edith H. Jones', title:'Circuit Judge', born:'1949',  court:'5th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Edith_Jones', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Jerry Edwin Smith', title:'Circuit Judge', born:'1946',  court:'5th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Jerry_Edwin_Smith', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'James L. Dennis', title:'Circuit Judge', born:'1936',  court:'5th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/James_L._Dennis', dutyStation:'New Orleans, LA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Edith Brown Clement', title:'Circuit Judge', born:'1948',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2001'},url:'http://en.wikipedia.org/wiki/Edith_Brown_Clement', dutyStation:'New Orleans, LA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Edward C. Prado', title:'Circuit Judge', born:'1947',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Edward_C._Prado', dutyStation:'San Antonio, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Priscilla Owen', title:'Circuit Judge', born:'1954',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/Priscilla_Owen', dutyStation:'Austin, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Jennifer Walker Elrod', title:'Circuit Judge', born:'1966',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/Jennifer_Elrod', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Leslie H. Southwick', title:'Circuit Judge', born:'1950',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/Leslie_H._Southwick', dutyStation:'Jackson, MS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Catharina Haynes', title:'Circuit Judge', born:'1963',  court:'5th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2008'},url:'http://en.wikipedia.org/wiki/Catharina_Haynes', dutyStation:'Dallas, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'James E. Graves, Jr.', title:'Circuit Judge', born:'1953',  court:'5th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/James_E._Graves,_Jr.', dutyStation:'Jackson, MS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Stephen A. Higginson', title:'Circuit Judge', born:'1961',  court:'5th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Stephen_A._Higginson', dutyStation:'New Orleans, LA'}



    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Carolyn Dineen King', title:'Senior Judge', born:'1938',  court:'5th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Carolyn_Dineen_King', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Thomas Morrow Reavley', title:'Senior Judge', born:'1921',  court:'5th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Thomas_Morrow_Reavley', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Patrick Higginbotham', title:'Senior Judge', born:'1938',  court:'5th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1982'},url:'http://en.wikipedia.org/wiki/Patrick_Higginbotham', dutyStation:'Austin, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Rhesa Hawkins Barksdale', title:'Senior Judge', born:'1944',  court:'5th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Rhesa_Hawkins_Barksdale', dutyStation:'Jackson, MS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Jacques L. Wiener, Jr.', title:'Senior Judge', born:'1934',  court:'5th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Jacques_L._Wiener,_Jr.', dutyStation:'New Orleans, LA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Emilio M. Garza', title:'Senior Judge', born:'1947',  court:'5th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Emilio_M._Garza', dutyStation:'San Antonio, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Harold R. DeMoss, Jr.', title:'Senior Judge', born:'1930',  court:'5th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Harold_R._DeMoss,_Jr.', dutyStation:'Houston, TX'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit', name:'Fortunato "Pete" Benavides', title:'Senior Judge', born:'1947',  court:'5th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Fortunato_Benavides', dutyStation:'Austin, TX'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Alice M. Batchelder', title:'Chief Judge', born:'1944',  court:'6th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Alice_M._Batchelder', dutyStation:'Medina, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Danny Julian Boggs', title:'Circuit Judge', born:'1944',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Danny_Julian_Boggs', dutyStation:'Louisville, KY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Karen Nelson Moore', title:'Circuit Judge', born:'1948',  court:'6th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Karen_Nelson_Moore', dutyStation:'Cleveland, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'R. Guy Cole, Jr.', title:'Circuit Judge', born:'1951',  court:'6th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/R._Guy_Cole,_Jr.', dutyStation:'Columbus, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Eric L. Clay', title:'Circuit Judge', born:'1948',  court:'6th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Eric_L._Clay', dutyStation:'Detroit, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Julia Smith Gibbons', title:'Circuit Judge', born:'1950',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Julia_Smith_Gibbons', dutyStation:'Memphis, TN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'John M. Rogers', title:'Circuit Judge', born:'1948',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/John_M._Rogers', dutyStation:'Lexington, KY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Jeffrey Sutton', title:'Circuit Judge', born:'1960',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Jeffrey_Sutton', dutyStation:'Columbus, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Deborah L. Cook', title:'Circuit Judge', born:'1952',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Deborah_L._Cook', dutyStation:'Akron, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'David McKeague', title:'Circuit Judge', born:'1946',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/David_McKeague', dutyStation:'Lansing, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Richard Allen Griffin', title:'Circuit Judge', born:'1952',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/Richard_Allen_Griffin', dutyStation:'Traverse City, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Raymond M. Kethledge', title:'Circuit Judge', born:'1966',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2008'},url:'http://en.wikipedia.org/wiki/Raymond_Kethledge', dutyStation:'Ann Arbor, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Helene N. White', title:'Circuit Judge', born:'1954',  court:'6th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2008'},url:'http://en.wikipedia.org/wiki/Helene_White', dutyStation:'Detroit, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Jane Branstetter Stranch', title:'Circuit Judge', born:'1953',  court:'6th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Jane_Branstetter_Stranch', dutyStation:'Nashville, TN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Bernice B. Donald', title:'Circuit Judge', born:'1951',  court:'6th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Bernice_B._Donald', dutyStation:'Memphis, TN'}

    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Pierce Lively', title:'Senior Judge', born:'1921',  court:'6th Cir.', nominatedBy:{name:'Nixon', party:'R', year:'1972'},url:'http://en.wikipedia.org/wiki/Pierce_Lively', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Damon J. Keith', title:'Senior Judge', born:'1922',  court:'6th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1977'},url:'http://en.wikipedia.org/wiki/Damon_J._Keith', dutyStation:'Detroit, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Gilbert Stroud Merritt, Jr.', title:'Senior Judge', born:'1936',  court:'6th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1977'},url:'http://en.wikipedia.org/wiki/Gilbert_Stroud_Merritt,_Jr.', dutyStation:'Nashville, TN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Harry W. Wellford', title:'Senior Judge', born:'1924',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1982'},url:'http://en.wikipedia.org/wiki/Harry_W._Wellford', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Herbert Theodore Milburn', title:'Senior Judge', born:'1931',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1984'},url:'http://en.wikipedia.org/wiki/Herbert_Theodore_Milburn', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Ralph B. Guy, Jr.', title:'Senior Judge', born:'1929',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Ralph_B._Guy,_Jr.', dutyStation:'Ann Arbor, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'James Leo Ryan', title:'Senior Judge', born:'1932',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/James_Leo_Ryan', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Alan Eugene Norris', title:'Senior Judge', born:'1935',  court:'6th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Alan_Eugene_Norris', dutyStation:'Columbus, OH'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Richard Fred Suhrheinrich', title:'Senior Judge', born:'1936',  court:'6th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Richard_Fred_Suhrheinrich', dutyStation:'Lansing, MI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Eugene Edward Siler, Jr.', title:'Senior Judge', born:'1936',  court:'6th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Eugene_Edward_Siler,_Jr.', dutyStation:'London, KY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Martha Craig Daughtrey', title:'Senior Judge', born:'1942',  court:'6th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1993'},url:'http://en.wikipedia.org/wiki/Martha_Craig_Daughtrey', dutyStation:'Nashville, TN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit', name:'Ronald Lee Gilman', title:'Senior Judge', born:'1942',  court:'6th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Ronald_Lee_Gilman', dutyStation:'Memphis, TN'}




    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Diane Pamela Wood', title:'Chief Judge', born:'1950',  court:'7th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Diane_Pamela_Wood', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Richard Posner', title:'Circuit Judge', born:'1939',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1981'},url:'http://en.wikipedia.org/wiki/Richard_Posner', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Joel Martin Flaum', title:'Circuit Judge', born:'1936',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1983'},url:'http://en.wikipedia.org/wiki/Joel_Martin_Flaum', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Frank H. Easterbrook', title:'Circuit Judge', born:'1948',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Frank_H._Easterbrook', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Michael Stephen Kanne', title:'Circuit Judge', born:'1938',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Michael_Stephen_Kanne', dutyStation:'Lafayette, IN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Ilana Rovner', title:'Circuit Judge', born:'1938',  court:'7th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Ilana_Rovner', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Ann Claire Williams', title:'Circuit Judge', born:'1949',  court:'7th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Ann_Claire_Williams', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Diane S. Sykes', title:'Circuit Judge', born:'1957',  court:'7th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2004'},url:'http://en.wikipedia.org/wiki/Diane_S._Sykes', dutyStation:'Milwaukee, WI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'John Daniel Tinder', title:'Circuit Judge', born:'1950',  court:'7th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/John_Daniel_Tinder', dutyStation:'Indianapolis, IN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'David F. Hamilton', title:'Circuit Judge', born:'1957',  court:'7th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2009'},url:'http://en.wikipedia.org/wiki/David_F._Hamilton', dutyStation:'Bloomington, IN'}

    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'William Joseph Bauer', title:'Senior Judge', born:'1926',  court:'7th Cir.', nominatedBy:{name:'Ford', party:'R', year:'1974'},url:'http://en.wikipedia.org/wiki/William_Joseph_Bauer', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Richard Dickson Cudahy', title:'Senior Judge', born:'1926',  court:'7th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Richard_Dickson_Cudahy', dutyStation:'Chicago, IL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Kenneth Francis Ripple', title:'Senior Judge', born:'1943',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Kenneth_Francis_Ripple', dutyStation:'South Bend, IN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit', name:'Daniel Anthony Manion', title:'Senior Judge', born:'1942',  court:'7th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Daniel_Anthony_Manion', dutyStation:'South Bend, IN'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'William J. Riley', title:'Chief Judge', born:'1947',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2001'},url:'http://en.wikipedia.org/wiki/William_J._Riley', dutyStation:'Omaha, NE'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Roger Leland Wollman', title:'Circuit Judge', born:'1934',  court:'8th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Roger_Leland_Wollman', dutyStation:'Sioux Falls, SD'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'James B. Loken', title:'Circuit Judge', born:'1940',  court:'8th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/James_B._Loken', dutyStation:'Minneapolis, MN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Diana E. Murphy', title:'Circuit Judge', born:'1934',  court:'8th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Diana_E._Murphy', dutyStation:'Minneapolis, MN'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Kermit Edward Bye', title:'Circuit Judge', born:'1937',  court:'8th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Kermit_Edward_Bye', dutyStation:'Fargo, ND'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Lavenski R. Smith', title:'Circuit Judge', born:'1958',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Lavenski_R._Smith', dutyStation:'Little Rock, AR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Steven M. Colloton', title:'Circuit Judge', born:'1963',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Steven_M._Colloton', dutyStation:'Des Moines, IA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Raymond W. Gruender', title:'Circuit Judge', born:'1963',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2004'},url:'http://en.wikipedia.org/wiki/Raymond_W._Gruender', dutyStation:'Saint Louis, MO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'William Duane Benton', title:'Circuit Judge', born:'1950',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2004'},url:'http://en.wikipedia.org/wiki/William_Duane_Benton', dutyStation:'Kansas City, MO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Bobby E. Shepherd', title:'Circuit Judge', born:'1951',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Bobby_E._Shepherd', dutyStation:'El Dorado, AR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Jane Louise Kelly', title:'Circuit Judge', born:'1964',  court:'8th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Jane_Louise_Kelly', dutyStation:'Cedar Rapids, IA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Myron H. Bright', title:'Senior Judge', born:'1919',  court:'8th Cir.', nominatedBy:{name:'L. Johnson', party:'D', year:'1968'},url:'http://en.wikipedia.org/wiki/Myron_H._Bright', dutyStation:'Fargo, ND'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'George Gardner Fagg', title:'Senior Judge', born:'1934',  court:'8th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1982'},url:'http://en.wikipedia.org/wiki/George_Gardner_Fagg', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Pasco Bowman II', title:'Senior Judge', born:'1933',  court:'8th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1983'},url:'http://en.wikipedia.org/wiki/Pasco_Bowman_II', dutyStation:'Kansas City, MO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'C. Arlen Beam', title:'Senior Judge', born:'1930',  court:'8th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/C._Arlen_Beam', dutyStation:'Lincoln, NE'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'David R. Hansen', title:'Senior Judge', born:'1938',  court:'8th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/David_R._Hansen', dutyStation:'inactive'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Morris Sheppard Arnold', title:'Senior Judge', born:'1941',  court:'8th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Morris_Sheppard_Arnold', dutyStation:'Little Rock, AR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eighth_Circuit', name:'Michael Joseph Melloy', title:'Senior Judge', born:'1948',  court:'8th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Michael_Joseph_Melloy', dutyStation:'Cedar Rapids, IA'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Alex Kozinski', title:'Chief Judge', born:'1950',  court:'9th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Alex_Kozinski', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Harry Pregerson', title:'Circuit Judge', born:'1923',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Harry_Pregerson', dutyStation:'Woodland Hills, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Stephen Reinhardt', title:'Circuit Judge', born:'1931',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1980'},url:'http://en.wikipedia.org/wiki/Stephen_Reinhardt', dutyStation:'Los Angeles, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Diarmuid Fionntain O\'Scannlain', title:'Circuit Judge', born:'1937',  court:'9th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Diarmuid_Fionntain_O%27Scannlain', dutyStation:'Portland, OR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Sidney Runyan Thomas', title:'Circuit Judge', born:'1953',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1996'},url:'http://en.wikipedia.org/wiki/Sidney_Runyan_Thomas', dutyStation:'Billings, MT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Barry G. Silverman', title:'Circuit Judge', born:'1951',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Barry_G._Silverman', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Susan P. Graber', title:'Circuit Judge', born:'1949',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Susan_P._Graber', dutyStation:'Portland, OR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'M. Margaret McKeown', title:'Circuit Judge', born:'1951',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/M._Margaret_McKeown', dutyStation:'San Diego, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Kim McLane Wardlaw', title:'Circuit Judge', born:'1954',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/Kim_McLane_Wardlaw', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'William A. Fletcher', title:'Circuit Judge', born:'1945',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1998'},url:'http://en.wikipedia.org/wiki/William_A._Fletcher', dutyStation:'San Francisco, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Ronald M. Gould', title:'Circuit Judge', born:'1946',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Ronald_M._Gould', dutyStation:'Seattle, WA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Richard A. Paez', title:'Circuit Judge', born:'1947',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Richard_Paez', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Marsha S. Berzon', title:'Circuit Judge', born:'1945',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Marsha_S._Berzon', dutyStation:'San Francisco, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Richard C. Tallman', title:'Circuit Judge', born:'1953',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Richard_C._Tallman', dutyStation:'Seattle, WA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Johnnie B. Rawlinson', title:'Circuit Judge', born:'1952',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Johnnie_B._Rawlinson', dutyStation:'Las Vegas, NV'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Richard R. Clifton', title:'Circuit Judge', born:'1950',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Richard_R._Clifton', dutyStation:'Honolulu, HI'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Jay Bybee', title:'Circuit Judge', born:'1953',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Jay_Bybee', dutyStation:'Las Vegas, NV'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Consuelo Maria Callahan', title:'Circuit Judge', born:'1950',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Consuelo_Maria_Callahan', dutyStation:'Sacramento, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Carlos T. Bea', title:'Circuit Judge', born:'1934',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Carlos_T._Bea', dutyStation:'San Francisco, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Milan D. Smith, Jr.', title:'Circuit Judge', born:'1942',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Milan_Smith', dutyStation:'El Segundo, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Sandra Segal Ikuta', title:'Circuit Judge', born:'1954',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Sandra_Segal_Ikuta', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'N. Randy Smith', title:'Circuit Judge', born:'1949',  court:'9th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2007'},url:'http://en.wikipedia.org/wiki/Norman_Randy_Smith', dutyStation:'Pocatello, ID'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Mary H. Murguia', title:'Circuit Judge', born:'1960',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Mary_H._Murguia', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Morgan Christen', title:'Circuit Judge', born:'1961',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Morgan_Christen', dutyStation:'Anchorage, AK'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Jacqueline Nguyen', title:'Circuit Judge', born:'1965',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Jacqueline_Nguyen', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Paul J. Watford', title:'Circuit Judge', born:'1967',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Paul_J._Watford', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Andrew D. Hurwitz', title:'Circuit Judge', born:'1947',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Andrew_D._Hurwitz', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'John B. Owens', title:'Circuit Judge', born:'1971',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2014'},url:'http://en.wikipedia.org/wiki/John_B._Owens', dutyStation:'San Diego, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Michelle T. Friedland', title:'Circuit Judge', born:'1972',  court:'9th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2014'},url:'http://en.wikipedia.org/wiki/Michelle_T._Friedland', dutyStation:'San Francisco, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Alfred Theodore Goodwin', title:'Senior Judge', born:'1923',  court:'9th Cir.', nominatedBy:{name:'Nixon', party:'R', year:'1971'},url:'http://en.wikipedia.org/wiki/Alfred_Theodore_Goodwin', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'J. Clifford Wallace', title:'Senior Judge', born:'1928',  court:'9th Cir.', nominatedBy:{name:'Nixon', party:'R', year:'1972'},url:'http://en.wikipedia.org/wiki/J._Clifford_Wallace', dutyStation:'San Diego, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Procter Ralph Hug, Jr.', title:'Senior Judge', born:'1931',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1977'},url:'http://en.wikipedia.org/wiki/Procter_Ralph_Hug_Jr.', dutyStation:'Reno, NV'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Mary M. Schroeder', title:'Senior Judge', born:'1940',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Mary_M._Schroeder', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Joseph Jerome Farris', title:'Senior Judge', born:'1930',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Joseph_Jerome_Farris', dutyStation:'Seattle, WA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Arthur Lawrence Alarcon', title:'Senior Judge', born:'1925',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Arthur_Lawrence_Alarcon', dutyStation:'Los Angeles, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Dorothy Wright Nelson', title:'Senior Judge', born:'1928',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Dorothy_Wright_Nelson', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'William Cameron Canby, Jr.', title:'Senior Judge', born:'1931',  court:'9th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1980'},url:'http://en.wikipedia.org/wiki/William_Cameron_Canby,_Jr.', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'John T. Noonan, Jr.', title:'Senior Judge', born:'1926',  court:'9th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/John_T._Noonan,_Jr.', dutyStation:'San Francisco, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Edward Leavy', title:'Senior Judge', born:'1929',  court:'9th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Edward_Leavy', dutyStation:'Portland, OR'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Stephen S. Trott', title:'Senior Judge', born:'1939',  court:'9th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1988'},url:'http://en.wikipedia.org/wiki/Stephen_S._Trott', dutyStation:'Boise, ID'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Ferdinand Francis Fernandez', title:'Senior Judge', born:'1937',  court:'9th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1989'},url:'http://en.wikipedia.org/wiki/Ferdinand_Francis_Fernandez', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Andrew Jay Kleinfeld', title:'Senior Judge', born:'1945',  court:'9th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1991'},url:'http://en.wikipedia.org/wiki/Andrew_Jay_Kleinfeld', dutyStation:'Fairbanks, AK'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Michael Daly Hawkins', title:'Senior Judge', born:'1945',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Michael_Daly_Hawkins', dutyStation:'Phoenix, AZ'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'A. Wallace Tashima', title:'Senior Judge', born:'1934',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1996'},url:'http://en.wikipedia.org/wiki/A._Wallace_Tashima', dutyStation:'Pasadena, CA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit', name:'Raymond C. Fisher', title:'Senior Judge', born:'1939',  court:'9th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Raymond_C._Fisher', dutyStation:'Pasadena, CA'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Mary Beck Briscoe', title:'Chief Judge', born:'1947',  court:'10th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Mary_Beck_Briscoe', dutyStation:'Lawrence, KS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Paul Joseph Kelly, Jr.', title:'Circuit Judge', born:'1940',  court:'10th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Paul_Joseph_Kelly,_Jr.', dutyStation:'Santa Fe, NM'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Carlos F. Lucero', title:'Circuit Judge', born:'1940',  court:'10th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Carlos_F._Lucero', dutyStation:'Denver, CO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Harris L Hartz', title:'Circuit Judge', born:'1947',  court:'10th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2001'},url:'http://en.wikipedia.org/wiki/Harris_Hartz', dutyStation:'Albuquerque, NM'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Timothy M. Tymkovich', title:'Circuit Judge', born:'1956',  court:'10th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2003'},url:'http://en.wikipedia.org/wiki/Timothy_M._Tymkovich', dutyStation:'Denver, CO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Neil M. Gorsuch', title:'Circuit Judge', born:'1967',  court:'10th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Neil_M._Gorsuch', dutyStation:'Denver, CO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Jerome A. Holmes', title:'Circuit Judge', born:'1961',  court:'10th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Jerome_A._Holmes', dutyStation:'Oklahoma City, OK'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Scott Matheson, Jr.', title:'Circuit Judge', born:'1953',  court:'10th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Scott_Matheson,_Jr.', dutyStation:'Salt Lake City, UT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Robert E. Bacharach', title:'Circuit Judge', born:'1959',  court:'10th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Robert_E._Bacharach', dutyStation:'Oklahoma City, OK'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Gregory A. Phillips', title:'Circuit Judge', born:'1960',  court:'10th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Gregory_A._Phillips', dutyStation:'Cheyenne, WY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Carolyn B. McHugh', title:'Circuit Judge', born:'1957',  court:'10th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2014'},url:'http://en.wikipedia.org/wiki/Carolyn_B._McHugh', dutyStation:'Salt Lake City, UT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Nancy Moritz', title:'Circuit Judge', born:'1960',  court:'10th Cir.', nominatedBy:{name:'Obama', party:'D', year:'beg.'},url:'http://en.wikipedia.org/wiki/Nancy_Moritz', dutyStation:'Lawrence, KS'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Monroe G. McKay', title:'Senior Judge', born:'1928',  court:'10th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1977'},url:'http://en.wikipedia.org/wiki/Monroe_G._McKay', dutyStation:'Salt Lake City, UT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Stephanie Kulp Seymour', title:'Senior Judge', born:'1940',  court:'10th Cir.', nominatedBy:{name:'Carter', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Stephanie_Kulp_Seymour', dutyStation:'Tulsa, OK'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'John Carbone Porfilio', title:'Senior Judge', born:'1934',  court:'10th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/John_Carbone_Porfilio', dutyStation:'Loveland, CO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Stephen Hale Anderson', title:'Senior Judge', born:'1932',  court:'10th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Stephen_Hale_Anderson', dutyStation:'Salt Lake City, UT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Bobby Ray Baldock', title:'Senior Judge', born:'1936',  court:'10th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Bobby_Ray_Baldock', dutyStation:'Roswell, NM'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Wade Brorby', title:'Senior Judge', born:'1934',  court:'10th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1988'},url:'http://en.wikipedia.org/wiki/Wade_Brorby', dutyStation:'Cheyenne, WY'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'David M. Ebel', title:'Senior Judge', born:'1940',  court:'10th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1988'},url:'http://en.wikipedia.org/wiki/David_M._Ebel', dutyStation:'Denver, CO'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Michael R. Murphy', title:'Senior Judge', born:'1947',  court:'10th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1995'},url:'http://en.wikipedia.org/wiki/Michael_R._Murphy', dutyStation:'Salt Lake City, UT'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit', name:'Terrence L. O\'Brien', title:'Senior Judge', born:'1943',  court:'10th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2002'},url:'http://en.wikipedia.org/wiki/Terrence_L._O%27Brien', dutyStation:'Cheyenne, WY'}




    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Edward Earl Carnes', title:'Chief Judge', born:'1950',  court:'11th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Edward_Earl_Carnes', dutyStation:'Montgomery, AL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Gerald Bard Tjoflat', title:'Circuit Judge', born:'1929',  court:'11th Cir.', nominatedBy:{name:'Ford[4]', party:'R', year:'1975'},url:'http://en.wikipedia.org/wiki/Gerald_Bard_Tjoflat', dutyStation:'Jacksonville, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Frank M. Hull', title:'Circuit Judge', born:'1948',  court:'11th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Frank_M._Hull', dutyStation:'Atlanta, GA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Stanley Marcus', title:'Circuit Judge', born:'1946',  court:'11th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Stanley_Marcus_(judge)', dutyStation:'Miami, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Charles R. Wilson', title:'Circuit Judge', born:'1954',  court:'11th Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Charles_R._Wilson_(judge)', dutyStation:'Tampa, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'William H. Pryor, Jr.', title:'Circuit Judge', born:'1962',  court:'11th Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/William_H._Pryor,_Jr.', dutyStation:'Birmingham, AL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Beverly B. Martin', title:'Circuit Judge', born:'1955',  court:'11th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Beverly_B._Martin', dutyStation:'Atlanta, GA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Adalberto Jordan', title:'Circuit Judge', born:'1961',  court:'11th Cir.', nominatedBy:{name:'Obama', party:'D', year:'2012'},url:'http://en.wikipedia.org/wiki/Adalberto_Jordan', dutyStation:'Miami, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Robin S. Rosenbaum', title:'Circuit Judge', born:'1966',  court:'11th Cir.', nominatedBy:{name:'Obama', party:'D', year:'beg.'},url:'http://en.wikipedia.org/wiki/Robin_S._Rosenbaum', dutyStation:'—'}



    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'James Clinkscales Hill', title:'Senior Judge', born:'1924',  court:'11th Cir.', nominatedBy:{name:'Ford[4]', party:'R', year:'1976'},url:'http://en.wikipedia.org/wiki/James_Clinkscales_Hill', dutyStation:'Jacksonville, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Peter Thorp Fay', title:'Senior Judge', born:'1929',  court:'11th Cir.', nominatedBy:{name:'Ford[4]', party:'R', year:'1976'},url:'http://en.wikipedia.org/wiki/Peter_Thorp_Fay', dutyStation:'Miami, FL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Phyllis A. Kravitch', title:'Senior Judge', born:'1920',  court:'11th Cir.', nominatedBy:{name:'Carter[4]', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/Phyllis_A._Kravitch', dutyStation:'Atlanta, GA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'R. Lanier Anderson III', title:'Senior Judge', born:'1936',  court:'11th Cir.', nominatedBy:{name:'Carter[4]', party:'D', year:'1979'},url:'http://en.wikipedia.org/wiki/R._Lanier_Anderson_III', dutyStation:'Macon, GA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'James Larry Edmondson', title:'Senior Judge', born:'1947',  court:'11th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/James_Larry_Edmondson', dutyStation:'Atlanta, GA'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Emmett Ripley Cox', title:'Senior Judge', born:'1935',  court:'11th Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1988'},url:'http://en.wikipedia.org/wiki/Emmett_Ripley_Cox', dutyStation:'Mobile, AL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Joel Fredrick Dubina', title:'Senior Judge', born:'1947',  court:'11th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Joel_Fredrick_Dubina', dutyStation:'Montgomery, AL'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit', name:'Susan Harrell Black', title:'Senior Judge', born:'1943',  court:'11th Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Susan_Harrell_Black', dutyStation:'Jacksonville, FL'}




    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Merrick B. Garland', title:'Chief Judge', born:'1952',  court:'D.C. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1997'},url:'http://en.wikipedia.org/wiki/Merrick_B._Garland', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Karen L. Henderson', title:'Circuit Judge', born:'1944',  court:'D.C. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Karen_L._Henderson', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Judith Ann Wilson Rogers', title:'Circuit Judge', born:'1939',  court:'D.C. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/Judith_Ann_Wilson_Rogers', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'David S. Tatel', title:'Circuit Judge', born:'1942',  court:'D.C. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/David_S._Tatel', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Janice Rogers Brown', title:'Circuit Judge', born:'1949',  court:'D.C. Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/Janice_Rogers_Brown', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Thomas B. Griffith', title:'Circuit Judge', born:'1954',  court:'D.C. Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2005'},url:'http://en.wikipedia.org/wiki/Thomas_B._Griffith', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Brett M. Kavanaugh', title:'Circuit Judge', born:'1965',  court:'D.C. Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Brett_M._Kavanaugh', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Sri Srinivasan', title:'Circuit Judge', born:'1967',  court:'D.C. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Sri_Srinivasan', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Patricia Ann Millett', title:'Circuit Judge', born:'1963',  court:'D.C. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Patricia_Ann_Millett', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Nina Pillard', title:'Circuit Judge', born:'1961',  court:'D.C. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Nina_Pillard', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Robert L. Wilkins', title:'Circuit Judge', born:'1963',  court:'D.C. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2014'},url:'http://en.wikipedia.org/wiki/Robert_L._Wilkins', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Harry T. Edwards', title:'Senior Judge', born:'1940',  court:'D.C. Cir.', nominatedBy:{name:'Carter', party:'D', year:'1980'},url:'http://en.wikipedia.org/wiki/Harry_T._Edwards', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Laurence H. Silberman', title:'Senior Judge', born:'1935',  court:'D.C. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1985'},url:'http://en.wikipedia.org/wiki/Laurence_H._Silberman', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Stephen F. Williams', title:'Senior Judge', born:'1936',  court:'D.C. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Stephen_F._Williams', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'Douglas H. Ginsburg', title:'Senior Judge', born:'1946',  court:'D.C. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1986'},url:'http://en.wikipedia.org/wiki/Douglas_H._Ginsburg', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'David B. Sentelle', title:'Senior Judge', born:'1943',  court:'D.C. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/David_B._Sentelle', dutyStation:'Washington'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit', name:'A. Raymond Randolph', title:'Senior Judge', born:'1943',  court:'D.C. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/A._Raymond_Randolph', dutyStation:'Washington'}





    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Randall Ray Rader', title:'Chief Judge', born:'1949',  court:'Fed. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Randall_Ray_Rader', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Pauline Newman', title:'Circuit Judge', born:'1927',  court:'Fed. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1984'},url:'http://en.wikipedia.org/wiki/Pauline_Newman', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Alan David Lourie', title:'Circuit Judge', born:'1935',  court:'Fed. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Alan_David_Lourie', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Timothy B. Dyk', title:'Circuit Judge', born:'1937',  court:'Fed. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'2000'},url:'http://en.wikipedia.org/wiki/Timothy_B._Dyk', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Sharon Prost', title:'Circuit Judge', born:'1951',  court:'Fed. Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2001'},url:'http://en.wikipedia.org/wiki/Sharon_Prost', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Kimberly Ann Moore', title:'Circuit Judge', born:'1968',  court:'Fed. Cir.', nominatedBy:{name:'G.W. Bush', party:'R', year:'2006'},url:'http://en.wikipedia.org/wiki/Kimberly_Ann_Moore', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Kathleen M. O\'Malley', title:'Circuit Judge', born:'1956',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2010'},url:'http://en.wikipedia.org/wiki/Kathleen_M._O%27Malley', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Jimmie V. Reyna', title:'Circuit Judge', born:'1952',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Jimmie_V._Reyna', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Evan Wallach', title:'Circuit Judge', born:'1949',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2011'},url:'http://en.wikipedia.org/wiki/Evan_Wallach', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Richard G. Taranto', title:'Circuit Judge', born:'1957',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Richard_G._Taranto', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Raymond T. Chen', title:'Circuit Judge', born:'1968',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Raymond_T._Chen', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Todd M. Hughes', title:'Circuit Judge', born:'1966',  court:'Fed. Cir.', nominatedBy:{name:'Obama', party:'D', year:'2013'},url:'http://en.wikipedia.org/wiki/Todd_M._Hughes', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Haldane Robert Mayer', title:'Senior Judge', born:'1941',  court:'Fed. Cir.', nominatedBy:{name:'Reagan', party:'R', year:'1987'},url:'http://en.wikipedia.org/wiki/Haldane_Robert_Mayer', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'S. Jay Plager', title:'Senior Judge', born:'1931',  court:'Fed. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1989'},url:'http://en.wikipedia.org/wiki/S._Jay_Plager', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Raymond Charles Clevenger III', title:'Senior Judge', born:'1937',  court:'Fed. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1990'},url:'http://en.wikipedia.org/wiki/Raymond_Charles_Clevenger_III', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Alvin Anthony Schall', title:'Senior Judge', born:'1944',  court:'Fed. Cir.', nominatedBy:{name:'G.H.W. Bush', party:'R', year:'1992'},url:'http://en.wikipedia.org/wiki/Alvin_Anthony_Schall', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'William Curtis Bryson', title:'Senior Judge', born:'1945',  court:'Fed. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1994'},url:'http://en.wikipedia.org/wiki/William_Curtis_Bryson', dutyStation:'Washington, DC'}
    ,{originalDataSource:'http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit', name:'Richard Linn', title:'Senior Judge', born:'1944',  court:'Fed. Cir.', nominatedBy:{name:'Clinton', party:'D', year:'1999'},url:'http://en.wikipedia.org/wiki/Richard_Linn', dutyStation:'Washington, DC'}


];

var judgesGroupedByCitation = {};

judges.forEach(function(j) {

    if (isUndefined(judgesGroupedByCitation[j.court])) {
        judgesGroupedByCitation[j.court] = {inactive:[], active:[], senior:[], nonSenior:[]};


        judgesGroupedByCitation[j.court].activeByParty = {};

        judgesGroupedByCitation[j.court].activeByParty["r"] = [];
        judgesGroupedByCitation[j.court].activeByParty["d"] = [];

    }

    var theseJudges = judgesGroupedByCitation[j.court];

    if (j.dutyStation && j.dutyStation.indexOf("inactive")>-1) {
        theseJudges.inactive.push(j);
    }
    else {
        theseJudges.active.push(j);

        judgesGroupedByCitation[j.court].activeByParty[j.nominatedBy.party.toLowerCase()].push(j);

        if (j.title.toLowerCase().indexOf("senior")>-1) {
            theseJudges.senior.push(j);
        }
        else {
            theseJudges.nonSenior.push(j);

            if (j.title.toLowerCase().indexOf("chief")>-1) {
                theseJudges.chiefJustice = j;
            }

        }
    }


});
;/**
 * Created by bradflyon on 5/3/14.
 */

var wikipage="wiki page had this name";

var courtListenerData = [

    {scdbId:30, populationInfo:{population:17020355, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
                        name:'Court of Appeals for the Tenth Circuit', jurisdiction:'Federal Appellate',  citation:'10th Cir.', url:'http://www.ca10.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca10=on&order_by=dateFiled+desc'} ,
    {name:'Bankruptcy Appellate Panel of the Tenth Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'10th Cir. BAP', url:'http://www.bap10.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bap10=on&order_by=dateFiled+desc'} ,
    {scdbId:31, populationInfo:{population:33268699, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
                    name:'Court of Appeals for the Eleventh Circuit', jurisdiction:'Federal Appellate',  citation:'11th Cir.', url:'http://www.ca11.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca11=on&order_by=dateFiled+desc'} ,
    {scdbId:21, populationInfo:{population:13970816, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the First Circuit', jurisdiction:'Federal Appellate',  citation:'1st Cir.', url:'http://www.ca1.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca1=on&order_by=dateFiled+desc'} ,
    {name:'Bankruptcy Appellate Panel of the First Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'1st Cir. BAP', url:'http://www.bap1.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bap1=on&order_by=dateFiled+desc'} ,
    {scdbId:22, populationInfo:{population:23577940, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Second Circuit', jurisdiction:'Federal Appellate',  citation:'2d Cir.', url:'http://www.ca2.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca2=on&order_by=dateFiled+desc'} ,
     //No longer exists (reddit comment pointed this out May 18, 2014) {name:'Bankruptcy Appellate Panel of the Second Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'2d Cir. BAP', url:'http://www.bap2.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bap2=on&order_by=dateFiled+desc'} ,
    {scdbId:23, populationInfo:{population:22498612, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Third Circuit', jurisdiction:'Federal Appellate',  citation:'3rd Cir.', url:'http://www.ca3.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca3=on&order_by=dateFiled+desc'} ,
    {scdbId:24, populationInfo:{population:29788417, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Fourth Circuit', jurisdiction:'Federal Appellate',  citation:'4th Cir.', url:'http://www.ca4.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca4=on&order_by=dateFiled+desc'} ,
    {scdbId:25, populationInfo:{population:32646230, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Fifth Circuit', jurisdiction:'Federal Appellate',  citation:'5th Cir.', url:'http://www.ca5.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca5=on&order_by=dateFiled+desc'} ,
    {scdbId:26, populationInfo:{population:32105616, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Sixth Circuit', jurisdiction:'Federal Appellate',  citation:'6th Cir.', url:'http://www.ca6.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca6=on&order_by=dateFiled+desc'} ,
    {name:'Bankruptcy Appellate Panel of the Sixth Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'6th Cir. BAP',
           url:'http://www.ca6.uscourts.gov/internet/bap/bap.htm',
           oldurl:'http://www.bap6.uscourts.gov/',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_bap6=on&order_by=dateFiled+desc'} ,
    {scdbId:27, populationInfo:{population:25001420, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Seventh Circuit', jurisdiction:'Federal Appellate',  citation:'7th Cir.', url:'http://www.ca7.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca7=on&order_by=dateFiled+desc'} ,
    {scdbId:28, populationInfo:{population:20568237, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Eighth Circuit', jurisdiction:'Federal Appellate',  citation:'8th Cir.', url:'http://www.ca8.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca8=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Appellate Panel for the Eighth Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'8th Cir. BAP', url:'http://www.ca8.uscourts.gov/bankruptcy-appellate-panel', courtListenerURL:'https://www.courtlistener.com/?q=&court_bap8=on&order_by=dateFiled+desc'} ,
    {scdbId:29, populationInfo:{population:61742908, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the Ninth Circuit', jurisdiction:'Federal Appellate',  citation:'9th Cir.', url:'http://www.ca9.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ca9=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Appellate Panel for the Ninth Circuit', jurisdiction:'Federal Bankruptcy Panel',  citation:'9th Cir. BAP', url:'http://www.ca9.uscourts.gov/bap/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bap9=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Alabama',
        extraThings:
        {
            judgesPic:{
                url:'al_SC2013_Photo_Small.png',
                urlSource:'http://judicial.alabama.gov/images/SC2013_Photo_Small.png'
            }
        },
        jurisdiction:'State Supreme', judgesPic:[{s:'al_supreme_court_SC2013_Photo_Small.png',src:'http://judicial.alabama.gov/images/SC2013_Photo_Small.png'}],
                        citation:'Ala.', url:'http://judicial.alabama.gov/supreme.cfm', courtListenerURL:'https://www.courtlistener.com/?q=&court_ala=on&order_by=dateFiled+desc'} ,
    {name:'Court of Civil Appeals of Alabama', stateParent:'Ala.', judgesPic:[{s:'al_court_civil_appeals_judges_CV2013a_800x600.png'}], jurisdiction:'State Appellate',  citation:'Ala. Civ. App.', url:'http://judicial.alabama.gov/civil.cfm', courtListenerURL:'https://www.courtlistener.com/?q=&court_alacivapp=on&order_by=dateFiled+desc'} ,
    {name:'Court of Criminal Appeals of Alabama', stateParent:'Ala.', judgesPic:[{s:'al_court_criminal_appeals_judges_CV2013a_800x600.png'}], jurisdiction:'State Appellate',  citation:'Ala. Crim. App.', url:'http://judicial.alabama.gov/criminal.cfm', courtListenerURL:'https://www.courtlistener.com/?q=&court_alacrimapp=on&order_by=dateFiled+desc'} ,

    //court structure... <img width="756" height="1002" alt="Alabama" src="~/media/Microsites/Images/CSP/State_Structure_Charts/AL.ashx?w=756&amp;h=1002&amp;as=1">

        //http://www.courtstatistics.org/Other-Pages/State_Court_Structure_Charts/Alabama.aspx
        //circuit courts - can go to either of the appeals courts
        //district courts - go to circuit courts for appeal, I guess
        //probate courts - appeals to court of civil appeals
        //municipal courts - appeals to circuit courts

    //I split this up {name:'Alabama Court of Appeals', jurisdiction:'State Appellate',  citation:'Ala. Ct. App.', url:'http://judicial.alabama.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_alactapp=on&order_by=dateFiled+desc'} ,
    {name:'Alaska Supreme Court', jurisdiction:'State Supreme',  citation:'Alaska', url:'http://www.courts.alaska.gov/ctinfo.htm#supreme', courtListenerURL:'https://www.courtlistener.com/?q=&court_alaska=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Alaska', stateParent: 'Alaska', jurisdiction:'State Appellate',  citation:'Alaska Ct. App.', url:'http://courts.alaska.gov/appcts.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_alaskactapp=on&order_by=dateFiled+desc'} ,
    {name:'Arizona Supreme Court', jurisdiction:'State Supreme',  citation:'Ariz.', url:'http://www.azcourts.gov/azsupremecourt.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_ariz=on&order_by=dateFiled+desc'} ,
    //{name:'Court of Appeals of Arizona', stateParent: 'Ariz.', jurisdiction:'State Appellate',  citation:'Ariz. Ct. App.', url:'http://www.azcourts.gov/AZCourts/CourtofAppeals.aspx%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_arizctapp=on&order_by=dateFiled+desc'} ,
    {name:'Division One Court of Appeals of Arizona', stateParent: 'Ariz.', jurisdiction:'State Appellate',  citation:'Ariz. Ct. App. DivOne?', url:'http://www.azcourts.gov/AZCourts/CourtofAppeals.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_ariztaxct=on&order_by=dateFiled+desc'} ,
    {name:'Division Two Court of Appeals of Arizona', stateParent: 'Ariz.', jurisdiction:'State Appellate',  citation:'Ariz. Ct. App. DivTwo?', url:'http://www.azcourts.gov/AZCourts/CourtofAppeals.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_ariztaxct=on&order_by=dateFiled+desc'} ,
    {name:'Arizona Tax Court', jurisdiction:'State Special',  citation:'Ariz. T.C.', url:'http://www.superiorcourt.maricopa.gov/SuperiorCourt/TaxCourt/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ariztc=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Arkansas', jurisdiction:'State Supreme',  citation:'Ark.', url:'https://courts.arkansas.gov/courts/supreme-court', courtListenerURL:'https://www.courtlistener.com/?q=&court_ark=on&order_by=dateFiled+desc'} ,
    {name:'Arkansas Supreme Court',
            extraThings:{judgesPic:{url:'ar_SCgroup-new.jpg', urlSource:'https://courts.arkansas.gov/sites/default/files/SCgroup-new.jpg'}},
            seal:'200px-Seal_of_the_Supreme_Court_of_Arkansas.svg.png', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_Supreme_Court_of_Arkansas.svg',  note:'wiki page had this name', judgesPic:'ar_supremecourt_SCgroup-new.jpg', jurisdiction:'State Supreme',  citation:'Ark.', url:'https://courts.arkansas.gov/courts/supreme-court', courtListenerURL:'https://www.courtlistener.com/?q=&court_ark=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Arkansas', stateParent: 'Ark.', judgesPic:'ar_appeals_judges_coa2013.jpg', jurisdiction:'State Appellate',  citation:'Ark. Ct. App.', url:'https://courts.arkansas.gov/courts/court-of-appeals', courtListenerURL:'https://www.courtlistener.com/?q=&court_arkctapp=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, C.D. California', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. C.D. Cal.', url:'http://www.cacb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cacb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, C.D. Illinois', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. C.D. Ill.', url:'http://www.ilcb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilcb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Alaska', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Alaska', url:'http://www.akb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_akb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Arizona', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Ariz.', url:'https://ecf.azb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_arb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Connecticut', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Conn.', url:'http://www.ctb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ctb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Delaware', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Del.', url:'http://www.deb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_deb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Guam', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Guam', url:'https://en.wikipedia.org/wiki/District_Court_of_Guam', courtListenerURL:'https://www.courtlistener.com/?q=&court_gub=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Hawaii', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Haw.', url:'http://www.hib.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_hib=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Idaho', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Idaho', url:'http://www.id.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_idb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Iowa',note:"typo in CourtListener", jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Iowa', url:'http://www.ianb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ianb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Kansas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Kan.', url:'http://www.ksb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ksb=on&order_by=dateFiled+desc'} ,
    //is this in there twice in courtlistener or something? {name:'United States Bankruptcy Court, D. Kansas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Kan.', url:'http://www.ksb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ksb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Massachusetts', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Mass.', url:'http://www.mab.uscourts.gov/mab/', oldurl:'http://www.mab.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mab=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Maryland', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Md.', url:'http://www.mdb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mdb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Maine', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Me.', url:'http://www.meb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_meb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Minnesota', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Minn.', url:'http://www.mnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Montana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Mont.', url:'http://www.mtb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mtb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Nebraska', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Neb.', url:'http://www.neb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nebraskab=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Nevada', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Nev.', url:'http://www.nvb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nvb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Oregon', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Or.', url:'http://www.orb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_orb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Tennessee', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Tenn.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tennesseeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Utah', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Utah', url:'http://www.utb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_utb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Vermont', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Vt.', url:'http://www.vtb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vtb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Wyoming', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D. Wyo.', url:'http://www.wyb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wyb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, District of Columbia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.C.', url:'http://www.dcb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_dcb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. North Dakota', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.N.D.', url:'http://www.ndd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ndb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. New Hampshire', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.N.H.', url:'http://www.nhb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nhb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. New Jersey', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.N.J.', url:'http://www.njb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_njb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. New Mexico', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.N.M.', url:'http://www.nmb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nmb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Puerto Rico', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.P.R.', url:'http://www.prb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_prb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Rhode Island', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.R.I.', url:'http://www.rib.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_rib=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, District of South Carolina', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.S.C.', url:'http://www.scb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_scb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. South Dakota', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.S.D.', url:'https://ecf.sdb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_sdb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Virgin Islands', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. D.V.I.', url:'http://www.vid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vib=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Arkansas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Ark.', url:'http://www.arb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_areb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. California', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Cal.', url:'http://www.caeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_caeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Kentucky', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Ky.', url:'http://www.kyeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kyeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Louisiana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. La.', url:'http://www.laeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_laeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Michigan', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Mich.', url:'http://www.mieb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mieb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Missouri', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Mo.', url:'http://www.moeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_moeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Oklahoma', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Okla.', url:'http://www.okeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_okeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Pennsylvania', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Pa.', url:'http://www.paeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_paeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Tennessee', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Tenn.', url:'http://www.tneb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tneb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Texas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Tex.', url:'http://www.txeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Virginia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Va.', url:'https://www.vaeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vaeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Washington', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Wash.', url:'http://www.waeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_waeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. Wisconsin', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D. Wis.', url:'http://www.wieb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wieb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. North Carolina', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D.N.C.', url:'https://ecf.nceb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nceb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, E.D. New York', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. E.D.N.Y.', url:'http://www.nyeb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nyeb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Alabama', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. Ala.', url:'http://www.almb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_almb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Florida', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. Fla.', url:'http://www.flmb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flmb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Georgia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. Ga.', url:'http://www.gamb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gamb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Louisiana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. La.', url:'http://www.lamb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_lamb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Pennsylvania', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. Penn.', url:'http://www.pamb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pamb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. Tennessee', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D. Tenn.', url:'http://www.tnmb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tnmb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, M.D. North Carolina', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. M.D.N.C.', url:'http://www.ncmb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ncmb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, Northern Mariana Islands', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N. Mar. I.', url:'http://www.nmid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nmib=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Alabama', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Ala.', url:'http://www.alnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_alnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. California', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Cal.', url:'http://www.canb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_canb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Florida', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Fla.', url:'http://www.flnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Georgia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Ga.', url:'http://www.ganb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ganb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Illinois', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Ill.', url:'http://www.ilnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Indiana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Ind.', url:'http://www.innb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_innb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Mississippi', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Miss.', url:'http://www.msnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_msnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Ohio', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Ohio', url:'http://www.ohnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Oklahoma', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Okla', url:'http://www.oknb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_oknb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. Texas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D. Tex.', url:'http://www.txnb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, N.D. New York', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D.N.Y.', url:'http://www.nynb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nynb=on&order_by=dateFiled+desc'} ,
    {name:'United States District Court, N.D. West Virginia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. N.D.W. Va.', url:'http://www.wvnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wvnb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Alabama', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Ala.', url:'http://www.alsb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_alsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. California', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Cal.', url:'http://www.casb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_casb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Florida.', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Florida', url:'http://www.flsb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Georgia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Ga.', url:'http://www.gasb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gasb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Illinois', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Ill.', url:'http://www.ilsb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Indiana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Ind.', url:'http://www.insb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_insb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Iowa', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Iowa', url:'http://www.iasb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iasb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Mississippi', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Miss.', url:'http://www.mssb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mssb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Ohio', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Ohio', url:'http://www.ohsb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. Texas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D. Tex.', url:'http://www.txs.uscourts.gov/bankruptcy/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. New York', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D.N.Y.', url:'http://www.nysb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nysb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, S.D. West Virginia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. S.D.W. Va.', url:'http://www.wvsb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wvsb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Arkansas', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Ark.', url:'http://www.arb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_arwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Kentucky', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Ky.', url:'http://www.kywb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kywb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Louisiana', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. La.', url:'http://www.lawb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_lawb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Michigan', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Mich.', url:'http://www.miwb.uscourts.gov/cms/index.php', oldurl:'http://www.miwb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_miwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Missouri', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Mo.', url:'http://www.mow.uscourts.gov/bankruptcy/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mowb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Oklahoma', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Okla.', url:'http://www.okwb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_okwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Pennsylvania', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Pa.', url:'http://www.pawb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pawb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Tennessee', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Tenn.', url:'http://www.tnwb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tnwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Texas', oldname:'United States District Court, W.D. Texas',
                    jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Tex.',
                    url:'http://www.txwb.uscourts.gov/',
                    oldurl:'http://www.txwd.uscourts.gov/',
                    courtListenerURL:'https://www.courtlistener.com/?q=&court_txwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Virginia', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Va.', url:'http://www.vawb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vawb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Washington', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Wash.', url:'http://www.wawb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wawb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. Wisconsin', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D. Wis.', url:'http://www.wiwb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wiwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. North Carolina', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D.N.C.', url:'http://www.ncwb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ncwb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, W.D. New York', jurisdiction:'Federal Bankruptcy',  citation:'Bankr. W.D.N.Y.', url:'http://www.nywb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nywb=on&order_by=dateFiled+desc'} ,
    {name:'United States Bankruptcy Court, D. Colorado', jurisdiction:'Federal Bankruptcy',  citation:'Bankr.D. Colo.', url:'http://www.cob.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cob=on&order_by=dateFiled+desc'} ,
    {scdbId:4, name:'Court of Appeals for the Armed Forces',
            seal:'Seal_of_the_United_States_Court_of_Appeals_for_the_Armed_Forces.PNG',
            sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_United_States_Court_of_Appeals_for_the_Armed_Forces.PNG',
            jurisdiction:'Federal Special',
            citation:'C.A.A.F.',
            url:'http://www.armfor.uscourts.gov/newcaaf/home.htm',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_armfor=on&order_by=dateFiled+desc'} ,


    {name:'Court of Customs and Patent Appeals', stillExists:false, jurisdiction:'Federal Special',  citation:'C.C.P.A.', url:'http://www.cafc.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ccpa=on&order_by=dateFiled+desc'} ,
    {name:'District Court, C.D. California', jurisdiction:'Federal District',  citation:'C.D. Cal.', url:'http://www.cacd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cacd=on&order_by=dateFiled+desc'} ,
    //E.D. Cal wasn't in courtListener system... May 10, 2014
    {name:'District Court, E.D. California', jurisdiction:'Federal District',  citation:'E.D. Cal.', url:'http://www.caed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_caed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, C.D. Illinois', jurisdiction:'Federal District',  citation:'C.D. Ill.', url:'http://www.ilcd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilcd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, C.D. Missouri', jurisdiction:'Federal District',  citation:'C.D. Mo.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mocd=on&order_by=dateFiled+desc'} ,
    //{name:'California Supreme Court', jurisdiction:'State Supreme',  citation:'Cal.', url:'http://www.courts.ca.gov/supremecourt.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_cal=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of California',
            extraThings:{judgesPic:{url:'ca_sc_court_justices_portrait.jpg', urlSource:'http://www.courts.ca.gov/3014.htm'}},
            note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Cal.', url:'http://www.courts.ca.gov/supremecourt.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_cal=on&order_by=dateFiled+desc'} ,
    {name:'California Courts of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',  citation:'Cal. Ct. App.', url:'http://www.courts.ca.gov/courtsofappeal.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    /*
    {name:'First District, Division One, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
                        citation:'Cal. Ct. App. ?1st District, Division One',
                        url:'http://www.courts.ca.gov/1dca.htm',
                        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'First District, Division Two, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District, Division Two',
        url:'http://www.courts.ca.gov/1dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'First District, Division Three, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District, Division Three',
        url:'http://www.courts.ca.gov/1dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'First District, Division Four, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District, Division Four',
        url:'http://www.courts.ca.gov/1dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'First District, Division Five, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District, Division Five',
        url:'http://www.courts.ca.gov/1dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'Second District, Division One, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District One',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Two, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Two',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Three, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Three',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Four, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Four',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Five, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Five',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Six, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Six',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Seven, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Seven',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Second District, Division Eight, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?1st District Eight',
        url:'http://www.courts.ca.gov/2dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'Third District, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?3rd',
        url:'http://www.courts.ca.gov/3dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,


    {name:'Fourth District, Division One, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?4th Division One',
        url:'http://www.courts.ca.gov/4dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Fourth District, Division Two, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?4th Division Two',
        url:'http://www.courts.ca.gov/4dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
    {name:'Fourth District, Division Three, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?4th Division Three',
        url:'http://www.courts.ca.gov/4dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'Fifth District, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?5th',
        url:'http://www.courts.ca.gov/5dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,

    {name:'Sixth District, California Court of Appeal', stateParent: 'Cal.', jurisdiction:'State Appellate',
        citation:'Cal. Ct. App. ?6th',
        url:'http://www.courts.ca.gov/6dca.htm',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_calctapp=on&order_by=dateFiled+desc'} ,
        */


    //{name:'Supreme Court of Colorado', jurisdiction:'State Supreme',  citation:'Colo.', url:'http://www.coloradosupremecourt.com/', courtListenerURL:'https://www.courtlistener.com/?q=&court_colo=on&order_by=dateFiled+desc'} ,
    {name:'Colorado Supreme Court',
            extraThings:{judgesPic:{url:'co_SupremeCourtJustices.jpg', urlSource:'http://www.courts.state.co.us/Courts/Supreme_Court/Justices.cfm'}},
            note: 'wiki page had this name', jurisdiction:'State Supreme',  citation:'Colo.', url:'http://www.coloradosupremecourt.com/', courtListenerURL:'https://www.courtlistener.com/?q=&court_colo=on&order_by=dateFiled+desc'} ,
    {name:'Colorado Court of Appeals', stateParent: 'Colo.', jurisdiction:'State Appellate',  citation:'Colo. Ct. App.', url:'http://www.courts.state.co.us/Courts/Court_Of_Appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_coloctapp=on&order_by=dateFiled+desc'} ,
    {scdbId:14, name:'Commerce Court', stillExists:false, stillExistsReference:'http://en.wikipedia.org/wiki/United_States_Commerce_Court',  jurisdiction:'Federal Special',  citation:'Comm. Ct.', url:'http://www.fjc.gov/history/home.nsf/page/courts_special_com.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_com=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Connecticut', jurisdiction:'State Supreme',  citation:'Conn.', url:'http://www.jud.state.ct.us/external/supapp/', courtListenerURL:'https://www.courtlistener.com/?q=&court_conn=on&order_by=dateFiled+desc'} ,
    {name:'Connecticut Supreme Court',
            extraThings:{judgesPic:{url:'ct_Supreme_Bench_w041614.jpg', urlSource:'http://www.jud.ct.gov/external/supapp/supjustices.htm'}},
            note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Conn.', url:'http://www.jud.state.ct.us/external/supapp/',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_conn=on&order_by=dateFiled+desc'} ,
    {name:'Connecticut Appellate Court', stateParent: 'Conn.',
            jurisdiction:'State Appellate',
            citation:'Conn. App. Ct.',
            url:'http://www.jud.ct.gov/external/supapp/appellate.htm',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_connappct=on&order_by=dateFiled+desc'} ,
    {name:'Connecticut Superior Court', jurisdiction:'State Appellate',  citation:'Conn. Super. Ct.', url:'http://www.jud.ct.gov/external/super/%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_connsuperct=on&order_by=dateFiled+desc'} ,
    {name:'United States Court of Claims', stillExists:false, jurisdiction:'Federal Special',  citation:'Ct. Cl.', url:'http://www.fjc.gov/history/home.nsf/page/courts_special_coc.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_cc=on&order_by=dateFiled+desc'} ,
    {scdbId:2,   name:'United States Court of International Trade', jurisdiction:'Federal Special',  citation:'Ct. Intl. Trade', url:'http://www.cit.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cit=on&order_by=dateFiled+desc'} ,
    {name:'Court on the Judiciary of Delaware.', jurisdiction:'State Special',  citation:'Ct. Jud. Del.', url:'http://courts.delaware.gov/%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_deljudct=on&order_by=dateFiled+desc'} ,
    {name:'Court of Judicial Discipline of Pennsylvania', jurisdiction:'State Special',  citation:'Ct. Jud. Disc. Pa', url:'http://www.pacourts.us/courts/court-of-judicial-discipline%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_cjdpa=on&order_by=dateFiled+desc'} ,
    {scdbId:7, name:'United States Customs Court', jurisdiction:'Federal Special',  citation:'Cust. Ct.', url:'http://www.fjc.gov/history/home.nsf/page/courts_special_cc_bib.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_cusc=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Alaska', jurisdiction:'Federal District',  citation:'D. Alaska', url:'http://www.akd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_akd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Arizona', jurisdiction:'Federal District',  citation:'D. Ariz.', url:'http://www.azd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_azd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. California', jurisdiction:'Federal District',  citation:'D. Cal.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_californiad=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Colorado', jurisdiction:'Federal District',  citation:'D. Colo.', url:'http://www.cod.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cod=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Connecticut', jurisdiction:'Federal District',  citation:'D. Conn.', url:'http://www.ctd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ctd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Delaware', jurisdiction:'Federal District',  citation:'D. Del.', url:'http://www.ded.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ded=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Guam', jurisdiction:'Federal District',  citation:'D. Guam', url:'http://www.gud.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gud=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Hawaii', jurisdiction:'Federal District',  citation:'D. Haw.', url:'http://www.hid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_hid=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Idaho', jurisdiction:'Federal District',  citation:'D. Idaho', url:'http://www.id.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_idd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Illinois', jurisdiction:'Federal District',  citation:'D. Ill.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_illinoisd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Indiana', jurisdiction:'Federal District',  citation:'D. Ind.', url:'http://www.insd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_indianad=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Kansas', jurisdiction:'Federal District',  citation:'D. Kan.', url:'http://www.ksd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ksd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Maryland', jurisdiction:'Federal District',  citation:'D. Md.', url:'https://www.mdd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mdd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Massachusetts', jurisdiction:'Federal District',  citation:'D. Mass.', url:'http://www.mad.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mad=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Maine', jurisdiction:'Federal District',  citation:'D. Me.', url:'http://www.med.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_med=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Minnesota', jurisdiction:'Federal District',  citation:'D. Minn.', url:'http://www.mnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Montana', jurisdiction:'Federal District',  citation:'D. Mont.', url:'http://www.mtd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mtd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Nebraska', jurisdiction:'Federal District',  citation:'D. Neb.', url:'http://www.ned.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ned=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Nevada', jurisdiction:'Federal District',  citation:'D. Nev.', url:'http://www.nvd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nvd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Ohio', jurisdiction:'Federal District',  citation:'D. Ohio', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohiod=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Oregon', jurisdiction:'Federal District',  citation:'D. Or.', url:'http://www.ord.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ord=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Pennsylvania', jurisdiction:'Federal District',  citation:'D. Pa.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pennsylvaniad=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Tennessee', jurisdiction:'Federal District',  citation:'D. Tenn.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tennessed=on&order_by=dateFiled+desc'} ,
    {name:'United States District Court, D. Utah', jurisdiction:'Federal District',  citation:'D. Utah', url:'http://www.utd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_utd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Vermont', jurisdiction:'Federal District',  citation:'D. Vt.', url:'http://www.vtd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vtd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Wisconsin', jurisdiction:'Federal District',  citation:'E.D. Wis.', url:'http://www.wied.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wied=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Wyoming', jurisdiction:'Federal District',  citation:'D. Wyo.', url:'http://www.wyd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wyd=on&order_by=dateFiled+desc'} ,
    {name:'District of Columbia Court of Appeals', jurisdiction:'State Supreme',  citation:'D.C.', url:'http://www.dccourts.gov/internet/appellate/main.jsf', courtListenerURL:'https://www.courtlistener.com/?q=&court_dc=on&order_by=dateFiled+desc'} ,
    {scdbId:32, populationInfo:{population:601723, source:"http://en.m.wikipedia.org/wiki/United_States_courts_of_appeals"},
        name:'Court of Appeals for the D.C. Circuit', jurisdiction:'Federal Appellate',  citation:'D.C. Cir.', url:'http://www.cadc.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cadc=on&order_by=dateFiled+desc'} ,
    {name:'District Court, Canal Zone', jurisdiction:'Federal District',  citation:'D.C.Z.', url:'https://en.wikipedia.org/wiki/United_States_District_Court_for_the_Canal_Zone', courtListenerURL:'https://www.courtlistener.com/?q=&court_canalzoned=on&order_by=dateFiled+desc'} ,
    {name:'District Court, District of Columbia', jurisdiction:'Federal District',  citation:'D.D.C.', url:'http://www.dcd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_dcd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. North Dakota', jurisdiction:'Federal District',  citation:'D.N.D.', url:'http://www.ndd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ndd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. New Hampshire', jurisdiction:'Federal District',  citation:'D.N.H.', url:'http://www.nhd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nhd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. New Jersey', jurisdiction:'Federal District',  citation:'D.N.J.', url:'http://www.njd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_njd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. New Mexico', jurisdiction:'Federal District',  citation:'D.N.M.', url:'http://www.nmcourt.fed.us/web/DCDOCS/dcindex.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_nmd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Puerto Rico', jurisdiction:'Federal District',  citation:'D.P.R.', url:'http://www.prd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_prd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. Rhode Island', jurisdiction:'Federal District',  citation:'D.R.I.', url:'http://www.rid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_rid=on&order_by=dateFiled+desc'} ,
    {name:'United States District Court, D. South Carolina', jurisdiction:'Federal District',  citation:'D.S.C.', url:'http://www.scd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_scd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, D. South Dakota', jurisdiction:'Federal District',  citation:'D.S.D.', url:'http://www.sdd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_sdd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, Virgin Islands', jurisdiction:'Federal District',  citation:'D.V.I.', url:'http://www.vid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vid=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Delaware', jurisdiction:'State Supreme',  citation:'Del.', url:'http://courts.delaware.gov/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_del=on&order_by=dateFiled+desc'} ,
    {name:'Delaware Supreme Court',
            extraThings:{judgesPic:{url:'de_court2004.jpg', urlSource:'http://courts.delaware.gov/supreme/justices.stm'}},
            seal:'200px-Seal_of_the_Supreme_Court_of_Delaware.svg.png', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_Supreme_Court_of_Delaware.svg',  note: 'wiki page had this name', jurisdiction:'State Supreme',  citation:'Del.', url:'http://courts.delaware.gov/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_del=on&order_by=dateFiled+desc'} ,
    {name:'Court of Chancery of Delaware', jurisdiction:'State Appellate',  citation:'Del. Ch.', url:'http://courts.delaware.gov/chancery/', courtListenerURL:'https://www.courtlistener.com/?q=&court_delch=on&order_by=dateFiled+desc'} ,
    {name:'Delaware Family Court', jurisdiction:'State Special',  citation:'Del. Fm. Ct.', url:'http://courts.delaware.gov/family/%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_delfamct=on&order_by=dateFiled+desc'} ,
    {name:'Superior Court of Delaware', jurisdiction:'State Appellate',  citation:'Del. Super. Ct.', url:'http://courts.delaware.gov/Superior/', courtListenerURL:'https://www.courtlistener.com/?q=&court_delsuperct=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Arkansas', jurisdiction:'Federal District',  citation:'E.D. Ark.', url:'http://www.are.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ared=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Illinois', jurisdiction:'Federal District',  citation:'E.D. Ill.', url:'https://en.wikipedia.org/wiki/United_States_District_Court_for_the_Eastern_District_of_Illinois', courtListenerURL:'https://www.courtlistener.com/?q=&court_illinoised=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Kentucky', jurisdiction:'Federal District',  citation:'E.D. Ky.', url:'http://www.kyed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kyed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Louisiana.', jurisdiction:'Federal District',  citation:'E.D. La.', url:'http://www.laed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_laed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Michigan', jurisdiction:'Federal District',  citation:'E.D. Mich.', url:'http://www.mied.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mied=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Missouri', jurisdiction:'Federal District',  citation:'E.D. Mo.', url:'http://www.moed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_moed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Oklahoma', jurisdiction:'Federal District',  citation:'E.D. Okla.', url:'http://www.oked.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_oked=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Pennsylvania', jurisdiction:'Federal District',  citation:'E.D. Pa.', url:'http://www.paed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_paed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Tennessee', jurisdiction:'Federal District',  citation:'E.D. Tenn.', url:'http://www.tned.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tned=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Texas', jurisdiction:'Federal District',  citation:'E.D. Tex.', url:'http://www.txed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Virginia', jurisdiction:'Federal District',  citation:'E.D. Va.', url:'http://www.vaed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vaed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. Washington', jurisdiction:'Federal District',  citation:'E.D. Wash.', url:'http://www.waed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_waed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. North Carolina', jurisdiction:'Federal District',  citation:'E.D.N.C.', url:'http://www.nced.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nced=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. New York', jurisdiction:'Federal District',  citation:'E.D.N.Y.', url:'http://www.nyed.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nyed=on&order_by=dateFiled+desc'} ,
    {name:'District Court, E.D. South Carolina', jurisdiction:'Federal District',  citation:'E.D.S.C.', url:'http://www.scd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_southcarolinaed=on&order_by=dateFiled+desc'} ,
    {scdbId:18, name:'Emergency Court of Appeals', jurisdiction:'Federal Special',  citation:'Emer. Ct. App.', url:'https://secure.wikimedia.org/wikipedia/en/wiki/Emergency_Court_of_Appeals', courtListenerURL:'https://www.courtlistener.com/?q=&court_eca=on&order_by=dateFiled+desc'} ,
    {scdbId:8, name:'Court of Appeals for the Federal Circuit', jurisdiction:'Federal Appellate',  citation:'Fed. Cir.', url:'http://www.cafc.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cafc=on&order_by=dateFiled+desc'} ,
    {scdbId:3, name:'United States Court of Federal Claims', jurisdiction:'Federal Special',  citation:'Fed. Cl.', url:'http://www.uscfc.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_uscfc=on&order_by=dateFiled+desc'} ,
    {name:'Foreign Intelligence Surveillance Court of Review', jurisdiction:'Federal Special',  citation:'FISA Ct. Rev.', url:'http://www.fjc.gov/history/home.nsf/page/courts_special_fisc.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_fiscr=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Florida', jurisdiction:'State Supreme',  citation:'Fla.', url:'http://www.floridasupremecourt.org/', courtListenerURL:'https://www.courtlistener.com/?q=&court_fla=on&order_by=dateFiled+desc'} ,
    {name:'Florida Supreme Court',
        extraThings:{judgesPic:{url:'fl_sc_Fullcourt2012.jpg', urlSource:'http://www.floridasupremecourt.org/justices/index.shtml'}},
        seal:'Florida_Supreme_Court_Seal.png', sealSource:'http://commons.wikimedia.org/wiki/File:Florida_Supreme_Court_Seal.png',  note:'wiki page had this title', jurisdiction:'State Supreme',  citation:'Fla.', url:'http://www.floridasupremecourt.org/', courtListenerURL:'https://www.courtlistener.com/?q=&court_fla=on&order_by=dateFiled+desc'} ,

    {name:'District Courts of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',  citation:'Fla. Dist. Ct. App.', url:'http://www.flcourts.org/courts/dca/dca.shtml', courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,

    /*
    {name:'First District Court of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',
                    citation:'Fla. Dist. Ct. App. First?',
                    url:'http://www.1dca.org/',
                    courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,

    {name:'Second District Court of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',
        citation:'Fla. Dist. Ct. App. 2nd?',
        url:'http://www.2dca.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,

    {name:'Third District Court of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',
        citation:'Fla. Dist. Ct. App. 3rd?',
        url:'http://www.3dca.flcourts.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,

    {name:'Fourth District Court of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',
        citation:'Fla. Dist. Ct. App. 4th?',
        url:'http://www.4dca.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,

    {name:'Fifth District Court of Appeal of Florida',stateParent: 'Fla.', jurisdiction:'State Appellate',
        citation:'Fla. Dist. Ct. App. 5th?',
        url:'http://www.5dca.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_fladistctapp=on&order_by=dateFiled+desc'} ,
        */

    {name:'Supreme Court of Georgia',
        extraThings:{judgesPic:{url:'ga_full_court_large.jpg', urlSource:'http://www.gasupreme.us/biographies/'}},
        seal:'Seal_of_the_Supreme_Court_of_Georgia.gif', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_Supreme_Court_of_Georgia.gif', jurisdiction:'State Supreme',  citation:'Ga.', url:'http://www.gasupreme.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ga=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Georgia', stateParent: 'Ga.', jurisdiction:'State Appellate',  citation:'Ga. Ct. App.', url:'http://www.gaappeals.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gactapp=on&order_by=dateFiled+desc'} ,
    //{name:'Hawaii Supreme Court', jurisdiction:'State Supreme',  citation:'Haw.', url:'http://www.courts.state.hi.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_haw=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Hawaii', note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Haw.', url:'http://www.courts.state.hi.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_haw=on&order_by=dateFiled+desc'} ,
    {name:'Hawaii Intermediate Court of Appeals', stateParent: 'Haw.', jurisdiction:'State Appellate',  citation:'Haw. App.', url:'http://www.courts.state.hi.us/courts/appeals/intermediate_court_of_appeals.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_hawapp=on&order_by=dateFiled+desc'} ,
    {name:'Idaho Supreme Court', jurisdiction:'State Supreme',  citation:'Idaho', url:'http://www.isc.idaho.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_idaho=on&order_by=dateFiled+desc'} ,
    {name:'Idaho Court of Appeals', stateParent: 'Idaho', jurisdiction:'State Appellate',  citation:'Idaho Ct. App.', url:'http://www.isc.idaho.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_idahoctapp=on&order_by=dateFiled+desc'} ,
    //{name:'Illinois Supreme Court', jurisdiction:'State Supreme',  citation:'Ill.', url:'http://www.state.il.us/court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ill=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Illinois',
        extraThings:{judgesPic:{url:'il_Justices_small.jpg', urlSource:'http://www.state.il.us/court/supremecourt/meetsupremecourt.asp'}},
        note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Ill.', url:'http://www.state.il.us/court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ill=on&order_by=dateFiled+desc'} ,

    {name:'Appellate Court of Illinois', stateParent: 'Ill.', jurisdiction:'State Appellate',  citation:'Ill. App. Ct.', url:'http://www.state.il.us/court/appellatecourt/', courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
    /*
    {name:'First District, First Division, Appellate Court of Illinois',
                stateParent: 'Ill.', jurisdiction:'State Appellate',
                citation:'Ill. App. Ct. 1st1st?',
                url:'http://www.state.il.us/court/appellatecourt/',
                courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,

    {name:'First District, 2nd Division, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 1st2nd?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
    {name:'First District, Third Division, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 1st3rd?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
    {name:'First District, Fourth Division, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 1st4th?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
    {name:'First District, Fifth Division, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 1st5th?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
    {name:'First District, Sixth Division, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 1st6th?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,

    {name:'Second District, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 2nd?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,

    {name:'Third District, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 3rd?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,

    {name:'Fourth District, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 4th?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,

    {name:'Fifth District, Appellate Court of Illinois',
        stateParent: 'Ill.', jurisdiction:'State Appellate',
        citation:'Ill. App. Ct. 5th?',
        url:'http://www.state.il.us/court/appellatecourt/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_illappct=on&order_by=dateFiled+desc'} ,
     */

    //{name:'Indiana Supreme Court', jurisdiction:'State Supreme',  citation:'Ind.', url:'http://www.in.gov/judiciary/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ind=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Indiana', note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Ind.', url:'http://www.in.gov/judiciary/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ind=on&order_by=dateFiled+desc'} ,
    {name:'Indiana Court of Appeals', stateParent:'Ind.', jurisdiction:'State Appellate',  citation:'Ind. Ct. App.', url:'http://www.in.gov/judiciary/appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_indctapp=on&order_by=dateFiled+desc'} ,
    {name:'Indiana Tax Court', stateParent:'Ind.', jurisdiction:'State Special',  citation:'Ind. T.C.', url:'http://www.in.gov/judiciary/tax/', courtListenerURL:'https://www.courtlistener.com/?q=&court_indtc=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Iowa', jurisdiction:'State Supreme',  citation:'Iowa', url:'http://www.iowacourts.gov/supreme_court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iowa=on&order_by=dateFiled+desc'} ,
    {name:'Iowa Supreme Court',
        extraThings:{judgesPic:{url:'iowa_sc_image001.jpg', urlSource:'http://www.iowacourts.gov/About_the_Courts/Supreme_Court/'}},
        note:'wiki page had this name', jurisdiction:'State Supreme',  citation:'Iowa', url:'http://www.iowacourts.gov/supreme_court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iowa=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Iowa', stateParent: 'Iowa', jurisdiction:'State Appellate',  citation:'Iowa Ct. App.', url:'http://www.iowacourts.gov/court_of_appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iowactapp=on&order_by=dateFiled+desc'} ,
    {name:'United States Judicial Panel on Multidistrict Litigation', jurisdiction:'Committee',  citation:'J.P.M.L.', url:'http://www.iowacourts.gov/About_the_Courts/Court_of_Appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_jpml=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Kansas', jurisdiction:'State Supreme',  citation:'Kan.', url:'http://www.kscourts.org/kansas-courts/supreme-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kan=on&order_by=dateFiled+desc'} ,
    {name:'Kansas Supreme Court',
        extraThings:{judgesPic:{url:'kansas_supreme-court.jpg', urlSource:'http://www.kscourts.org/kansas-courts/supreme-court/justice-bios/default.asp'}},
        jurisdiction:'State Supreme',  citation:'Kan.', url:'http://www.kscourts.org/kansas-courts/supreme-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kan=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Kansas', stateParent: 'Kan.', jurisdiction:'State Appellate',  citation:'Kan. Ct. App.', url:'http://www.kscourts.org/kansas-courts/court-of-appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kanctapp=on&order_by=dateFiled+desc'} ,
    {name:'Kentucky Supreme Court', jurisdiction:'State Supreme',  citation:'Ky.', url:'http://courts.ky.gov/courts/supreme/%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_ky=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Kentucky', stateParent: 'Ky.', jurisdiction:'State Appellate',  citation:'Ky. Ct. App.', url:'http://courts.ky.gov/courts/coa/Pages/coa.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_kyctapp=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Louisiana', jurisdiction:'State Supreme',  citation:'La.', url:'http://www.lasc.org/', courtListenerURL:'https://www.courtlistener.com/?q=&court_la=on&order_by=dateFiled+desc'} ,
    {name:'Louisiana Supreme Court',
        extraThings:{judgesPic:{url:'la_supreme_court_justices_100307.jpg', urlSource:'http://louisiana.gov/images/judicialbranch/supreme_court_justices_100307.jpg'}},
        jurisdiction:'State Supreme',  citation:'La.', url:'http://www.lasc.org/', courtListenerURL:'https://www.courtlistener.com/?q=&court_la=on&order_by=dateFiled+desc'} ,
    {name:'Louisiana Court of Appeal', stateParent: 'La.', jurisdiction:'State Appellate',  citation:'La. Ct. App.', url:'http://louisiana.gov/Government/Judicial_Branch/', courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,

    /*
    {name:'Louisiana Court of Appeal, First Circuit', stateParent: 'La.', jurisdiction:'State Appellate',
            citation:'La. Ct. App. 1st Cir?', url:'http://www.la-fcca.org/',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,

    {name:'Louisiana Court of Appeal, Second Circuit', stateParent: 'La.', jurisdiction:'State Appellate',
        citation:'La. Ct. App. 2nd Cir?', url:'http://www.la2nd.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,

    {name:'Louisiana Court of Appeal, Third Circuit', stateParent: 'La.', jurisdiction:'State Appellate',
        citation:'La. Ct. App. 3rd Cir?', url:'http://www.la3circuit.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,

    {name:'Louisiana Court of Appeal, Fourth Circuit', stateParent: 'La.', jurisdiction:'State Appellate',
        citation:'La. Ct. App. 4th Cir?', url:'http://www.la4th.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,

    {name:'Louisiana Court of Appeal, Fifth Circuit', stateParent: 'La.', jurisdiction:'State Appellate',
        citation:'La. Ct. App. 5th Cir?', url:'http://www.fifthcircuit.org/',
        courtListenerURL:'https://www.courtlistener.com/?q=&court_lactapp=on&order_by=dateFiled+desc'} ,
    */

    {name:'U.S. Court of Military Commission Review', jurisdiction:'Federal Special',  citation:'M.C.', url:'http://www.mc.mil/cases/USCourtofMilitaryCommissionReview.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_mc=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Alabama', jurisdiction:'Federal District',  citation:'M.D. Ala.', url:'http://www.almd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_almd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Florida', jurisdiction:'Federal District',  citation:'M.D. Fla.', url:'http://www.flmd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flmd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Georgia', jurisdiction:'Federal District',  citation:'M.D. Ga.', url:'http://www.gamd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gamd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Louisiana', jurisdiction:'Federal District',  citation:'M.D. La.', url:'http://www.lamd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_lamd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Pennsylvania', jurisdiction:'Federal District',  citation:'M.D. Pa.', url:'http://www.pamd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pamd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. Tennessee', jurisdiction:'Federal District',  citation:'M.D. Tenn.', url:'http://www.tnmd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tnmd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, M.D. North Carolina', jurisdiction:'Federal District',  citation:'M.D.N.C.', url:'http://www.ncmd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ncmd=on&order_by=dateFiled+desc'} ,
    {name:'Massachusetts Supreme Judicial Court', jurisdiction:'State Supreme',  citation:'Mass.', url:'http://www.mass.gov/courts/sjc/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mass=on&order_by=dateFiled+desc'} ,

    {name:'Massachusetts Appeals Court', stateParent: 'Mass.', jurisdiction:'State Appellate',  citation:'Mass. App. Ct.', url:'http://www.mass.gov/courts/appealscourt/', courtListenerURL:'https://www.courtlistener.com/?q=&court_massappct=on&order_by=dateFiled+desc'} ,

    {name:'Bankruptcy Appellate Panel of Massachusetts', jurisdiction:'Federal Bankruptcy Panel',  citation:'Mass. BAP', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bapma=on&order_by=dateFiled+desc'} ,
    //{name:'Court of Appeals of Maryland', jurisdiction:'State Supreme',  citation:'Md.', url:'http://www.courts.state.md.us/coappeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_md=on&order_by=dateFiled+desc'} ,
    {name:'Maryland Court of Appeals',
        extraThings:{judgesPic:{url:'md_coa2013groupphoto600.jpg', urlSource:'http://www.courts.state.md.us/coappeals/judges.html'}},
        note:'wiki page had this name',  jurisdiction:'State Supreme',  citation:'Md.', url:'http://www.courts.state.md.us/coappeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_md=on&order_by=dateFiled+desc'} ,
    {name:'Court of Special Appeals of Maryland', stateParent: 'Md.', jurisdiction:'State Appellate',  citation:'Md. Ct. Spec. App.', url:'http://www.courts.state.md.us/cosappeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mdctspecapp=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Judicial Court of Maine', jurisdiction:'State Supreme',  citation:'Me.', url:'http://www.courts.state.me.us/maine_courts/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_me=on&order_by=dateFiled+desc'} ,
    {name:'Maine Supreme Judicial Court',
        extraThings:{liveStreamUrl:'http://www.courts.state.me.us/maine_courts/supreme/stream.shtml'},
        note: 'wiki page had this name', jurisdiction:'State Supreme',  citation:'Me.', url:'http://www.courts.state.me.us/maine_courts/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_me=on&order_by=dateFiled+desc'} ,
    {name:'Bankruptcy Appellate Panel, D. Maine', jurisdiction:'Federal Bankruptcy Panel',  citation:'Me. BAP', url:'http://www.meb.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_bapme=on&order_by=dateFiled+desc'} ,
    {name:'Michigan Supreme Court', jurisdiction:'State Supreme',  citation:'Mich.', url:'http://courts.mi.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mich=on&order_by=dateFiled+desc'} ,
    {name:'Michigan Court of Appeals', stateParent: 'Mich.', jurisdiction:'State Appellate',  citation:'Mich. Ct. App.', url:'http://courts.mi.gov/courts/coa/pages/default.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_michctapp=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of Minnesota', jurisdiction:'State Supreme',  citation:'Minn.', url:'http://www.mncourts.gov/?page=550', courtListenerURL:'https://www.courtlistener.com/?q=&court_minn=on&order_by=dateFiled+desc'} ,
    {name:'Minnesota Supreme Court',
        extraThings:{judgesPic:{url:'mn_2013SupremeCourtL_5x7_(800x571).jpg', urlSource:'http://www.mncourts.gov/default.aspx/?page=550'}},
        note:wikipage, jurisdiction:'State Supreme',  citation:'Minn.', url:'http://www.mncourts.gov/?page=550', courtListenerURL:'https://www.courtlistener.com/?q=&court_minn=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Minnesota', stateParent: 'Minn.',
            jurisdiction:'State Appellate',  citation:'Minn. Ct. App.',
            url:'http://www.mncourts.gov/?page=551',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_minnctapp=on&order_by=dateFiled+desc'} ,
    //{name:'Mississippi Supreme Court', jurisdiction:'State Supreme',  citation:'Miss.', url:'http://courts.ms.gov/appellate_courts/sc/sc.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_miss=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Mississippi',
        extraThings:{judgesPic:{url:'ms_02 07 13MS Supreme Court for website.jpg', urlSource:'http://courts.ms.gov/appellate_courts/sc/sc.html'}},
        note:wikipage, jurisdiction:'State Supreme',  citation:'Miss.', url:'http://courts.ms.gov/appellate_courts/sc/sc.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_miss=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Mississippi', stateParent: 'Miss.', jurisdiction:'State Appellate',  citation:'Miss. Ct. App.', url:'http://courts.ms.gov/appellate_courts/coa/coa.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_missctapp=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Missouri',
        extraThings:{judgesPic:{url:'mo_sc_DSC05924.JPG', urlSource:'http://www.courts.mo.gov/page.jsp?id=133'}},
        jurisdiction:'State Supreme',  citation:'Mo.', url:'http://www.courts.mo.gov/page.jsp?id=27', courtListenerURL:'https://www.courtlistener.com/?q=&court_mo=on&order_by=dateFiled+desc'} ,
    {name:'Missouri Court of Appeals', stateParent: 'Mo.', jurisdiction:'State Appellate',  citation:'Mo. Ct. App.', url:'http://www.courts.mo.gov/page.jsp?id=261', courtListenerURL:'https://www.courtlistener.com/?q=&court_moctapp=on&order_by=dateFiled+desc'} ,

//    {name:'Missouri Court of Appeals, Eastern District', stateParent: 'Mo.', jurisdiction:'State Appellate',
//        citation:'Mo. Ct. App. East?',
//        url:'http://www.courts.mo.gov/page.jsp?id=99', courtListenerURL:'https://www.courtlistener.com/?q=&court_moctapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Missouri Court of Appeals, Southern District', stateParent: 'Mo.', jurisdiction:'State Appellate',
//                        citation:'Mo. Ct. App. South?',
//                        url:'http://www.courts.mo.gov/page.jsp?id=208', courtListenerURL:'https://www.courtlistener.com/?q=&court_moctapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Missouri Court of Appeals, Western District', stateParent: 'Mo.', jurisdiction:'State Appellate',
//        citation:'Mo. Ct. App. West?',
//        url:'http://www.courts.mo.gov/page.jsp?id=227', courtListenerURL:'https://www.courtlistener.com/?q=&court_moctapp=on&order_by=dateFiled+desc'} ,


    {name:'District Court, S.D. Missouri', jurisdiction:'Federal District',  citation:'Mo. S.D.', url:'http://www.courts.mo.gov/page.jsp?id=208%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_mosd=on&order_by=dateFiled+desc'} ,
    {name:'Montana Supreme Court',
        extraThings:{judgesPic:{url:'montana_2013_justices.jpg-1.jpg', urlSource:'http://courts.mt.gov/supreme/default.mcpx'}},
        jurisdiction:'State Supreme',  citation:'Mont.', url:'http://courts.mt.gov/supreme/default.mcpx', courtListenerURL:'https://www.courtlistener.com/?q=&court_mont=on&order_by=dateFiled+desc'} ,
    {name:'District Court, Northern Mariana Islands', jurisdiction:'Federal District',  citation:'D.N. Mar. I.', url:'http://www.nmid.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nmid=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of North Carolina', jurisdiction:'State Supreme',  citation:'N.C.', url:'http://www.nccourts.org/courts/appellate/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nc=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of North Carolina', stateParent: 'N.C.', jurisdiction:'State Appellate',  citation:'N.C. Ct. App.', url:'http://www.nccourts.org/courts/appellate/appeal/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ncctapp=on&order_by=dateFiled+desc'} ,
    {name:'North Dakota Supreme Court',
        extraThings:{judgesPic:{url:'nd_sc_court14.JPG', urlSource:'http://www.ndcourts.gov/court/court.htm'}},
        jurisdiction:'State Supreme',  citation:'N.D.', url:'http://www.ndcourts.gov/default.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_nd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Alabama', jurisdiction:'Federal District',  citation:'N.D. Ala.', url:'http://www.alnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_alnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. California', jurisdiction:'Federal District',  citation:'N.D. Cal.', url:'http://www.cand.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cand=on&order_by=dateFiled+desc'} ,
    {name:'North Dakota Court of Appeals', stateParent: 'N.D.', jurisdiction:'State Appellate',  citation:'N.D. Ct. App.', url:'http://www.ndcourts.gov/default.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_ndctapp=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Florida', jurisdiction:'Federal District',  citation:'N.D. Fla.', url:'http://www.flnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Georgia', jurisdiction:'Federal District',  citation:'N.D. Ga.', url:'http://www.gand.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gand=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Illinois', jurisdiction:'Federal District',  citation:'N.D. Ill.', url:'http://www.ilnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Indiana', jurisdiction:'Federal District',  citation:'N.D. Ind.', url:'http://www.innd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_innd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Iowa', jurisdiction:'Federal District',  citation:'N.D. Iowa', url:'http://www.iand.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iand=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Mississippi', jurisdiction:'Federal District',  citation:'N.D. Miss.', url:'http://www.msnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_msnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. New York', jurisdiction:'Federal District',  citation:'N.D.N.Y.', url:'http://www.nynd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nynd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Ohio', jurisdiction:'Federal District',  citation:'N.D. Ohio', url:'http://www.ohnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Oklahoma', jurisdiction:'Federal District',  citation:'N.D. Okla.', url:'http://www.oknd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_oknd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. Texas', jurisdiction:'Federal District',  citation:'N.D. Tex.', url:'http://www.txnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txnd=on&order_by=dateFiled+desc'} ,
    {name:'District Court, N.D. West Virginia', jurisdiction:'Federal District',  citation:'N.D. W. Va.', url:'http://www.wvnd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wvnd=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of New Hampshire', jurisdiction:'State Supreme',  citation:'N.H.', url:'http://www.courts.state.nh.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nh=on&order_by=dateFiled+desc'} ,
    {name:'New Hampshire Supreme Court', note:wikipage, jurisdiction:'State Supreme',  citation:'N.H.', url:'http://www.courts.state.nh.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nh=on&order_by=dateFiled+desc'} ,
    //{name:'Supreme Court of New Jersey', jurisdiction:'State Supreme',  citation:'N.J.', url:'http://www.judiciary.state.nj.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nj=on&order_by=dateFiled+desc'} ,
    {name:'New Jersey Supreme Court',
        extraThings:{judgesPic:{url:'nj_scjustices.jpg', urlSource:'http://www.judiciary.state.nj.us/supreme/'}},
        note:wikipage, jurisdiction:'State Supreme',  citation:'N.J.', url:'http://www.judiciary.state.nj.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nj=on&order_by=dateFiled+desc'} ,
    {name:'New Jersey Superior Court, Appellate Division', stateParent: 'N.J.', jurisdiction:'State Appellate',  citation:'N.J. Super. Ct. App. Div.', url:'http://www.judiciary.state.nj.us/appdiv/index.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_njsuperctappdiv=on&order_by=dateFiled+desc'} ,
    {name:'New Jersey Tax Court', jurisdiction:'State Special',  citation:'N.J. Tax Ct.', url:'http://www.judiciary.state.nj.us/taxcourt/%E2%80%8E', courtListenerURL:'https://www.courtlistener.com/?q=&court_njtaxct=on&order_by=dateFiled+desc'} ,
    {name:'New Mexico Supreme Court', jurisdiction:'State Supreme',  citation:'N.M.', url:'https://nmsupremecourt.nmcourts.gov/index.php', courtListenerURL:'https://www.courtlistener.com/?q=&court_nm=on&order_by=dateFiled+desc'} ,
    {name:'New Mexico Court of Appeals', stateParent: 'N.M.', jurisdiction:'State Appellate',  citation:'N.M. Ct. App.', url:'https://coa.nmcourts.gov/index.php', courtListenerURL:'https://www.courtlistener.com/?q=&court_nmctapp=on&order_by=dateFiled+desc'} ,
    {name:'New York Family Court', jurisdiction:'State Special',  citation:'N.Y. Fam. Ct.', url:'http://www.courts.state.ny.us/courts/cts-outside-nyc-FAMILY.shtml', courtListenerURL:'https://www.courtlistener.com/?q=&court_nyfamct=on&order_by=dateFiled+desc'} ,
    {name:'New York Surrogate\'s Court', jurisdiction:'State Special',  citation:'N.Y. Sur. Ct.', url:'https://en.wikipedia.org/wiki/New_York_Surrogate%27s_Court', courtListenerURL:'https://www.courtlistener.com/?q=&court_nysurct=on&order_by=dateFiled+desc'} ,
    {name:'Nebraska Supreme Court',
        extraThings:{judgesPic:{url:'ne_supremecourt12.jpg', urlSource:'http://supremecourt.ne.gov/sc/justices'}},
        jurisdiction:'State Supreme',  citation:'Neb.', url:'http://supremecourt.ne.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_neb=on&order_by=dateFiled+desc'} ,
    {name:'Nebraska Court of Appeals', stateParent: 'Neb.', jurisdiction:'State Appellate',  citation:'Neb. Ct. App.', url:'http://supremecourt.ne.gov/4853/nebraska-judicial-system#COA', courtListenerURL:'https://www.courtlistener.com/?q=&court_nebctapp=on&order_by=dateFiled+desc'} ,
    //{name:'Nevada Supreme Court', jurisdiction:'State Supreme',  citation:'Nev.', url:'http://www.nevadajudiciary.us/index.php/supremecourt', courtListenerURL:'https://www.courtlistener.com/?q=&court_nev=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Nevada',
        extraThings:{judgesPic:{url:'nv_Justices 2014_small.jpg', urlSource:'http://supreme.nvcourts.gov/Supreme/Court_Information/The_Supreme_Court_of_Nevada_Justices/'}},
        note:wikipage, jurisdiction:'State Supreme',  citation:'Nev.', url:'http://www.nevadajudiciary.us/index.php/supremecourt', courtListenerURL:'https://www.courtlistener.com/?q=&court_nev=on&order_by=dateFiled+desc'} ,
{name:'Ohio Supreme Court',
    extraThings:{judgesPic:{url:'oh_sc_formal2013.jpg', urlSource:'http://www.supremecourt.ohio.gov/SCO/justices/'}},
    seal:'200px-Seal_of_the_Supreme_Court_of_Ohio.svg.png', sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_Supreme_Court_of_Ohio.svg', jurisdiction:'State Supreme',  citation:'Ohio', url:'http://www.supremecourt.ohio.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohio=on&order_by=dateFiled+desc'} ,
    //these aren't in CourtListener yet - go ahead and keep for when scrapers are written
    {name:'Ohio First District Court of Appeals ', stateParent: 'Ohio', jurisdiction:'State Appellate', url:'http://www.hamilton-co.org/appealscourt/', citation:'Ohio App. 1st District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Second District Court of Appeals', url:'http://www.mcohio.org/SecondDistrictAppeals/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 2nd District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Third District Court of Appeals', url:'http://www.third.courts.state.oh.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 3rd District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Fourth District Court of Appeals', url:'http://www.4thdistrictappeals.com/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 4th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Fifth District Court of Appeals', url:'http://www.fifthdist.org/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 5th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Sixth District Court of Appeals', url:'http://www.co.lucas.oh.us/index.aspx?nid=171', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 6th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Seventh District Court of Appeals', url:'http://www.seventh.courts.state.oh.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 7yh District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Eighth District Court of Appeals', url:'http://appeals.cuyahogacounty.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 8th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Ninth District Court of Appeals', url:'http://www.ninth.courts.state.oh.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 9th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Tenth District Court of Appeals', url:'http://www.tenthdistrictcourt.org/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 10th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Eleventh District Court of Appeals', url:'http://www.11thcourt.co.trumbull.oh.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 11th District?',  courtListenerURL:'NA'} ,
    {name:'Ohio Twelfth District Court of Appeals', url:'http://www.twelfth.courts.state.oh.us/', stateParent: 'Ohio', jurisdiction:'State Appellate', citation:'Ohio App. 12th District?',  courtListenerURL:'NA'} ,

    {name:'Supreme Court of Oklahoma', jurisdiction:'State Supreme',  citation:'Okla.', url:'http://www.oscn.net/oscn/schome/start.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_okla=on&order_by=dateFiled+desc'} ,
{name:'Court on the Judiciary of Oklahoma', jurisdiction:'State Special',  citation:'Okla. C.O.J.', url:'http://en.wikipedia.org/wiki/Oklahoma_Court_on_the_Judiciary', courtListenerURL:'https://www.courtlistener.com/?q=&court_oklacoj=on&order_by=dateFiled+desc'} ,
{name:'Court of Civil Appeals of Oklahoma', stateParent: 'Okla.', jurisdiction:'State Appellate',  citation:'Okla. Civ. App.', url:'http://www.oscn.net/oscn/schome/civilappeals.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_oklacivapp=on&order_by=dateFiled+desc'} ,
//{name:'Court of Criminal Appeals of Oklahoma', jurisdiction:'State Appellate',  citation:'Okla. Crim. App.', url:'http://www.okcca.net/', courtListenerURL:'https://www.courtlistener.com/?q=&court_oklacrimapp=on&order_by=dateFiled+desc'} ,
{name:'Oklahoma Court of Criminal Appeals',  note:wikipage, jurisdiction:'State Appellate',  citation:'Okla. Crim. App.', url:'http://www.okcca.net/', courtListenerURL:'https://www.courtlistener.com/?q=&court_oklacrimapp=on&order_by=dateFiled+desc'} ,
{name:'Oklahoma Judicial Ethics Advisory Panel', jurisdiction:'State Special',  citation:'Okla. J.E.A.P.', url:'http://www.oscn.net/applications/oscn/index.asp?ftdb=STOKCSJE&level=1', courtListenerURL:'https://www.courtlistener.com/?q=&court_oklajeap=on&order_by=dateFiled+desc'} ,
{name:'Oregon Supreme Court',
    extraThings:{judgesPic:{url:'oregon_sc_2013_Justices_web.jpg', urlSource:'http://courts.oregon.gov/Supreme/Pages/index.aspx'}},
    jurisdiction:'State Supreme',  citation:'Or.', url:'http://www.publications.ojd.state.or.us/Pages/OpinionsSC.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_or=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of Oregon', stateParent: 'Or.', jurisdiction:'State Appellate',  citation:'Or. Ct. App.', url:'http://courts.oregon.gov/COA/', courtListenerURL:'https://www.courtlistener.com/?q=&court_orctapp=on&order_by=dateFiled+desc'} ,
{name:'Supreme Court of Pennsylvania',
    extraThings:{judgesPic:{url:'pennsylv_sc_image-2471.jpg', urlSource:'http://www.pacourts.us/courts/supreme-court/supreme-court-justices'}},
    seal:'200px-Seal_of_the_Supreme_Court_of_Pennsylvania.svg.png',  sealSource:'http://en.wikipedia.org/wiki/File:Seal_of_the_Supreme_Court_of_Pennsylvania.svg', jurisdiction:'State Supreme',  citation:'Pa.', url:'http://www.pacourts.us/courts/supreme-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pa=on&order_by=dateFiled+desc'} ,
{name:'Supreme Court of Puerto Rico', note:'not in Court Listener database', jurisdiction:'State Supreme',  citation:'P.R.', url:'http://www.ramajudicial.pr/sistema/supremo/index.htm', courtListenerURL:'NA'} ,
    {name:'Puerto Rico Court of Appeals', note:'not in Court Listener database', jurisdiction:'State Appellate',  citation:'P.R. Ct. App.?', url:'http://www.ramajudicial.pr/sistema/apelaciones.htm', courtListenerURL:'NA'} ,
{name:'Commonwealth Court of Pennsylvania.', stateParent:'Pa.', jurisdiction:'State Appellate',  citation:'Pa. Commw. Ct.', url:'http://www.pacourts.us/courts/commonwealth-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pacommwct=on&order_by=dateFiled+desc'} ,
{name:'Superior Court of Pennsylvania', stateParent:'Pa.', jurisdiction:'State Appellate',  citation:'Pa. Super. Ct.', url:'http://www.pacourts.us/courts/superior-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pasuperct=on&order_by=dateFiled+desc'} ,
//{name:'Supreme Court of Rhode Island', jurisdiction:'State Supreme',  citation:'R.I.', url:'http://www.courts.ri.gov/courts/supremecourt/default.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_ri=on&order_by=dateFiled+desc'} ,
{name:'Rhode Island Supreme Court',note:wikipage,  jurisdiction:'State Supreme',  citation:'R.I.', url:'http://www.courts.ri.gov/courts/supremecourt/default.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_ri=on&order_by=dateFiled+desc'} ,
{name:'Special Court under the Regional Rail Reorganization Act', jurisdiction:'Federal Special',  citation:'Regl. Rail Reorg. Act', url:'http://www.uscourts.gov/news/TheThirdBranch/96-11-01/Special_Railroad_Court_to_Close_Doors.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_reglrailreorgct=on&order_by=dateFiled+desc'} ,
//{name:'Supreme Court of South Carolina', jurisdiction:'State Supreme',  citation:'S.C.', url:'http://www.judicial.state.sc.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_sc=on&order_by=dateFiled+desc'} ,
{name:'South Carolina Supreme Court', note:wikipage, jurisdiction:'State Supreme',  citation:'S.C.', url:'http://www.judicial.state.sc.us/supreme/', courtListenerURL:'https://www.courtlistener.com/?q=&court_sc=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of South Carolina', stateParent:'S.C.', jurisdiction:'State Appellate',  citation:'S.C. Ct. App.', url:'http://www.judicial.state.sc.us/appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_scctapp=on&order_by=dateFiled+desc'} ,
{name:'South Dakota Supreme Court', jurisdiction:'State Supreme',
            citation:'S.D.',
            oldurl_pre_june_5_2014:'http://www.sdjudicial.com/',
            url:'http://ujs.sd.gov/',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_sd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Alabama', jurisdiction:'Federal District',  citation:'S.D. Ala.', url:'http://www.als.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_alsd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. California', jurisdiction:'Federal District',  citation:'S.D. Cal.', url:'http://www.casd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_casd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Florida', jurisdiction:'Federal District',  citation:'S.D. Fla.', url:'http://www.flsd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_flsd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Georgia', jurisdiction:'Federal District',  citation:'S.D. Ga.', url:'http://www.gasd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_gasd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Illinois', jurisdiction:'Federal District',  citation:'S.D. Ill.', url:'http://www.ilsd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ilsd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Indiana', jurisdiction:'Federal District',  citation:'S.D. Ind.', url:'http://www.insd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_insd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Iowa', jurisdiction:'Federal District',  citation:'S.D. Iowa', url:'http://www.iasd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_iasd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Mississippi', jurisdiction:'Federal District',  citation:'S.D. Miss.', url:'http://www.mssd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mssd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Ohio', jurisdiction:'Federal District',  citation:'S.D. Ohio', url:'http://www.ohsd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ohsd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. Texas', jurisdiction:'Federal District',  citation:'S.D. Tex.', url:'http://www.txs.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_txsd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. New York', jurisdiction:'Federal District',  citation:'S.D.N.Y.', url:'http://www.nysd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nysd=on&order_by=dateFiled+desc'} ,
{name:'District Court, S.D. West Virginia.', jurisdiction:'Federal District',  citation:'S.D. W. Va.', url:'http://www.wvsd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wvsd=on&order_by=dateFiled+desc'} ,
{name:'Supreme Court of the United States',
            extraThings:{judgesPic:{url:'1200px-Supreme_Court_US_2010.jpg', urlSource:'http://en.wikipedia.org/wiki/File:Supreme_Court_US_2010.jpg'}},
            jurisdiction:'Federal Appellate',  citation:'SCOTUS', url:'http://supremecourt.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_scotus=on&order_by=dateFiled+desc'} ,
{name:'U.S. Special Tribunal of Pennsylvania', jurisdiction:'Committee',  citation:'Special Tribunal of Pa.', url:'https://www.courtlistener.com/?court=stp', courtListenerURL:'https://www.courtlistener.com/?q=&court_stp=on&order_by=dateFiled+desc'} ,
{scdbId:9, name:'United States Tax Court', jurisdiction:'Federal Special',  citation:'Tax Ct.', url:'http://www.ustaxcourt.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tax=on&order_by=dateFiled+desc'} ,
{scdbId:10, name:'Temporary Emergency Court of Appeals', jurisdiction:'Federal Special',  citation:'Temp. Emerg. Ct. App.', url:'http://www.fjc.gov/history/home.nsf/page/courts_special_tecoa.html', courtListenerURL:'https://www.courtlistener.com/?q=&court_tecoa=on&order_by=dateFiled+desc'} ,
{name:'Tennessee Supreme Court', jurisdiction:'State Supreme',  citation:'Tenn.', url:'https://www.tncourts.gov/courts/supreme-court', courtListenerURL:'https://www.courtlistener.com/?q=&court_tenn=on&order_by=dateFiled+desc'} ,
{name:'Court of Criminal Appeals of Tennessee', stateParent:'Tenn.', jurisdiction:'State Appellate',  citation:'Tenn. Crim. App.', url:'http://www.tsc.state.tn.us/courts/court-criminal-appeals', courtListenerURL:'https://www.courtlistener.com/?q=&court_tenncrimapp=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of Tennessee', stateParent:'Tenn.', jurisdiction:'State Appellate',  citation:'Tenn. Ct. App.', url:'http://www.tncourts.gov/courts/court-appeals', courtListenerURL:'https://www.courtlistener.com/?q=&court_tennctapp=on&order_by=dateFiled+desc'} ,
//{name:'Texas Supreme Court', jurisdiction:'State Supreme',  citation:'Tex.', url:'http://www.supreme.courts.state.tx.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tex=on&order_by=dateFiled+desc'} ,
{name:'Supreme Court of Texas', jurisdiction:'State Supreme',  citation:'Tex.', url:'http://www.supreme.courts.state.tx.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tex=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of Texas', stateParent:'Tex.', jurisdiction:'State Appellate',  citation:'Tex. App.', url:'http://www.courts.state.tx.us/courts/coa.asp', courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,

//    {name:'First Court of Appeals, Texas', stateParent:'Tex.',
//                    jurisdiction:'State Appellate',
//                    citation:'Tex. App. 1st?',
//                    url:'http://www.1stcoa.courts.state.tx.us/',
//                    courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Second Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 2nd?',
//        url:'http://www.2ndcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Third Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 3rd?',
//        url:'http://www.3rdcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Fourth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 4th?',
//        url:'http://www.4thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Fifth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 5th?',
//        url:'http://www.5thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Sixth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 6th?',
//        url:'http://www.6thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Seventh Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 7th?',
//        url:'http://www.7thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Eighth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 8th?',
//        url:'http://www.8thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Ninth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 9th?',
//        url:'http://www.9thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Tenth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 10th?',
//        url:'http://www.10thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Eleventh Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 11th?',
//        url:'http://www.11thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Twelfth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 12th?',
//        url:'http://www.12thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Thirteenth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 13th?',
//        url:'http://www.13thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,
//
//    {name:'Fourteenth Court of Appeals, Texas', stateParent:'Tex.',
//        jurisdiction:'State Appellate',
//        citation:'Tex. App. 14th?',
//        url:'http://www.14thcoa.courts.state.tx.us/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_texapp=on&order_by=dateFiled+desc'} ,

//{name:'Court of Criminal Appeals of Texas', jurisdiction:'State Appellate',  citation:'Tex. Crim. App.', url:'http://www.cca.courts.state.tx.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_texcrimapp=on&order_by=dateFiled+desc'} ,
{name:'Texas Court of Criminal Appeals', note:wikipage, jurisdiction:'State Appellate',  citation:'Tex. Crim. App.', url:'http://www.cca.courts.state.tx.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_texcrimapp=on&order_by=dateFiled+desc'} ,
{name:'Texas Special Court of Review', jurisdiction:'State Special',  citation:'Tex. Rev.', url:'http://www.scjc.state.tx.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_texreview=on&order_by=dateFiled+desc'} ,
{name:'United States Judicial Conference Committee', jurisdiction:'Committee',  citation:'U.S.J.C.', url:'http://www.uscourts.gov/FederalCourts/JudicialConference/Committees.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_usjc=on&order_by=dateFiled+desc'} ,
{name:'Utah Supreme Court',
    extraThings:{judgesPic:{url:'ut_sc_Sup_Ct.jpg', urlSource:'https://www.utcourts.gov/images/Sup_Ct.jpg'}},
    jurisdiction:'State Supreme',  citation:'Utah', url:'http://www.utcourts.gov/opinions/supopin/index.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_utah=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of Utah', stateParent:'Utah', jurisdiction:'State Appellate',  citation:'Utah Ct. App.', url:'http://www.utcourts.gov/courts/appell/', courtListenerURL:'https://www.courtlistener.com/?q=&court_utahctapp=on&order_by=dateFiled+desc'} ,
{name:'Supreme Court of Virginia', seal:'Virginia_supreme_court_seal.png', sealSource:'http://en.wikipedia.org/wiki/File:Virginia_supreme_court_seal.png', jurisdiction:'State Supreme',  citation:'Va.', url:'http://www.courts.state.va.us/courts/scv/', courtListenerURL:'https://www.courtlistener.com/?q=&court_va=on&order_by=dateFiled+desc'} ,
{name:'Court of Appeals of Virginia', stateParent:'Va.',jurisdiction:'State Appellate',  citation:'Va. Ct. App.', url:'http://www.courts.state.va.us/courts/cav/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vactapp=on&order_by=dateFiled+desc'} ,
{scdbId:6, name:'United States Court of Appeals for Veterans Claims', jurisdiction:'Federal Special',  citation:'Vet. App.', url:'http://www.uscourts.cavc.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_cavc=on&order_by=dateFiled+desc'} ,
//{name:'Supreme Court of Vermont', jurisdiction:'State Supreme',  citation:'Vt.', url:'http://www.vermontjudiciary.org/gtc/supreme/default.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_vt=on&order_by=dateFiled+desc'} ,
    {name:'Vermont Supreme Court',
        extraThings:{judgesPic:{url:'vermont_sc_justices.jpg', urlSource:'https://www.vermontjudiciary.org/gtc/supreme/images/justices.jpg'}},
        note:wikipage, jurisdiction:'State Supreme',  citation:'Vt.', url:'http://www.vermontjudiciary.org/gtc/supreme/default.aspx', courtListenerURL:'https://www.courtlistener.com/?q=&court_vt=on&order_by=dateFiled+desc'} ,
//{name:'West Virginia Supreme Court', jurisdiction:'State Supreme',  citation:'W. Va.', url:'http://www.courtswv.gov/supreme-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wva=on&order_by=dateFiled+desc'} ,
    {name:'Supreme Court of Appeals of West Virginia',
        extraThings:{judgesPic:{url:'wv_sc_2014justices.jpg', urlSource:'http://www.courtswv.gov/supreme-court/justices-staff.html'}},
        seal:'WVSupremeCourtSeal.png', sealSource:'http://en.wikipedia.org/wiki/File:WVCourtSeal.png', note:wikipage, jurisdiction:'State Supreme',  citation:'W. Va.', url:'http://www.courtswv.gov/supreme-court/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wva=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Arkansas', jurisdiction:'Federal District',  citation:'W.D. Ark.', url:'http://www.arwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_arwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Kentucky', jurisdiction:'Federal District',  citation:'W.D. Ky.', url:'http://www.kywd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_kywd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Louisiana', jurisdiction:'Federal District',  citation:'W.D. La.', url:'http://www.lawd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_lawd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Michigan', jurisdiction:'Federal District',  citation:'W.D. Mich.', url:'http://www.miwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_miwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Missouri', jurisdiction:'Federal District',  citation:'W.D. Mo.', url:'http://www.mow.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_mowd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Oklahoma', jurisdiction:'Federal District',  citation:'W.D. Okla.', url:'http://www.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_okwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Pennsylvania', jurisdiction:'Federal District',  citation:'W.D. Pa.', url:'http://www.pawd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_pawd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Tennessee', jurisdiction:'Federal District',  citation:'W.D. Tenn.', url:'http://www.tnwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_tnwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Texas', jurisdiction:'Federal District',  citation:'W.D. Tex.', url:'http://www.txwd.uscourts.gov/default1.asp', courtListenerURL:'https://www.courtlistener.com/?q=&court_txwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Virginia', jurisdiction:'Federal District',  citation:'W.D. Va.', url:'http://www.vawd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_vawd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Washington', jurisdiction:'Federal District',  citation:'W.D. Wash.', url:'http://www.wawd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wawd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. Wisconsin', jurisdiction:'Federal District',  citation:'W.D. Wis.', url:'http://www.wiwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wiwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. North Carolina', jurisdiction:'Federal District',  citation:'W.D.N.C.', url:'http://www.ncwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ncwd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. New York', jurisdiction:'Federal District',  citation:'W.D.N.Y.', url:'http://www.nywd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_nywd=on&order_by=dateFiled+desc'} ,
{name:'District Court, W.D. South Carolina', jurisdiction:'Federal District',  citation:'W.D.S.C.', url:'http://www.ncwd.uscourts.gov/', courtListenerURL:'https://www.courtlistener.com/?q=&court_southcarolinawd=on&order_by=dateFiled+desc'} ,
{name:'Washington Supreme Court',
        extraThings: {
            judgesPic:{url:'wa_SupremeCourtJustices2013.png', urlSource:'http://www.courts.wa.gov/images/SupremeCourtJustices2013.png'},
            chiefJustice:{name:"Justice Barbara A. Madsen", pic:{url:'wa_chief_justics_Madsen.png', urlSource:'http://www.courts.wa.gov/images/supreme/Madsen.png'}}
        },
        jurisdiction:'State Supreme',  citation:'Wash.', url:'https://www.courts.wa.gov/appellate_trial_courts/SupremeCourt/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wash=on&order_by=dateFiled+desc'} ,


    {name:'Court of Appeals of Washington', stateParent:'Wash.', jurisdiction:'State Appellate',  citation:'Wash. Ct. App.', url:'https://www.courts.wa.gov/appellate_trial_courts/', courtListenerURL:'https://www.courtlistener.com/?q=&court_washctapp=on&order_by=dateFiled+desc'} ,

//    {name:'Division I, Court of Appeals of Washington',
//            stateParent:'Wash.', jurisdiction:'State Appellate',  citation:'Wash. Ct. App. Div I?',
//            url:'https://www.courts.wa.gov/appellate_trial_courts/',
//            courtListenerURL:'https://www.courtlistener.com/?q=&court_washctapp=on&order_by=dateFiled+desc'} ,
//    {name:'Division II, Court of Appeals of Washington',
//        stateParent:'Wash.', jurisdiction:'State Appellate',  citation:'Wash. Ct. App. Div II?',
//        url:'https://www.courts.wa.gov/appellate_trial_courts/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_washctapp=on&order_by=dateFiled+desc'} ,
//    {name:'Division III, Court of Appeals of Washington',
//        stateParent:'Wash.', jurisdiction:'State Appellate',  citation:'Wash. Ct. App. Div III?',
//        url:'https://www.courts.wa.gov/appellate_trial_courts/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_washctapp=on&order_by=dateFiled+desc'} ,

    //https://www.courts.wa.gov/newsinfo/resources/?fa=newsinfo_jury.display&altMenu=Citi&folderID=jury_guide&fileID=system
    //39 Superior Courts (basically one for every county), then Courts of Limited Jurisdiction (District and Municipal Courts)

    {name:'Wisconsin Supreme Court', seal:'wisconsin_sureme_court_seal.gif', sealSource:'http://www.wicourts.gov/courts/supreme/seal.htm', jurisdiction:'State Supreme',  citation:'Wis.', url:'http://www.wicourts.gov/courts/supreme/index.htm', courtListenerURL:'https://www.courtlistener.com/?q=&court_wis=on&order_by=dateFiled+desc'} ,
    {name:'Court of Appeals of Wisconsin', stateParent:'Wis.', jurisdiction:'State Appellate',  citation:'Wis. Ct. App.', url:'http://www.wicourts.gov/courts/appeals/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wisctapp=on&order_by=dateFiled+desc'} ,

//    {name:'Court of Appeals of Wisconsin, District I', stateParent:'Wis.', jurisdiction:'State Appellate',
//                citation:'Wis. Ct. App. District I?',
//                url:'http://www.wicourts.gov/courts/appeals/',
//                courtListenerURL:'https://www.courtlistener.com/?q=&court_wisctapp=on&order_by=dateFiled+desc'} ,
//    {name:'Court of Appeals of Wisconsin, District II', stateParent:'Wis.', jurisdiction:'State Appellate',
//        citation:'Wis. Ct. App. District II?',
//        url:'http://www.wicourts.gov/courts/appeals/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_wisctapp=on&order_by=dateFiled+desc'} ,
//    {name:'Court of Appeals of Wisconsin, District III', stateParent:'Wis.', jurisdiction:'State Appellate',
//        citation:'Wis. Ct. App. District III?',
//        url:'http://www.wicourts.gov/courts/appeals/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_wisctapp=on&order_by=dateFiled+desc'} ,
//    {name:'Court of Appeals of Wisconsin, District IV', stateParent:'Wis.', jurisdiction:'State Appellate',
//        citation:'Wis. Ct. App. District IV?',
//        url:'http://www.wicourts.gov/courts/appeals/',
//        courtListenerURL:'https://www.courtlistener.com/?q=&court_wisctapp=on&order_by=dateFiled+desc'} ,



    {name:'Wyoming Supreme Court',
        extraThings:{judgesPic:{url:'wy_SupremeCourtPhoto_2014.jpg', urlSource:'http://www.courts.state.wy.us/SupremeCourtJustices.aspx'}},
        jurisdiction:'State Supreme',  citation:'Wyo.', url:'http://www.courts.state.wy.us/', courtListenerURL:'https://www.courtlistener.com/?q=&court_wyo=on&order_by=dateFiled+desc'} ,

    {name:'New York Court of Appeals',
        extraThings:{judgesPic:{url:'ny_court_appeals_Informal-Bench.jpg', urlSource:'http://www.courts.state.ny.us/reporter/History/page_4.htm'}},
        jurisdiction:'State Supreme',
        citation:'N.Y.', url:'http://www.nycourts.gov/ctapps/', courtListenerURL:'https://www.courtlistener.com/?q=&court_ny=on&order_by=dateFiled+desc'},

    {name:'Appellate Division of the Supreme Court of the State of New York',
            jurisdiction:'State Appellate',
            stateParent:'N.Y.',
            citation:'N.Y. App. Div.', url:'http://www.courts.state.ny.us/courts/appellatedivisions.shtml',
            courtListenerURL:'https://www.courtlistener.com/?q=&court_nyappdiv=on&order_by=dateFiled+desc'}

//    {name:'First Department, Appellate Division of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'N.Y. App. Div. First Department?',
//        url:'http://www.courts.state.ny.us/courts/ad1/index.shtml',
//        courtListenerURL:'NA'} ,
//
//    {name:'Second Department, Appellate Division of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'N.Y. App. Div. Second Department?',
//        url:'http://www.courts.state.ny.us/courts/ad2/index.shtml',
//        courtListenerURL:'NA'} ,
//
//    {name:'Third Department, Appellate Division of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'N.Y. App. Div. Third Department?',
//        url:'http://www.nycourts.gov/ad3/',
//        courtListenerURL:'NA'} ,
//
//    {name:'Fourth Department, Appellate Division of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'N.Y. App. Div. Fourth Department?',
//        url:'http://www.nycourts.gov/courts/ad4/',
//        courtListenerURL:'NA'}

//    {name:'First Judicial Department Appellate Term of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'??',
//        url:'NA',
//        courtListenerURL:'NA'} ,
//
//    {name:'Second Judicial Department Appellate Term of the Supreme Court of the State of New York',
//        stateParent:'N.Y.', jurisdiction:'State Appellate',
//        citation:'??',
//        url:'NA',
//        courtListenerURL:'NA'}

];

function getFilenameForCourtPageImage(c) {

    //console.log(c);
    var s = c.citation;
    s = s.replace(/\./g, "_");
    s = s.replace(/ /g, "_");
    s = s.replace(/\?/g, "_");

    return s.trim() + ".png";
};/**
 * Created by bradflyon on 5/23/14.
 */

//there are some special ones that indicate that you need to look at the state
//



var scdbCourts = [
{id:1, name:'U.S. Court of Customs and Patent Appeals'},
{id:2, name:'U.S. Court of International Trade'},
{id:3, name:'U.S. Court of Claims, Court of Federal Claims'},
{id:4, name:'U.S. Court of Military Appeals, renamed as Court of Appeals for the Armed Forces'},
{id:5, name:'U.S. Court of Military Review'},
{id:6, name:'U.S. Court of Veterans Appeals'},
{id:7, name:'U.S. Customs Court'},
{id:8, name:'U.S. Court of Appeals, Federal Circuit'},
{id:9, name:'U.S. Tax Court'},
{id:10, name:'Temporary Emergency U.S. Court of Appeals'},
{id:12, name:'U.S. Court for China'},
{id:13, name:'U.S. Consular Courts'},
{id:14, name:'U.S. Commerce Court'},
{id:15, name:'Territorial Supreme Court'},
{id:16, name:'Territorial Appellate Court'},
{id:17, name:'Territorial Trial Court'},
{id:18, name:'Emergency Court of Appeals'},
{id:19, name:'District of Columbia Supreme Court'},
{id:20, name:'Bankruptcy Court'},
{id:21, name:'U.S. Court of Appeals, First Circuit'},
{id:22, name:'U.S. Court of Appeals, Second Circuit'},
{id:23, name:'U.S. Court of Appeals, Third Circuit'},
{id:24, name:'U.S. Court of Appeals, Fourth Circuit'},
{id:25, name:'U.S. Court of Appeals, Fifth Circuit'},
{id:26, name:'U.S. Court of Appeals, Sixth Circuit'},
{id:27, name:'U.S. Court of Appeals, Seventh Circuit'},
{id:28, name:'U.S. Court of Appeals, Eighth Circuit'},
{id:29, name:'U.S. Court of Appeals, Ninth Circuit'},
{id:30, name:'U.S. Court of Appeals, Tenth Circuit'},
{id:31, name:'U.S. Court of Appeals, Eleventh Circuit'},
{id:32, name:'U.S. Court of Appeals, District of Columbia Circuit'},
{id:41, name:'Alabama Middle U.S. District Court'},
{id:42, name:'Alabama Northern U.S. District Court'},
{id:43, name:'Alabama Southern U.S. District Court'},
{id:44, name:'Alaska U.S. District Court'},
{id:45, name:'Arizona U.S. District Court'},
{id:46, name:'Arkansas Eastern U.S. District Court'},
{id:47, name:'Arkansas Western U.S. District Court'},
{id:48, name:'California Central U.S. District Court'},
{id:49, name:'California Eastern U.S. District Court'},
{id:50, name:'California Northern U.S. District Court'},
{id:51, name:'California Southern U.S. District Court'},
{id:52, name:'Colorado U.S. District Court'},
{id:53, name:'Connecticut U.S. District Court'},
{id:54, name:'Delaware U.S. District Court'},
{id:55, name:'District Of Columbia U.S. District Court'},
{id:56, name:'Florida Middle U.S. District Court'},
{id:57, name:'Florida Northern U.S. District Court'},
{id:58, name:'Florida Southern U.S. District Court'},
{id:59, name:'Georgia Middle U.S. District Court'},
{id:60, name:'Georgia Northern U.S. District Court'},
{id:61, name:'Georgia Southern U.S. District Court'},
{id:62, name:'Guam U.S. District Court'},
{id:63, name:'Hawaii U.S. District Court'},
{id:64, name:'Idaho U.S. District Court'},
{id:65, name:'Illinois Central U.S. District Court'},
{id:66, name:'Illinois Northern U.S. District Court'},
{id:67, name:'Illinois Southern U.S. District Court'},
{id:68, name:'Indiana Northern U.S. District Court'},
{id:69, name:'Indiana Southern U.S. District Court'},
{id:70, name:'Iowa Northern U.S. District Court'},
{id:71, name:'Iowa Southern U.S. District Court'},
{id:72, name:'Kansas U.S. District Court'},
{id:73, name:'Kentucky Eastern U.S. District Court'},
{id:74, name:'Kentucky Western U.S. District Court'},
{id:75, name:'Louisiana Eastern U.S. District Court'},
{id:76, name:'Louisiana Middle U.S. District Court'},
{id:77, name:'Louisiana Western U.S. District Court'},
{id:78, name:'Maine U.S. District Court'},
{id:79, name:'Maryland U.S. District Court'},
{id:80, name:'Massachusetts U.S. District Court'},
{id:81, name:'Michigan Eastern U.S. District Court'},
{id:82, name:'Michigan Western U.S. District Court'},
{id:83, name:'Minnesota U.S. District Court'},
{id:84, name:'Mississippi Northern U.S. District Court'},
{id:85, name:'Mississippi Southern U.S. District Court'},
{id:86, name:'Missouri Eastern U.S. District Court'},
{id:87, name:'Missouri Western U.S. District Court'},
{id:88, name:'Montana U.S. District Court'},
{id:89, name:'Nebraska U.S. District Court'},
{id:90, name:'Nevada U.S. District Court'},
{id:91, name:'New Hampshire U.S. District Court'},
{id:92, name:'New Jersey U.S. District Court'},
{id:93, name:'New Mexico U.S. District Court'},
{id:94, name:'New York Eastern U.S. District Court'},
{id:95, name:'New York Northern U.S. District Court'},
{id:96, name:'New York Southern U.S. District Court'},
{id:97, name:'New York Western U.S. District Court'},
{id:98, name:'North Carolina Eastern U.S. District Court'},
{id:99, name:'North Carolina Middle U.S. District Court'},
{id:100, name:'North Carolina Western U.S. District Court'},
{id:101, name:'North Dakota U.S. District Court'},
{id:102, name:'Northern Mariana Islands U.S. District Court'},
{id:103, name:'Ohio Northern U.S. District Court'},
{id:104, name:'Ohio Southern U.S. District Court'},
{id:105, name:'Oklahoma Eastern U.S. District Court'},
{id:106, name:'Oklahoma Northern U.S. District Court'},
{id:107, name:'Oklahoma Western U.S. District Court'},
{id:108, name:'Oregon U.S. District Court'},
{id:109, name:'Pennsylvania Eastern U.S. District Court'},
{id:110, name:'Pennsylvania Middle U.S. District Court'},
{id:111, name:'Pennsylvania Western U.S. District Court'},
{id:112, name:'Puerto Rico U.S. District Court'},
{id:113, name:'Rhode Island U.S. District Court'},
{id:114, name:'South Carolina U.S. District Court'},
{id:115, name:'South Dakota U.S. District Court'},
{id:116, name:'Tennessee Eastern U.S. District Court'},
{id:117, name:'Tennessee Middle U.S. District Court'},
{id:118, name:'Tennessee Western U.S. District Court'},
{id:119, name:'Texas Eastern U.S. District Court'},
{id:120, name:'Texas Northern U.S. District Court'},
{id:121, name:'Texas Southern U.S. District Court'},
{id:122, name:'Texas Western U.S. District Court'},
{id:123, name:'Utah U.S. District Court'},
{id:124, name:'Vermont U.S. District Court'},
{id:125, name:'Virgin Islands U.S. District Court'},
{id:126, name:'Virginia Eastern U.S. District Court'},
{id:127, name:'Virginia Western U.S. District Court'},
{id:128, name:'Washington Eastern U.S. District Court'},
{id:129, name:'Washington Western U.S. District Court'},
{id:130, name:'West Virginia Northern U.S. District Court'},
{id:131, name:'West Virginia Southern U.S. District Court'},
{id:132, name:'Wisconsin Eastern U.S. District Court'},
{id:133, name:'Wisconsin Western U.S. District Court'},
{id:134, name:'Wyoming U.S. District Court'},
{id:150, name:'Louisiana U.S. District Court'},
{id:151, name:'Washington U.S. District Court'},
{id:152, name:'West Virginia U.S. District Court'},
{id:153, name:'Illinois Eastern U.S. District Court'},
{id:155, name:'South Carolina Eastern U.S. District Court'},
{id:160, name:'South Carolina Western U.S. District Court'},
{id:162, name:'Alabama U.S. District Court'},
{id:163, name:'U.S. District Court for the Canal Zone'},
{id:164, name:'Georgia U.S. District Court'},
{id:165, name:'Illinois U.S. District Court'},
{id:166, name:'Indiana U.S. District Court'},
{id:167, name:'Iowa U.S. District Court'},
{id:168, name:'Michigan U.S. District Court'},
{id:169, name:'Mississippi U.S. District Court'},
{id:170, name:'Missouri U.S. District Court'},
{id:171, name:'New Jersey Eastern U.S. District Court (East Jersey U.S. District Court)'},
{id:172, name:'New Jersey Western U.S. District Court (West Jersey U.S. District Court)'},
{id:173, name:'New York U.S. District Court'},
{id:174, name:'North Carolina U.S. District Court'},
{id:175, name:'Ohio U.S. District Court'},
{id:176, name:'Pennsylvania U.S. District Court'},
{id:177, name:'Tennessee U.S. District Court'},
{id:178, name:'Texas U.S. District Court'},
{id:179, name:'Virginia U.S. District Court'},
{id:180, name:'Norfolk U.S. District Court'},
{id:181, name:'Wisconsin U.S. District Court'},
{id:182, name:'Kentucky U.S. Distrcrict Court'},
{id:183, name:'New Jersey U.S. District Court'},
{id:184, name:'California U.S. District Court'},
{id:185, name:'Florida U.S. District Court'},
{id:186, name:'Arkansas U.S. District Court'},
{id:187, name:'District of Orleans U.S. District Court'},
{id:300, name:'State Supreme Court'},
{id:301, name:'State Appellate Court'},
{id:302, name:'State Trial Court'},
{id:400, name:'Eastern Circuit (of the United States)'},
{id:401, name:'Middle Circuit (of the United States)'},
{id:402, name:'Southern Circuit (of the United States)'},
{id:403, name:'Alabama U.S. Circuit Court for (all) District(s) of Alabama'},
{id:404, name:'Arkansas U.S. Circuit Court for (all) District(s) of Arkansas'},
{id:405, name:'California U.S. Circuit for (all) District(s) of California'},
{id:406, name:'Connecticut U.S. Circuit for the District of Connecticut'},
{id:407, name:'Delaware U.S. Circuit for the District of Delaware'},
{id:408, name:'Florida U.S. Circuit for (all) District(s) of Florida'},
{id:409, name:'Georgia U.S. Circuit for (all) District(s) of Georgia'},
{id:410, name:'Illinois U.S. Circuit for (all) District(s) of Illinois'},
{id:411, name:'Indiana U.S. Circuit for (all) District(s) of Indiana'},
{id:412, name:'Iowa U.S. Circuit for (all) District(s) of Iowa'},
{id:413, name:'Kansas U.S. Circuit for the District of Kansas'},
{id:414, name:'Kentucky U.S. Circuit for (all) District(s) of Kentucky'},
{id:415, name:'Louisiana U.S. Circuit for (all) District(s) of Louisiana'},
{id:416, name:'Maine U.S. Circuit for the District of Maine'},
{id:417, name:'Maryland U.S. Circuit for the District of Maryland'},
{id:418, name:'Massachusetts U.S. Circuit for the District of Massachusetts'},
{id:419, name:'Michigan U.S. Circuit for (all) District(s) of Michigan'},
{id:420, name:'Minnesota U.S. Circuit for the District of Minnesota'},
{id:421, name:'Mississippi U.S. Circuit for (all) District(s) of Mississippi'},
{id:422, name:'Missouri U.S. Circuit for (all) District(s) of Missouri'},
{id:423, name:'Nevada U.S. Circuit for the District of Nevada'},
{id:424, name:'New Hampshire U.S. Circuit for the District of New Hampshire'},
{id:425, name:'New Jersey U.S. Circuit for (all) District(s) of New Jersey'},
{id:426, name:'New York U.S. Circuit for (all) District(s) of New York'},
{id:427, name:'North Carolina U.S. Circuit for (all) District(s) of North Carolina'},
{id:428, name:'Ohio U.S. Circuit for (all) District(s) of Ohio'},
{id:429, name:'Oregon U.S. Circuit for the District of Oregon'},
{id:430, name:'Pennsylvania U.S. Circuit for (all) District(s) of Pennsylvania'},
{id:431, name:'Rhode Island U.S. Circuit for the District of Rhode Island'},
{id:432, name:'South Carolina U.S. Circuit for the District of South Carolina'},
{id:433, name:'Tennessee U.S. Circuit for (all) District(s) of Tennessee'},
{id:434, name:'Texas U.S. Circuit for (all) District(s) of Texas'},
{id:435, name:'Vermont U.S. Circuit for the District of Vermont'},
{id:436, name:'Virginia U.S. Circuit for (all) District(s) of Virginia'},
{id:437, name:'West Virginia U.S. Circuit for (all) District(s) of West Virginia'},
{id:438, name:'Wisconsin U.S. Circuit for (all) District(s) of Wisconsin'},
{id:439, name:'Wyoming U.S. Circuit for the District of Wyoming'},
{id:440, name:'Circuit Court of the District of Columbia'},
{id:441, name:'Nebraska U.S. Circuit for the District of Nebraska'},
{id:442, name:'Colorado U.S. Circuit for the District of Colorado'},
{id:443, name:'Washington U.S. Circuit for (all) District(s) of Washington'}
];


var scdbCourtsById = {};
scdbCourts.forEach(function(c) {
    scdbCourts[c.id] = c;
});

var scdbStates = [
    {id:1, state:'Alabama'},
    {id:2, state:'Alaska'},
    {id:3, state:'American Samoa'},
    {id:4, state:'Arizona'},
    {id:5, state:'Arkansas'},
    {id:6, state:'California'},
    {id:7, state:'Colorado'},
    {id:8, state:'Connecticut'},
    {id:9, state:'Delaware'},
    {id:10, state:'District of Columbia'},
    {id:11, state:'Federated States of Micronesia'},
    {id:12, state:'Florida'},
    {id:13, state:'Georgia'},
    {id:14, state:'Guam'},
    {id:15, state:'Hawaii'},
    {id:16, state:'Idaho'},
    {id:17, state:'Illinois'},
    {id:18, state:'Indiana'},
    {id:19, state:'Iowa'},
    {id:20, state:'Kansas'},
    {id:21, state:'Kentucky'},
    {id:22, state:'Louisiana'},
    {id:23, state:'Maine'},
    {id:24, state:'Marshall Islands'},
    {id:25, state:'Maryland'},
    {id:26, state:'Massachusetts'},
    {id:27, state:'Michigan'},
    {id:28, state:'Minnesota'},
    {id:29, state:'Mississippi'},
    {id:30, state:'Missouri'},
    {id:31, state:'Montana'},
    {id:32, state:'Nebraska'},
    {id:33, state:'Nevada'},
    {id:34, state:'New Hampshire'},
    {id:35, state:'New Jersey'},
    {id:36, state:'New Mexico'},
    {id:37, state:'New York'},
    {id:38, state:'North Carolina'},
    {id:39, state:'North Dakota'},
    {id:40, state:'Northern Mariana Islands'},
    {id:41, state:'Ohio'},
    {id:42, state:'Oklahoma'},
    {id:43, state:'Oregon'},
    {id:44, state:'Palau'},
    {id:45, state:'Pennsylvania'},
    {id:46, state:'Puerto Rico'},
    {id:47, state:'Rhode Island'},
    {id:48, state:'South Carolina'},
    {id:49, state:'South Dakota'},
    {id:50, state:'Tennessee'},
    {id:51, state:'Texas'},
    {id:52, state:'Utah'},
    {id:53, state:'Vermont'},
    {id:54, state:'Virgin Islands'},
    {id:55, state:'Virginia'},
    {id:56, state:'Washington'},
    {id:57, state:'West Virginia'},
    {id:58, state:'Wisconsin'},
    {id:59, state:'Wyoming'},
    {id:60, state:'United States'},
    {id:61, state:'Interstate Compact'},
    {id:62, state:'Philippines'}
];


var scdbStatesById = {};
scdbStates.forEach(function(state) {
    scdbStatesById[state.id] = state;
});

//variable name: jurisdiction
var mannerSupremeCourtTakesCase =
[
{id: 1, value:'cert'},
{id: 2, value:'appeal'},
{id: 3, value:'bail'},
{id: 4, value:'certification'},
{id: 5, value:'docketing fee'},
{id: 6, value:'rehearing or restored to calendar for reargument'},
{id: 7, value:'injunction'},
{id: 8, value:'mandamus'},
{id: 9, value:'original'},
    {id: 10, value:'NA'},
    {id: 11, value:'NA'},
{id: 12, value:'stay'},
{id: 13, value:'writ of error'},
{id: 14, value:'writ of habeas corpus'},
{id: 15, value:'unspecified, other'}
];

var mannerSupremeCourtTakesCaseById = {};
mannerSupremeCourtTakesCase.forEach(function(c) {
    mannerSupremeCourtTakesCaseById[c.id] = c;
});


var certReason = [
    {id:1, name:'case did not arise on cert or cert not granted'},
    {id:2, name:'federal court conﬂict'},
    {id:3, name:'federal court conﬂict and to resolve important or signiﬁcant question'},
    {id:4, name:'putative conﬂict'},
    {id:5, name:'conﬂict between federal court and state court'},
    {id:6, name:'state court conﬂict'},
    {id:7, name:'federal court confusion or uncertainty'},
    {id:8, name:'state court confusion or uncertainty'},
    {id:9, name:'federal court and state court confusion or uncertainty'},
    {id:10, name:'to resolve important or signiﬁcant question'},
    {id:11, name:'to resolve question presented'},
    {id:12, name:'no reason given'},
    {id:13, name:'other reason'}
];

var certReasonById = {};
certReason.forEach(function(c) {
    certReasonById[c.id] = c;
});

var issueById = {};
var issue = [
    {id:10010, name:'involuntary confession'},
    {id:10020, name:'habeas corpus'},
    {id:10030, name:'plea bargaining: the constitutionality of and/or the circumstances of its exercise'},
    {id:10040, name:'retroactivity (of newly announced or newly enacted constitutional or statutory rights)'},
    {id:10050, name:'search and seizure (other than as pertains to vehicles or Crime Control Act)'},
    {id:10060, name:'search and seizure, vehicles'},
    {id:10070, name:'search and seizure, Crime Control Act'},
    {id:10080, name:'contempt of court or congress'},
    {id:10090, name:'self-incrimination (other than as pertains to Miranda or immunity from prosecution)'},
    {id:10100, name:'Miranda warnings'},
    {id:10110, name:'self-incrimination, immunity from prosecution'},
    {id:10120, name:'right to counsel (cf. indigents appointment of counsel or inadequate representation)'},
    {id:10130, name:'cruel and unusual punishment, death penalty (cf. extra legal jury influence, death penalty)'},
    {id:10140, name:'cruel and unusual punishment, non-death penalty (cf. liability, civil rights acts)'},
    {id:10150, name:'line-up Note: admissibility into evidence of identification obtained after accused was taken into custody, or after indictment or information'},
    {id:10160, name:'discovery and inspection (in the context of criminal litigation only, otherwise Freedom of Information Act and related federal or state statutes or regulations)'},
    {id:10170, name:'double jeopardy'},
    {id:10180, name:'ex post facto (state)'},
    {id:10190, name:'extra-legal jury influences: miscellaneous Note: no question regarding the right to a jury trial or to a speedy trial (these belong in jury trial and speedy trial, respectively); the focus, rather, is on the fairness to the accused when jurors are exposed to the influences specified'},
    {id:10200, name:'extra-legal jury influences: prejudicial statements or evidence'},
    {id:10210, name:'extra-legal jury influences: contact with jurors outside courtroom'},
    {id:10220, name:'extra-legal jury influences: jury instructions (not necessarily in criminal cases)'},
    {id:10230, name:'extra-legal jury influences: voir dire (not necessarily a criminal case)'},
    {id:10240, name:'extra-legal jury influences: prison garb or appearance'},
    {id:10250, name:'extra-legal jury influences: jurors and death penalty (cf. cruel and unusual punishment)'},
    {id:10260, name:'extra-legal jury influences: pretrial publicity'},
    {id:10270, name:'confrontation (right to confront accuser, call and cross-examine witnesses)'},
    {id:10280, name:'subconstitutional fair procedure: confession of error Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10290, name:'subconstitutional fair procedure: conspiracy (cf. Federal Rules of Criminal Procedure: conspiracy) Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10300, name:'subconstitutional fair procedure: entrapment Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10310, name:'subconstitutional fair procedure: exhaustion of remedies Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10320, name:'subconstitutional fair procedure: fugitive from justice Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10330, name:'subconstitutional fair procedure: presentation, admissibility, or sufficiency of evidence (not necessarily a criminal case) Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10340, name:'subconstitutional fair procedure: stay of execution Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10350, name:'subconstitutional fair procedure: timeliness Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10360, name:'subconstitutional fair procedure: miscellaneous Note: nonsubstantive rules and procedures pertaining to the administration of justice that do not rise to the level of a constitutional matter. This is the residual category insofar as criminal procedure is concerned. Note that this issue need not necessarily pertain to a criminal action. If the case involves an indigent, consider indigent categories.'},
    {id:10370, name:'Federal Rules of Criminal Procedure Note: including application of the Federal Rules of Evidence in criminal proceedings and criminal rules of a court of appeals or state supreme court'},
    {id:10380, name:'statutory construction of criminal laws: assault Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10390, name:'statutory construction of criminal laws: bank robbery Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10400, name:'statutory construction of criminal laws: conspiracy (cf. subconstitutional fair procedure: conspiracy) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10410, name:'statutory construction of criminal laws: escape from custody Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10420, name:'statutory construction of criminal laws: false statements (cf. statutory construction of criminal laws: perjury) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10430, name:'statutory construction of criminal laws: financial (other than in fraud or internal revenue) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10440, name:'statutory construction of criminal laws: firearms Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10450, name:'statutory construction of criminal laws: fraud Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10460, name:'statutory construction of criminal laws: gambling Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10470, name:'statutory construction of criminal laws: Hobbs Act; i.e., 18 USC 1951 Note: these codes, by definition exclude the constitutionality of these laws; not 28 USC 2341, the Administrative Orders Review Act'},
    {id:10480, name:'statutory construction of criminal laws: immigration (cf. immigration and naturalization) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10490, name:'statutory construction of criminal laws: internal revenue (cf. Federal Taxation) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10500, name:'statutory construction of criminal laws: Mann Act and related statutes Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10510, name:'statutory construction of criminal laws: narcotics includes regulation and prohibition of alcohol Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10520, name:'statutory construction of criminal laws: obstruction of justice Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10530, name:'statutory construction of criminal laws: perjury (other than as pertains to statutory construction of criminal laws: false statements) Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10540, name:'statutory construction of criminal laws: Travel Act, 18 USC 1952 Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10550, name:'statutory construction of criminal laws: war crimes Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10560, name:'statutory construction of criminal laws: sentencing guidelines Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10570, name:'statutory construction of criminal laws: miscellaneous Note: these codes, by definition exclude the constitutionality of these laws'},
    {id:10580, name:'jury trial (right to, as distinct from extra-legal jury influences)'},
    {id:10590, name:'speedy trial'},
    {id:10595, name:'incorporation of foreign territories'},
    {id:10600, name:'miscellaneous criminal procedure (cf. due process, prisoners\' rights, comity: criminal procedure)'},
{id:20010, name:'voting'},
{id:20020, name:'Voting Rights Act of 1965, plus amendments'},
{id:20030, name:'ballot access (of candidates and political parties)'},
{id:20040, name:'desegregation (other than as pertains to school desegregation, employment discrimination, and affirmative action)'},
{id:20050, name:'desegregation, schools'},
{id:20060, name:'employment discrimination: on basis of race, age, religion, illegitimacy, national origin, or working conditions. Note: Not alienage, which is employability of aliens, or gender, which is sex discrimination in employment.'},
{id:20070, name:'affirmative action'},
{id:20075, name:'slavery or indenture'},
{id:20080, name:'sit-in demonstrations (protests against racial discrimination in places of public accommodation) Note: To be sharply distinguished from protests not involving racial discrimination. The latter are coded as protest demonstrations.'},
{id:20090, name:'reapportionment: other than plans governed by the Voting Rights Act'},
{id:20100, name:'debtors\' rights'},
    {id:20110, name:'deportation (cf. immigration and naturalization)'},
    {id:20120, name:'employability of aliens (cf. immigration and naturalization)'},
    {id:20130, name:'sex discrimination (excluding sex discrimination in employment)'},
    {id:20140, name:'sex discrimination in employment (cf. sex discrimination and employment discrimination)'},
    {id:20150, name:'Indians (other than pertains to state jurisdiction over)'},
    {id:20160, name:'Indians, state jurisdiction over'},
    {id:20170, name:'juveniles (cf. rights of illegitimates)'},
    {id:20180, name:'poverty law, constitutional Note: typically equal protection challenges over welfare benefits, including pension and medical benefits'},
    {id:20190, name:'poverty law, statutory: welfare benefits, typically under some Social Security Act provision. Note: Excludes rights of illegitimates and rights of handicapped'},
    {id:20200, name:'illegitimates, rights of (cf. juveniles): typically inheritance and survivor\'s benefits, and paternity suits'},
        {id:20210, name:'handicapped, rights of: under Rehabilitation, Americans with Disabilities Act, and related statutes'},
        {id:20220, name:'residency requirements: durational, plus discrimination against nonresidents'},
        {id:20230, name:'military: draftee, or person subject to induction Note: cf. conscientious objectors and comity: military'},
        {id:20240, name:'military: active duty Note: cf. conscientious objectors and comity: military'},
        {id:20250, name:'military: veteran Note: cf. conscientious objectors and comity: military'},
        {id:20260, name:'immigration and naturalization: permanent residence Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20270, name:'immigration and naturalization: citizenship Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20280, name:'immigration and naturalization: loss of citizenship, denaturalization Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20290, name:'immigration and naturalization: access to public education Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20300, name:'immigration and naturalization: welfare benefits Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20310, name:'immigration and naturalization: miscellaneous Note: cf. statutory construction of criminal laws: immigration, deportation, and employability of aliens'},
        {id:20320, name:'indigents: appointment of counsel (cf. right to counsel) Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20330, name:'indigents: inadequate representation by counsel (cf. right to counsel) Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20340, name:'indigents: payment of fine Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20350, name:'indigents: costs or filing fees Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20360, name:'indigents: U.S. Supreme Court docketing fee Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20370, name:'indigents: transcript Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20380, name:'indigents: assistance of psychiatrist Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20390, name:'indigents: miscellaneous Note: procedural protections for indigents because of their indigency. Typically in matters pertaining to criminal justice. cf. poverty law, constitutional and poverty law, statutory.'},
        {id:20400, name:'liability, civil rights acts (cf. liability, governmental and liability, nongovernmental; cruel and unusual punishment, non-death penalty) Note: tort actions involving liability that are based on a civil rights act'},
        {id:20410, name:'miscellaneous civil rights (cf. comity: civil rights)'},
        {id:30010, name:'First Amendment, miscellaneous (cf. comity: First Amendment)'},
        {id:30020, name:'commercial speech, excluding attorneys'},
        {id:30030, name:'libel, defamation: defamation of public officials and public and private persons'},
        {id:30040, name:'libel, privacy: true and false light invasions of privacy'},
        {id:30050, name:'legislative investigations: concerning internal security only'},
        {id:30060, name:'federal internal security legislation: Smith, Internal Security, and related federal statutes'},
        {id:30070, name:'loyalty oath or non-Communist affidavit (other than bar applicants, government employees, political party, or teacher)'},
        {id:30080, name:'loyalty oath: bar applicants (cf. admission to bar, state or federal or U.S. Supreme Court)'},
        {id:30090, name:'loyalty oath: government employees'},
        {id:30100, name:'loyalty oath: political party'},
        {id:30110, name:'loyalty oath: teachers'},
        {id:30120, name:'security risks: denial of benefits or dismissal of employees for reasons other than failure to meet loyalty oath requirements'},
        {id:30130, name:'conscientious objectors (cf. military draftee or military active duty) to military service'},
        {id:30140, name:'campaign spending (cf. governmental corruption): Note: financing electoral costs other than as regulated by the Taft-Hartley Act. Typically involves the Federal Election Campaign Act'},
        {id:30150, name:'protest demonstrations (other than as pertains to sit-in demonstrations): demonstrations and other forms of protest based on First Amendment guarantees'},
        {id:30160, name:'free exercise of religion'},
        {id:30170, name:'establishment of religion (other than as pertains to parochiaid:)'},
        {id:30180, name:'parochiaid: government aid to religious schools, or religious requirements in public schools'},
        {id:30190, name:'obscenity, state (cf. comity: privacy): including the regulation of sexually explicit material under the 21st Amendment'},
        {id:30200, name:'obscenity, federal'},
        {id:40010, name:'due process: miscellaneous (cf. loyalty oath), the residual code'},
        {id:40020, name:'due process: hearing or notice (other than as pertains to government employees or prisoners\' rights) Note: hearing may be statutorily based'},
            {id:40030, name:'due process: hearing, government employees'},
            {id:40040, name:'due process: prisoners\' rights and defendants\' rights'},
            {id:40050, name:'due process: impartial decision maker'},
            {id:40060, name:'due process: jurisdiction (jurisdiction over non-resident litigants)'},
            {id:40070, name:'due process: takings clause, or other non-constitutional governmental taking of property'},
            {id:50010, name:'privacy (cf. libel, comity: privacy)'},
            {id:50020, name:'abortion: including contraceptives'},
            {id:50030, name:'right to die'},
            {id:50040, name:'Freedom of Information Act and related federal or state statutes or regulations'},
            {id:60010, name:'attorneys\' and governmental officials\' fees or compensation'},
            {id:60020, name:'commercial speech, attorneys (cf. commercial speech)'},
            {id:60030, name:'admission to a state or federal bar, disbarment, and attorney discipline (cf. loyalty oath: bar applicants)'},
            {id:60040, name:'admission to, or disbarment from, Bar of the U.S. Supreme Court'},
            {id:70010, name:'arbitration (in the context of labor-management or employer-employee relations) (cf. arbitration)'},
            {id:70020, name:'union antitrust: legality of anticompetitive union activity'},
            {id:70030, name:'union or closed shop: includes agency shop litigation'},
            {id:70040, name:'Fair Labor Standards Act'},
            {id:70050, name:'Occupational Safety and Health Act'},
            {id:70060, name:'union-union member dispute (except as pertains to union or closed shop)'},
            {id:70070, name:'labor-management disputes: bargaining'},
            {id:70080, name:'labor-management disputes: employee discharge'},
            {id:70090, name:'labor-management disputes: distribution of union literature'},
            {id:70100, name:'labor-management disputes: representative election'},
            {id:70110, name:'labor-management disputes: antistrike injunction'},
            {id:70120, name:'labor-management disputes: jurisdictional dispute'},
            {id:70130, name:'labor-management disputes: right to organize'},
            {id:70140, name:'labor-management disputes: picketing'},
            {id:70150, name:'labor-management disputes: secondary activity'},
            {id:70160, name:'labor-management disputes: no-strike clause'},
            {id:70170, name:'labor-management disputes: union representatives'},
            {id:70180, name:'labor-management disputes: union trust funds (cf. ERISA)'},
            {id:70190, name:'labor-management disputes: working conditions'},
            {id:70200, name:'labor-management disputes: miscellaneous dispute'},
            {id:70210, name:'miscellaneous union'},
            {id:80010, name:'antitrust (except in the context of mergers and union antitrust)'},
            {id:80020, name:'mergers'},
            {id:80030, name:'bankruptcy (except in the context of priority of federal fiscal claims)'},
            {id:80040, name:'sufficiency of evidence: typically in the context of a jury\'s determination of compensation for injury or death'},
                {id:80050, name:'election of remedies: legal remedies available to injured persons or things'},
                {id:80060, name:'liability, federal governmental: tort or contract actions by or against government or governmental officials other than defense of criminal actions brought under a civil rights action.'},
                {id:80070, name:'liability, other than as in sufficiency of evidence, election of remedies, punitive damages'},
                {id:80080, name:'liability, punitive damages'},
                {id:80090, name:'Employee Retirement Income Security Act (cf. union trust funds)'},
                {id:80100, name:'state or local government tax Note: those challenged on the basis of the supremacy clause and the 21st Amendment may also locate in national supremacy: intergovernmental tax immunity or national supremacy: state tax'},
                {id:80105, name:'state and territorial land claims Note: those challenged on the basis of the supremacy clause and the 21st Amendment may also locate in national supremacy: intergovernmental tax immunity or national supremacy: state tax'},
                {id:80110, name:'state or local government regulation, especially of business (cf. federal pre-emption of state court jurisdiction, federal pre-emption of state legislation or regulation)'},
                {id:80120, name:'federal or state regulation of securities'},
                {id:80130, name:'natural resources - environmental protection (cf. national supremacy: natural resources, national supremacy: pollution)'},
                {id:80140, name:'corruption, governmental or governmental regulation of other than as in campaign spending'},
                {id:80150, name:'zoning: constitutionality of such ordinances, or restrictions on owners\' or lessors\' use of real property'},
                {id:80160, name:'arbitration (other than as pertains to labor-management or employer-employee relations (cf. union arbitration)'},
                {id:80170, name:'federal or state consumer protection: typically under the Truth in Lending; Food, Drug and Cosmetic; and Consumer Protection Credit Acts'},
                {id:80180, name:'patents and copyrights: patent'},
                {id:80190, name:'patents and copyrights: copyright'},
                {id:80200, name:'patents and copyrights: trademark'},
                {id:80210, name:'patents and copyrights: patentability of computer processes'},
                {id:80220, name:'federal or state regulation of transportation regulation: railroad'},
                {id:80230, name:'federal and some few state regulations of transportation regulation: boat'},
                {id:80240, name:'federal and some few state regulation of transportation regulation:truck, or motor carrier'},
                {id:80250, name:'federal and some few state regulation of transportation regulation: pipeline (cf. federal public utilities regulation: gas pipeline)'},
                {id:80260, name:'federal and some few state regulation of transportation regulation: airline'},
                {id:80270, name:'federal and some few state regulation of public utilities regulation: electric power'},
                {id:80280, name:'federal and some few state regulation of public utilities regulation: nuclear power'},
                {id:80290, name:'federal and some few state regulation of public utilities regulation: oil producer'},
                {id:80300, name:'federal and some few state regulation of public utilities regulation: gas producer'},
                {id:80310, name:'federal and some few state regulation of public utilities regulation: gas pipeline (cf. federal transportation regulation: pipeline)'},
                {id:80320, name:'federal and some few state regulation of public utilities regulation: radio and television (cf. cable television)'},
                {id:80330, name:'federal and some few state regulation of public utilities regulation: cable television (cf. radio and television)'},
                {id:80340, name:'federal and some few state regulations of public utilities regulation: telephone or telegraph company'},
                {id:80350, name:'miscellaneous economic regulation'},
                {id:90010, name:'comity, criminal and First Amendment: civil rights Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90020, name:'comity, criminal and First Amendment: criminal procedure Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90030, name:'comity, criminal and First Amendment: First Amendment Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90040, name:'comity, criminal and First Amendment: habeas corpus Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90050, name:'comity, criminal and First Amendment: military Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90060, name:'comity, criminal and First Amendment: obscenity Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90070, name:'comity, criminal and First Amendment: privacy Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90080, name:'comity, criminal and First Amendment: miscellaneous Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90090, name:'comity primarily removal cases, civil procedure (cf. comity, criminal and First Amendment); deference to foreign judicial tribunals Note: propriety of federal court deference to ongoing state judicial or state or federal quasi-judicial proceedings, the abstention doctrine, exhaustion of state provided remedies'},
                {id:90100, name:'assessment of costs or damages: as part of a court order'},
                {id:90110, name:'Federal Rules of Civil Procedure including Supreme Court Rules, application of the Federal Rules of Evidence, Federal Rules of Appellate Procedure in civil litigation, Circuit Court Rules, and state rules and admiralty rules'},
                {id:90120, name:'judicial review of administrative agency\'s or administrative official\'s actions and procedures'},
                {id:90130, name:'mootness (cf. standing to sue: live dispute)'},
                {id:90140, name:'venue'},
                {id:90150, name:'no merits: writ improvidently granted Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90160, name:'no merits: dismissed or affirmed for want of a substantial or properly presented federal question, or a nonsuit Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90170, name:'no merits: dismissed or affirmed for want of jurisdiction (cf. judicial administration: Supreme Court jurisdiction or authority on appeal from federal district courts or courts of appeals) Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90180, name:'no merits: adequate non-federal grounds for decision Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90190, name:'no merits: remand to determine basis of state or federal court decision (cf. judicial administration: state law) Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90200, name:'no merits: miscellaneous Note: use only if the syllabus or the summary holding specifies one of the following bases.'},
                {id:90210, name:'standing to sue: adversary parties'},
                {id:90220, name:'standing to sue: direct injury'},
                {id:90230, name:'standing to sue: legal injury'},
                {id:90240, name:'standing to sue: personal injury'},
                {id:90250, name:'standing to sue: justiciable question'},
                {id:90260, name:'standing to sue: live dispute'},
                {id:90270, name:'standing to sue: parens patriae standing'},
                {id:90280, name:'standing to sue: statutory standing'},
                {id:90290, name:'standing to sue: private or implied cause of action'},
                {id:90300, name:'standing to sue: taxpayer\'s suit'},
                    {id:90310, name:'standing to sue: miscellaneous'},
                    {id:90320, name:'judicial administration: jurisdiction or authority of federal district courts or territorial courts Note: jurisdiction of the federal courts or of the Supreme Court (cf. no merits: dismissed for want of jurisdiction)'},
                    {id:90330, name:'judicial administration: jurisdiction or authority of federal courts of appeals Note: jurisdiction of the federal courts or of the Supreme Court'},
                    {id:90340, name:'judicial administration: Supreme Court jurisdiction or authority on appeal or writ of error, from federal district courts or courts of appeals (cf. 753) Note: jurisdiction of the federal courts or of the Supreme Court'},
                    {id:90350, name:'judicial administration: Supreme Court jurisdiction or authority on appeal or writ of error, from highest state court Note: jurisdiction of the federal courts or of the Supreme Court'},
                    {id:90360, name:'judicial administration: jurisdiction or authority of the Court of Claims Note: jurisdiction of the federal courts or of the Supreme Court'},
                    {id:90370, name:'judicial administration: Supreme Court\'s original jurisdiction Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90380, name:'judicial administration: review of non-final order Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90390, name:'judicial administration: change in state law (cf. no merits: remand to determine basis of state court decision) Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90400, name:'judicial administration: federal question (cf. no merits: dismissed for want of a substantial or properly presented federal question) Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90410, name:'judicial administration: ancillary or pendent jurisdiction Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90420, name:'judicial administration: extraordinary relief (e.g., mandamus, injunction) Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90430, name:'judicial administration: certification (cf. objection to reason for denial of certiorari or appeal) Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90440, name:'judicial administration: resolution of circuit conflict, or conflict between or among other courts Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90450, name:'judicial administration: objection to reason for denial of certiorari or appeal Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90460, name:'judicial administration: collateral estoppel or res judicata Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90470, name:'judicial administration: interpleader Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90480, name:'judicial administration: untimely filing Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90490, name:'judicial administration: Act of State doctrine Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90500, name:'judicial administration: miscellaneous Note: jurisdiction of the federal courts or of the Supreme Court'},
                        {id:90510, name:'Supreme Court\'s certiorari, writ of error, or appeals jurisdiction Note: jurisdiction of the federal courts or of the Supreme Court'},
                            {id:90520, name:'miscellaneous, especially diversity jurisdiction'},
                            {id:100010, name:'federal-state ownership dispute (cf. Submerged Lands Act)'},
                            {id:100020, name:'federal pre-emption of state court jurisdiction Note: almost always found in the context of labor union activity. Does not involve constitutional interpretation. Rests rather on a primary jurisdiction rationale'},
                            {id:100030, name:'federal pre-emption of state legislation or regulation Note: cf. state regulation of business. rarely involves union activity. Does not involve constitutional interpretation unless the Court says it does'},
                            {id:100035, name:'executive authority vis-a-vis congress or the states'},
                            {id:100040, name:'Submerged Lands Act (cf. federal-state ownership dispute)'},
                            {id:100050, name:'national supremacy: commodities Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100060, name:'national supremacy: intergovernmental tax immunity Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100070, name:'national supremacy: marital and family relationships and property, including obligation of child support Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100080, name:'national supremacy: natural resources (cf. natural resources - environmental protection) Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100090, name:'national supremacy: pollution, air or water (cf. natural resources - environmental protection) Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100100, name:'national supremacy: public utilities (cf. federal public utilities regulation) Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100110, name:'national supremacy: state tax (cf. state tax) Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100120, name:'national supremacy: miscellaneous Note: in the context of federal-state conflicts involving the general welfare, supremacy, or interstate commerce clauses, the 11th or 21st Amendments, or the enforcement clause of the 14th Amendment. Distinguishable from federal pre-emption because of a constitutional basis for decision.'},
                            {id:100130, name:'miscellaneous federalism Note: cf. Indians, state jurisdiction over; comity; adequate non-federal grounds for decision; remand to determine basis of state court decision; judicial administration: Supreme Court jurisdiction or authority on appeal from highest state court, change in state law, or ancillary or pendent jurisdiction'},
                            {id:110010, name:'boundary dispute between states'},
                            {id:110020, name:'non-real property dispute between states'},
                            {id:110030, name:'miscellaneous interstate relations conflict'},
                            {id:120010, name:'federal taxation, typically under provisions of the Internal Revenue Code Note: except as pertains to federal taxation of gifts or priority of federal fiscal claims'},
                            {id:120020, name:'federal taxation of gifts, personal, business, or professional expenses'},
                            {id:120030, name:'priority of federal fiscal claims: over those of the states or private entities'},
                            {id:120040, name:'miscellaneous federal taxation (cf. national supremacy: state tax)'},
                            {id:130010, name:'legislative veto'},
                            {id:130020, name:'miscellaneous'},
                            {id:140010, name:'real property'},
                            {id:140020, name:'personal property'},
                            {id:140030, name:'contracts'},
                            {id:140040, name:'evidence'},
                            {id:140050, name:'civil procedure'},
                            {id:140060, name:'torts'},
                            {id:140070, name:'wills and trusts'},
                            {id:140080, name:'commercial transactions'}
     ];

issue.forEach(function(d) {
    issueById[d.id] = d;
});

var issueArea = [
    {id:1, name:'Criminal Procedure'},
    {id:2, name:'Civil Rights'},
    {id:3, name:'First Amendment'},
    {id:4, name:'Due Process'},
    {id:5, name:'Privacy'},
    {id:6, name:'Attorneys'},
    {id:7, name:'Unions'},
    {id:8, name:'Economic Activity'},
    {id:9, name:'Judicial Power'},
    {id:10, name:'Federalism'},
    {id:11, name:'Interstate Relations'},
    {id:12, name:'Federal Taxation'},
    {id:13, name:'Miscellaneous'},
    {id:14, name:'Private Action'}
];

var issueAreaById = {};
issueArea.forEach(function(d) {
    issueAreaById[d.id] = d;
});

var disposition = [
    {id:1, name:'stay, petition, or motion granted'},
    {id:2, name:'affirmed'},
    {id:3, name:'reversed'},
    {id:4, name:'reversed and remanded'},
    {id:5, name:'vacated and remanded'},
    {id:6, name:'affirmed and reversed (or vacated) in part'},
    {id:7, name:'affirmed and reversed (or vacated) in part and remanded'},
    {id:8, name:'vacated'},
    {id:9, name:'petition denied or appeal dismissed'},
    {id:10, name:'certification to a lower court'},
    {id:11, name:'no disposition'}
    ];

var dispositionById = {};
disposition.forEach(function(d) {
   dispositionById[d.id] = d;
});;/**
 * Created by bradflyon on 5/6/14.
 */

//these all appeal to the Supreme Court
"use strict";

var stateHighestCourts = [
{name: 'Supreme Court of Alabama', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Alabama', state: 'Alabama', stateWikiUrl: 'http://en.wikipedia.org/wiki/Alabama', stateAbbrev: 'AL', judgeTermLength_years: '6', numberJudges: '9' } ,
{name: 'Alaska Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Alaska_Supreme_Court', state: 'Alaska', stateWikiUrl: 'http://en.wikipedia.org/wiki/Alaska', stateAbbrev: 'AK', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'Arizona Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Arizona_Supreme_Court', state: 'Arizona', stateWikiUrl: 'http://en.wikipedia.org/wiki/Arizona', stateAbbrev: 'AZ', judgeTermLength_years: '6', numberJudges: '5' } ,
{name: 'Arkansas Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Arkansas_Supreme_Court', state: 'Arkansas', stateWikiUrl: 'http://en.wikipedia.org/wiki/Arkansas', stateAbbrev: 'AR', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Supreme Court of California', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_California', state: 'California', stateWikiUrl: 'http://en.wikipedia.org/wiki/California', stateAbbrev: 'CA', judgeTermLength_years: '12', numberJudges: '7' } ,
{name: 'Colorado Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Colorado_Supreme_Court', state: 'Colorado', stateWikiUrl: 'http://en.wikipedia.org/wiki/Colorado', stateAbbrev: 'CO', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Connecticut Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Connecticut_Supreme_Court', state: 'Connecticut', stateWikiUrl: 'http://en.wikipedia.org/wiki/Connecticut', stateAbbrev: 'CT', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'District of Columbia Court of Appeals',
            info:'The District of Columbia Court of Appeals is the highest court of the District of Columbia. Established in 1970, it is equivalent to a state supreme court, except that its authority is derived from the United States Congress rather than from the inherent sovereignty of the states',
            infoSource:'http://en.wikipedia.org/wiki/District_of_Columbia_Court_of_Appeals',
            courtWikiUrl:'http://en.wikipedia.org/wiki/District_of_Columbia_Court_of_Appeals', state:"District of Columbia", stateAbbrev:'DC'},
{name: 'Delaware Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Delaware_Supreme_Court', state: 'Delaware', stateWikiUrl: 'http://en.wikipedia.org/wiki/Delaware', stateAbbrev: 'DE', judgeTermLength_years: '12', numberJudges: '5' } ,
{name: 'Florida Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Florida_Supreme_Court', state: 'Florida', stateWikiUrl: 'http://en.wikipedia.org/wiki/Florida', stateAbbrev: 'FL', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Georgia', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Georgia_(U.S._state)', state: 'Georgia', stateWikiUrl: 'http://en.wikipedia.org/wiki/Georgia_(U.S._state)', stateAbbrev: 'GA', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Hawaii', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Hawaii', state: 'Hawaii', stateWikiUrl: 'http://en.wikipedia.org/wiki/Hawaii', stateAbbrev: 'HI', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'Idaho Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Idaho_Supreme_Court', state: 'Idaho', stateWikiUrl: 'http://en.wikipedia.org/wiki/Idaho', stateAbbrev: 'ID', judgeTermLength_years: '6', numberJudges: '5' } ,
{name: 'Supreme Court of Illinois', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Illinois', state: 'Illinois', stateWikiUrl: 'http://en.wikipedia.org/wiki/Illinois', stateAbbrev: 'IL', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Supreme Court of Indiana', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Indiana', state: 'Indiana', stateWikiUrl: 'http://en.wikipedia.org/wiki/Indiana', stateAbbrev: 'IN', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'Iowa Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Iowa_Supreme_Court', state: 'Iowa', stateWikiUrl: 'http://en.wikipedia.org/wiki/Iowa', stateAbbrev: 'IA', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'Kansas Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Kansas_Supreme_Court', state: 'Kansas', stateWikiUrl: 'http://en.wikipedia.org/wiki/Kansas', stateAbbrev: 'KS', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Kentucky Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Kentucky_Supreme_Court', state: 'Kentucky', stateWikiUrl: 'http://en.wikipedia.org/wiki/Kentucky', stateAbbrev: 'KY', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'Louisiana Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Louisiana_Supreme_Court', state: 'Louisiana', stateWikiUrl: 'http://en.wikipedia.org/wiki/Louisiana', stateAbbrev: 'LA', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Maine Supreme Judicial Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Maine_Supreme_Judicial_Court', state: 'Maine', stateWikiUrl: 'http://en.wikipedia.org/wiki/Maine', stateAbbrev: 'ME', judgeTermLength_years: '7', numberJudges: '7' } ,
{name: 'Maryland Court of Appeals', courtWikiUrl: 'http://en.wikipedia.org/wiki/Maryland_Court_of_Appeals', state: 'Maryland', stateWikiUrl: 'http://en.wikipedia.org/wiki/Maryland', stateAbbrev: 'MD', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Massachusetts Supreme Judicial Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Massachusetts_Supreme_Judicial_Court', state: 'Massachusetts', stateWikiUrl: 'http://en.wikipedia.org/wiki/Massachusetts', stateAbbrev: 'MA', judgeTermLength_years: 'Life', numberJudges: '7' } ,
{name: 'Michigan Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Michigan_Supreme_Court', state: 'Michigan', stateWikiUrl: 'http://en.wikipedia.org/wiki/Michigan', stateAbbrev: 'MI', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'Minnesota Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Minnesota_Supreme_Court', state: 'Minnesota', stateWikiUrl: 'http://en.wikipedia.org/wiki/Minnesota', stateAbbrev: 'MN', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Mississippi', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Mississippi', state: 'Mississippi', stateWikiUrl: 'http://en.wikipedia.org/wiki/Mississippi', stateAbbrev: 'MS', judgeTermLength_years: '8', numberJudges: '9' } ,
{name: 'Supreme Court of Missouri', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Missouri', state: 'Missouri', stateWikiUrl: 'http://en.wikipedia.org/wiki/Missouri', stateAbbrev: 'MO', judgeTermLength_years: '12', numberJudges: '7' } ,
{name: 'Montana Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Montana_Supreme_Court', state: 'Montana', stateWikiUrl: 'http://en.wikipedia.org/wiki/Montana', stateAbbrev: 'MT', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'Nebraska Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Nebraska_Supreme_Court', state: 'Nebraska', stateWikiUrl: 'http://en.wikipedia.org/wiki/Nebraska', stateAbbrev: 'NE', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Nevada', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Nevada', state: 'Nevada', stateWikiUrl: 'http://en.wikipedia.org/wiki/Nevada', stateAbbrev: 'NV', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'New Hampshire Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/New_Hampshire_Supreme_Court', state: 'New Hampshire', stateWikiUrl: 'http://en.wikipedia.org/wiki/New_Hampshire', stateAbbrev: 'NH', judgeTermLength_years: 'Life', numberJudges: '7' } ,
{name: 'New Jersey Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/New_Jersey_Supreme_Court', state: 'New Jersey', stateWikiUrl: 'http://en.wikipedia.org/wiki/New_Jersey', stateAbbrev: 'NJ', judgeTermLength_years: 'Life', numberJudges: '7' } ,
{name: 'New Mexico Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/New_Mexico_Supreme_Court', state: 'New Mexico', stateWikiUrl: 'http://en.wikipedia.org/wiki/New_Mexico', stateAbbrev: 'NM', judgeTermLength_years: '8', numberJudges: '5' } ,
{name: 'New York Court of Appeals', courtWikiUrl: 'http://en.wikipedia.org/wiki/New_York_Court_of_Appeals', state: 'New York', stateWikiUrl: 'http://en.wikipedia.org/wiki/New_York', stateAbbrev: 'NY', judgeTermLength_years: '14', numberJudges: '7' } ,
{name: "Supreme Court of North Carolina", wikiname: 'North Carolina Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/North_Carolina_Supreme_Court', state: 'North Carolina', stateWikiUrl: 'http://en.wikipedia.org/wiki/North_Carolina', stateAbbrev: 'NC', judgeTermLength_years: '8', numberJudges: '7' } ,
{name: 'North Dakota Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/North_Dakota_Supreme_Court', state: 'North Dakota', stateWikiUrl: 'http://en.wikipedia.org/wiki/North_Dakota', stateAbbrev: 'ND', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'Ohio Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Ohio_Supreme_Court', state: 'Ohio', stateWikiUrl: 'http://en.wikipedia.org/wiki/Ohio', stateAbbrev: 'OH', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Oklahoma', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Oklahoma', state: 'Oklahoma', stateWikiUrl: 'http://en.wikipedia.org/wiki/Oklahoma', stateAbbrev: 'OK', judgeTermLength_years: '6', numberJudges: '9' } ,
{name: 'Oklahoma Court of Criminal Appeals', courtWikiUrl: 'http://en.wikipedia.org/wiki/Oklahoma_Court_of_Criminal_Appeals', state: 'Oklahoma', stateWikiUrl: 'http://en.wikipedia.org/wiki/Oklahoma', stateAbbrev: 'OK', judgeTermLength_years: '6', numberJudges: '5' } ,
{name: 'Oregon Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Oregon_Supreme_Court', state: 'Oregon', stateWikiUrl: 'http://en.wikipedia.org/wiki/Oregon', stateAbbrev: 'OR', judgeTermLength_years: '6', numberJudges: '7' } ,
{name: 'Supreme Court of Pennsylvania', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Pennsylvania', state: 'Pennsylvania', stateWikiUrl: 'http://en.wikipedia.org/wiki/Pennsylvania', stateAbbrev: 'PA', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Supreme Court of Puerto Rico', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Puerto_Rico', state: 'Puerto Rico', stateWikiUrl: 'http://en.wikipedia.org/wiki/Puerto_Rico', stateAbbrev: 'PR', judgeTermLength_years: 'Mandatory retirement at age 70', numberJudges: '9' } ,
{name: 'Rhode Island Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Rhode_Island_Supreme_Court', state: 'Rhode Island', stateWikiUrl: 'http://en.wikipedia.org/wiki/Rhode_Island', stateAbbrev: 'RI', judgeTermLength_years: 'Life', numberJudges: '5' } ,
{name: 'South Carolina Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/South_Carolina_Supreme_Court', state: 'South Carolina', stateWikiUrl: 'http://en.wikipedia.org/wiki/South_Carolina', stateAbbrev: 'SC', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'South Dakota Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/South_Dakota_Supreme_Court', state: 'South Dakota', stateWikiUrl: 'http://en.wikipedia.org/wiki/South_Dakota', stateAbbrev: 'SD', judgeTermLength_years: '8', numberJudges: '5' } ,
{name: 'Tennessee Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Tennessee_Supreme_Court', state: 'Tennessee', stateWikiUrl: 'http://en.wikipedia.org/wiki/Tennessee', stateAbbrev: 'TN', judgeTermLength_years: '8', numberJudges: '5' } ,
{name: 'Supreme Court of Texas', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Texas', state: 'Texas', stateWikiUrl: 'http://en.wikipedia.org/wiki/Texas', stateAbbrev: 'TX', judgeTermLength_years: '6', numberJudges: '9' } ,
{name: 'Texas Court of Criminal Appeals', courtWikiUrl: 'http://en.wikipedia.org/wiki/Texas_Court_of_Criminal_Appeals', state: 'Texas', stateWikiUrl: 'http://en.wikipedia.org/wiki/Texas', stateAbbrev: 'TX', judgeTermLength_years: '6', numberJudges: '9' } ,
{name: 'Utah Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Utah_Supreme_Court', state: 'Utah', stateWikiUrl: 'http://en.wikipedia.org/wiki/Utah', stateAbbrev: 'UT', judgeTermLength_years: '10', numberJudges: '5' } ,
{name: 'Vermont Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Vermont_Supreme_Court', state: 'Vermont', stateWikiUrl: 'http://en.wikipedia.org/wiki/Vermont', stateAbbrev: 'VT', judgeTermLength_years: '6', numberJudges: '5' } ,
{name: 'Supreme Court of Virginia', courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Virginia', state: 'Virginia', stateWikiUrl: 'http://en.wikipedia.org/wiki/Virginia', stateAbbrev: 'VA', judgeTermLength_years: '12', numberJudges: '7' } ,
{name: 'Washington Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Washington_Supreme_Court', state: 'Washington', stateWikiUrl: 'http://en.wikipedia.org/wiki/Washington_(state)', stateAbbrev: 'WA', judgeTermLength_years: '6', numberJudges: '9' } ,
{name: 'Supreme Court of Appeals of West Virginia',courtWikiUrl: 'http://en.wikipedia.org/wiki/Supreme_Court_of_Appeals_of_West_Virginia', state: 'West Virginia', stateWikiUrl: 'http://en.wikipedia.org/wiki/West_Virginia', stateAbbrev: 'WV', judgeTermLength_years: '12', numberJudges: '5' } ,
{name: 'Wisconsin Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Wisconsin_Supreme_Court', state: 'Wisconsin', stateWikiUrl: 'http://en.wikipedia.org/wiki/Wisconsin', stateAbbrev: 'WI', judgeTermLength_years: '10', numberJudges: '7' } ,
{name: 'Wyoming Supreme Court', courtWikiUrl: 'http://en.wikipedia.org/wiki/Wyoming_Supreme_Court', state: 'Wyoming', stateWikiUrl: 'http://en.wikipedia.org/wiki/Wyoming', stateAbbrev: 'WY', judgeTermLength_years: '8', numberJudges: '5' }
];

var getURLForCourtStructureImageURLForStateCourt = function(stateName) {
    if (isDefined(stateName) && stateName.trim().length > 0) {
        return "http://www.courtstatistics.org/~/media/Microsites/Images/CSP/State_Structure_Charts/" + stateName.toLowerCase() + ".ashx?w=715&h=965&as=1";
    }
    else {
        return "";
    }
};

//for the weird ones
var stateToStateAbbrevForStructure = {};
stateToStateAbbrevForStructure["alabama"] = "AL";
stateToStateAbbrevForStructure["District of Columbia".toLowerCase()]="DC";
//AK ok
//ar ok
//hi ok
//puerto rico ok
//wa ok
//or ok;

var scraperNames = [];
//this created by running this script in the juriscraper/opinions/united_states directory:
// find ./ | grep py | grep -v pyc | grep -v init | awk '{print "scraperNames.push(\"" $0 "\"\);" }' > foo.js
//and put the foo.js here


scraperNames.push(".//administrative_agency/asbca.py");
scraperNames.push(".//administrative_agency/bva.py");
scraperNames.push(".//administrative_agency/mspb_p.py");
scraperNames.push(".//administrative_agency/mspb_u.py");
scraperNames.push(".//federal_appellate/ca1.py");
scraperNames.push(".//federal_appellate/ca10.py");
scraperNames.push(".//federal_appellate/ca11_p.py");
scraperNames.push(".//federal_appellate/ca11_u.py");
scraperNames.push(".//federal_appellate/ca2_p.py");
scraperNames.push(".//federal_appellate/ca2_u.py");
scraperNames.push(".//federal_appellate/ca3_p.py");
scraperNames.push(".//federal_appellate/ca3_u.py");
scraperNames.push(".//federal_appellate/ca4.py");
scraperNames.push(".//federal_appellate/ca5.py");
scraperNames.push(".//federal_appellate/ca6.py");
scraperNames.push(".//federal_appellate/ca7.py");
scraperNames.push(".//federal_appellate/ca8.py");
scraperNames.push(".//federal_appellate/ca9_p.py");
scraperNames.push(".//federal_appellate/ca9_u.py");
scraperNames.push(".//federal_appellate/cadc.py");
scraperNames.push(".//federal_appellate/cafc.py");
scraperNames.push(".//federal_appellate/scotus_chambers.py");
scraperNames.push(".//federal_appellate/scotus_relating.py");
scraperNames.push(".//federal_appellate/scotus_slip.py");
scraperNames.push(".//federal_bankruptcy/bap10.py");
scraperNames.push(".//federal_bankruptcy/bap9.py");
scraperNames.push(".//federal_district/dcd.py");
scraperNames.push(".//federal_special/afcca.py");
scraperNames.push(".//federal_special/armfor.py");
scraperNames.push(".//federal_special/cavc.py");
scraperNames.push(".//federal_special/cit.py");
scraperNames.push(".//federal_special/nmcca.py");
scraperNames.push(".//federal_special/tax.py");
scraperNames.push(".//federal_special/uscfc.py");
scraperNames.push(".//federal_special/uscfc_u.py");
scraperNames.push(".//federal_special/uscfc_vaccine.py");
scraperNames.push(".//federal_special/uscfc_vaccine_u.py");
scraperNames.push(".//state/ala.py");
scraperNames.push(".//state/alaska.py");
scraperNames.push(".//state/alaskactapp.py");
scraperNames.push(".//state/ariz.py");
scraperNames.push(".//state/arizctapp_div_1.py");
scraperNames.push(".//state/arizctapp_div_2.py");
scraperNames.push(".//state/ark.py");
scraperNames.push(".//state/arkctapp.py");
scraperNames.push(".//state/cal.py");
scraperNames.push(".//state/calctapp_1st.py");
scraperNames.push(".//state/calctapp_2nd.py");
scraperNames.push(".//state/calctapp_3rd.py");
scraperNames.push(".//state/calctapp_4th_div1.py");
scraperNames.push(".//state/calctapp_4th_div2.py");
scraperNames.push(".//state/calctapp_4th_div3.py");
scraperNames.push(".//state/calctapp_5th.py");
scraperNames.push(".//state/calctapp_6th.py");
scraperNames.push(".//state/calctapp_app_div.py");
scraperNames.push(".//state/calctapp_u.py");
scraperNames.push(".//state/colo.py");
scraperNames.push(".//state/coloctapp.py");
scraperNames.push(".//state/conn.py");
scraperNames.push(".//state/connappct.py");
scraperNames.push(".//state/dc.py");
scraperNames.push(".//state/de.py");
scraperNames.push(".//state/delaware.py");
scraperNames.push(".//state/delch.py");
scraperNames.push(".//state/delctcompl.py");
scraperNames.push(".//state/delsuperct.py");
scraperNames.push(".//state/fla.py");
scraperNames.push(".//state/fladistctapp_1_per_curiam.py");
scraperNames.push(".//state/fladistctapp_1_written.py");
scraperNames.push(".//state/fladistctapp_2.py");
scraperNames.push(".//state/fladistctapp_3.py");
scraperNames.push(".//state/fladistctapp_4.py");
scraperNames.push(".//state/fladistctapp_5.py");
scraperNames.push(".//state/ga.py");
scraperNames.push(".//state/gactapp.py");
scraperNames.push(".//state/haw.py");
scraperNames.push(".//state/haw_beginningofyear.py");
scraperNames.push(".//state/hawapp.py");
scraperNames.push(".//state/hawapp_beginningofyear.py");
scraperNames.push(".//state/idaho_civil.py");
scraperNames.push(".//state/idaho_criminal.py");
scraperNames.push(".//state/idahoctapp_civil.py");
scraperNames.push(".//state/idahoctapp_criminal.py");
scraperNames.push(".//state/idahoctapp_u.py");
scraperNames.push(".//state/ill.py");
scraperNames.push(".//state/illappct.py");
scraperNames.push(".//state/ind.py");
scraperNames.push(".//state/indctapp.py");
scraperNames.push(".//state/indtc.py");
scraperNames.push(".//state/iowa.py");
scraperNames.push(".//state/iowactapp.py");
scraperNames.push(".//state/kan.py");
scraperNames.push(".//state/kanctapp.py");
scraperNames.push(".//state/ky.py");
scraperNames.push(".//state/la.py");
scraperNames.push(".//state/mass.py");
scraperNames.push(".//state/massappct.py");
scraperNames.push(".//state/md.py");
scraperNames.push(".//state/mdctspecapp.py");
scraperNames.push(".//state/me.py");
scraperNames.push(".//state/mich.py");
scraperNames.push(".//state/minn.py");
scraperNames.push(".//state/minnctapp_p.py");
scraperNames.push(".//state/minnctapp_u.py");
scraperNames.push(".//state/miss.py");
scraperNames.push(".//state/miss_beginningofyear.py");
scraperNames.push(".//state/mo.py");
scraperNames.push(".//state/moctapp_eastern.py");
scraperNames.push(".//state/moctapp_southern.py");
scraperNames.push(".//state/moctapp_western.py");
scraperNames.push(".//state/mont.py");
scraperNames.push(".//state/nc.py");
scraperNames.push(".//state/ncctapp.py");
scraperNames.push(".//state/nd.py");
scraperNames.push(".//state/ndctapp.py");
scraperNames.push(".//state/neb.py");
scraperNames.push(".//state/nebctapp.py");
scraperNames.push(".//state/nev_p.py");
scraperNames.push(".//state/nev_u.py");
scraperNames.push(".//state/nh.py");
scraperNames.push(".//state/nj.py");
scraperNames.push(".//state/njsuperctappdiv.py");
scraperNames.push(".//state/nm_p.py");
scraperNames.push(".//state/nm_slip.py");
scraperNames.push(".//state/nm_u.py");
scraperNames.push(".//state/nmctapp_p.py");
scraperNames.push(".//state/nmctapp_slip.py");
scraperNames.push(".//state/nmctapp_u.py");
scraperNames.push(".//state/ny.py");
scraperNames.push(".//state/nyappdiv_1st.py");
scraperNames.push(".//state/nyappdiv_2nd.py");
scraperNames.push(".//state/nyappdiv_2nd_example.py");
scraperNames.push(".//state/nyappdiv_3rd.py");
scraperNames.push(".//state/nyappdiv_4th.py");
scraperNames.push(".//state/ohio.py");
scraperNames.push(".//state/ohioctapp_1.py");
scraperNames.push(".//state/ohioctapp_10.py");
scraperNames.push(".//state/ohioctapp_11.py");
scraperNames.push(".//state/ohioctapp_12.py");
scraperNames.push(".//state/ohioctapp_2.py");
scraperNames.push(".//state/ohioctapp_3.py");
scraperNames.push(".//state/ohioctapp_4.py");
scraperNames.push(".//state/ohioctapp_5.py");
scraperNames.push(".//state/ohioctapp_6.py");
scraperNames.push(".//state/ohioctapp_7.py");
scraperNames.push(".//state/ohioctapp_8.py");
scraperNames.push(".//state/ohioctapp_9.py");
scraperNames.push(".//state/ohioctcl.py");
scraperNames.push(".//state/okla.py");
scraperNames.push(".//state/oklaag.py");
scraperNames.push(".//state/oklacivapp.py");
scraperNames.push(".//state/oklacrimapp.py");
scraperNames.push(".//state/or.py");
scraperNames.push(".//state/pa.py");
scraperNames.push(".//state/pacommwct.py");
scraperNames.push(".//state/pasuperct.py");
scraperNames.push(".//state/ri_p.py");
scraperNames.push(".//state/ri_u.py");
scraperNames.push(".//state/sc.py");
scraperNames.push(".//state/sd.py");
scraperNames.push(".//state/tenn.py");
scraperNames.push(".//state/tenncrimapp.py");
scraperNames.push(".//state/tennctapp.py");
scraperNames.push(".//state/tex.py");
scraperNames.push(".//state/texapp_1.py");
scraperNames.push(".//state/texapp_10.py");
scraperNames.push(".//state/texapp_11.py");
scraperNames.push(".//state/texapp_12.py");
scraperNames.push(".//state/texapp_13.py");
scraperNames.push(".//state/texapp_14.py");
scraperNames.push(".//state/texapp_2.py");
scraperNames.push(".//state/texapp_3.py");
scraperNames.push(".//state/texapp_4.py");
scraperNames.push(".//state/texapp_5.py");
scraperNames.push(".//state/texapp_6.py");
scraperNames.push(".//state/texapp_7.py");
scraperNames.push(".//state/texapp_8.py");
scraperNames.push(".//state/texapp_9.py");
scraperNames.push(".//state/utah.py");
scraperNames.push(".//state/va.py");
scraperNames.push(".//state/vactapp_p.py");
scraperNames.push(".//state/vactapp_u.py");
scraperNames.push(".//state/vt.py");
scraperNames.push(".//state/wash.py");
scraperNames.push(".//state/washctapp_p.py");
scraperNames.push(".//state/washctapp_u.py");
scraperNames.push(".//state/wis.py");
scraperNames.push(".//state/wva.py");
scraperNames.push(".//state/wyo.py");
scraperNames.push(".//territories/as.py");
scraperNames.push(".//territories/guam.py");
scraperNames.push(".//territories/mp.py");
scraperNames.push(".//territories/pr.py");
scraperNames.push(".//territories/vi.py");


var hasScraperByCourtListenerCourtName = {};

var numberHasScrapers = 0;
scraperNames.forEach(function(scraperName) {

    var pieces = scraperName.split("/");

    var lastPiece = pieces[pieces.length-1];

    var courtName = lastPiece.split(".")[0];
    //u=unpublished, p=published, other things... doesn't seem to ever have an underscore in the name
    courtName = courtName.split("_")[0];

    console.log("Has scraper: " + courtName);
    if (isUndefined(hasScraperByCourtListenerCourtName[courtName])) {
        numberHasScrapers++;
    }

    hasScraperByCourtListenerCourtName[courtName] = 1;


});

console.log("numberHasScrapers: " + numberHasScrapers);
;"use strict";

/**
 * Created by bradflyon on 5/3/14.
 */

//do this TODO - just go straight to end of time
//TODO - focus on this court's stuff
//TODO - update judge distribution as you progress in time
//TODO - D3 viz in the qtip (and then qtip for that)

//DONE - include court seals?
//DONE - show home pages of all the courts at the same time somehow
//todo - stream ALL live court stuff that is going on across all sites?
//todo - add "other sources of writs" to the left/right with note about what these are and how frequent they are
//DONE - mouseover on the links to the Fed. Cir.

//DONE - add "Supreme Court has original jurisdiction" on left side (state vs state, US vs. state)

//TODO - change courtlistener search to be by date, most recent first...
//DONE - deal with images like on the b/d to prevent too much downloading - forgot exactly what I did

//TODO - streamline this process: the image --> reduce size with sips --> image2css
//TODO - add breakdown for Supreme court, too


//FYI Default units of svg are pixels
//TODO Confirm if px and svg line up in the relevant element




//http://en.wikipedia.org/wiki/Procedures_of_the_Supreme_Court_of_the_United_States
//certiorari before judgment - http://en.wikipedia.org/wiki/Certiorari_before_judgment
//certified question - http://en.wikipedia.org/wiki/Certified_question#Certification_of_questions_to_the_United_States_Supreme_Court
// Certification of a question of law to the United States Supreme Court is another way,
// in addition to the writ of certiorari, direct appeal, and original jurisdiction,
// by which cases can be brought to the docket of the Supreme Court.
// It is a very infrequent procedure, and has happened only five times over the past six decades.[19]

//extraordinary writ
/*
Supreme Court by one of several methods, of which the first two account for the overwhelming majority of cases decided:
    By petition for a writ of certiorari, filed by a party to a case that has been decided by one of the United States courts of appeals or by the United States Court of Appeals for the Armed Forces.

    By petition for writ of certiorari with respect to a decision of one of the state courts (including courts of Puerto Rico and the District of Columbia), after all state appeals have been exhausted, where an issue of federal constitutional or statutory law is in question. The writ is usually issued to a state supreme court, but is occasionally issued to a state's intermediate appellate court for cases where the state supreme court denied certiorari or review and thereby refused to hear the appeal.

    These four as little divs on left...
    By petition for certiorari before judgment, which permits the Court to expedite a case pending before a United States court of appeals by accepting the case for review before the appellate court has decided it. However, Supreme Court Rule 11 provides that a case may be taken by the Court before judgment in a lower court "only upon a showing that the case is of such imperative public importance as to justify deviation from normal appellate practice and to require immediate determination in this Court."

    By appeal from certain decisions of United States district courts in certain cases involving redistricting of congressional or state legislative districts, or when specifically authorized in a particular statute.

    By a certified question or proposition of law from one of the United States Courts of Appeals, meaning that the Court of Appeals requests the Supreme Court to instruct it on how to decide the case. This procedure was once common but is now rarely invoked; the last certificate accepted for review was in 1981.

    By petition for an "extraordinary writ" such as mandamus, prohibition, or habeas corpus. These writs are rarely granted by the Supreme Court though they are more frequently granted by lower courts.
*/


    var specialWaysToSupremeCourt = [];


    var d = {name:"Original Jurisdiction",
        displayName:true,
        shortNameHtml:"<a target='_blank' href='http://en.wikipedia.org/wiki/Article_Three_of_the_United_States_Constitution#Clause_2:_Original_and_appellate_jurisdiction'>Original<br/> Jurisdiction</a>",
        info:"There are certain cases in which the Supreme Court has <a target='_blank' href='http://en.wikipedia.org/wiki/Original_jurisdiction'>original jurisdiction</a>" +
            " to hear a case; this means that \"the parties can bring such disputes directly to the Supreme Court\" (<a target='_blank' href='http://www.law.cornell.edu/wex/original_jurisdiction'>definition from Legal Information Institute)</a>." +
            "<br/><br/>The scenarios for which this can happen are specified in " +
            "<a target='_blank' href='http://en.wikipedia.org/wiki/Article_Three_of_the_United_States_Constitution#Clause_2:_Original_and_appellate_jurisdiction'>Section 2, Clause 2, of Article Three of the US Constitution</a>: " +
                "cases affecting ambassadors, ministers and consuls, and controversies because at least one state is a party (this includes the scenarios where the United States has a controversy with a state).",
        infoSource:"http://en.wikipedia.org/wiki/Article_Three_of_the_United_States_Constitution#Clause_2:_Original_and_appellate_jurisdiction",
        idForPlayback:"originalJurisdiction",
        citation:"boxOriginalJurisdiction"
        };

    specialWaysToSupremeCourt.push(d);

    var boxOriginalJurisdiction = d;

    d = {name:"petition for certiori before judgment",
            displayName:true,
            shortNameHtml:"petition for <br/><a target='_blank' href='http://en.wikipedia.org/wiki/Certiorari_before_judgment'>certiorari before judgment</a>",
            info:"This " +
                    "is a petition for a <a target='_blank' href='http://en.wikipedia.org/wiki/Writ_of_certiorari'>writ of certiorari</a> " +
                    "in which the Supreme Court is asked to immediately review the decision of a United States District Court, " +
                    " without an appeal having been decided by a United States Court of Appeals, " +
                    "for the purpose of expediting the proceedings and obtaining a final decision. " +
                    "<br/><br/>Certiorari before judgment is rarely granted. Well-known cases that have reached the Supreme Court via this route " +
                    "include <a target='_blank' href='http://en.wikipedia.org/wiki/United_States_v._Nixon'>the Nixon tapes in 1974</a>, " +
                    " and the case in <a target='_blank' href='http://en.wikipedia.org/wiki/Ex_parte_Quirin'>1942 of eight German saboteurs in the United States during World War II</a>.",
            infoSource:"http://en.wikipedia.org/wiki/Certiorari_before_judgment"};

    specialWaysToSupremeCourt.push(d);

    d = {name: "appeal from decisions of District Courts involving <a target='_blank' href='http://en.wikipedia.org/wiki/Redistricting'>redistricting</a>",
        displayName: true,
        shortNameHtml: "appeal of decisions <br/>involving <a target='_blank' href='http://en.wikipedia.org/wiki/Redistricting'>redistricting</a>",
        info:"The Supreme Court may hear cases involving <a target='_blank' href='http://en.wikipedia.org/wiki/Redistricting'>redistricting</a>; " +
                " <a href='http://en.wikipedia.org/wiki/Baker_v._Carr'>Baker v. Carr (1962)</a> was a landmark case, whereby " +
                "the Supreme Court decided that redistricting issues/questions were indeed " +
                "<a target='_blank' href='http://en.wikipedia.org/wiki/Justiciability'>'justiciable'</a> by the Supreme Court, " +
                "instead of being a <a target='_blank' href='http://en.wikipedia.org/wiki/Political_question'>'political question'</a> " +
                " and hence not a question that could be resolved by the federal courts",
        infoSource:"http://en.wikipedia.org/wiki/Baker_v._Carr",
        exampleCaseAudio: {name: "Baker v. Carr 1962", url: "http://www.oyez.org/cases/1960-1969/1960/1960_6"}

    };

        specialWaysToSupremeCourt.push(d);

    d = {name:"certified question or proposition of law from one of the United States Courts of Appeals",
            displayName:true,
        info:"This is a formal request from a United States court of appeals to the Supreme Court seeking instruction " +
                "for the proper decision of a case. " +
                "This is discussed in Rule 21 of the <a target='_blank' href='http://www.supremecourt.gov/ctrules/2013RulesoftheCourt.pdf'>Rules of the Supreme Court</a>;",

        infoSource:"http://en.wikipedia.org/wiki/Certified_question#Certification_of_questions_to_the_United_States_Supreme_Court",
        shortNameHtml:"certified question  <br/> from Court of Appeals"};

    specialWaysToSupremeCourt.push(d);

    d = {name:"petition for an \"extraordinary writ\"",
        displayName:true,
        info:"This is discussed in Rule 20 of the <a target='_blank' href='http://www.supremecourt.gov/ctrules/2013RulesoftheCourt.pdf'>Rules of the Supreme Court</a>;" +
              " the petition must show that: " +
                "<ul>" +
                "<li>the writ will be in aid of the Court's appellate jurisdiction</li>" +
                "<li>exceptional circumstances warrant the exercise of the Court's discretionary powers</li>" +
                "<li>adequate relief cannot be obtained in any other form or from any other court</li>" +
                "</ul>" +
                "TODO: get some examples" +
                "<br/>",

            infoSource:"http://www.supremecourt.gov/ctrules/2013RulesoftheCourt.pdf",
        shortNameHtml:"petition for an<br/> \"extraordinary writ\""};

    specialWaysToSupremeCourt.push(d);


//OBE - figure out link source/target who is higher level usually

var CourtVisualization = function(config) {


    var that = this;

    that.interactWithCourtListener = false;

    that.datepicker = config.datepicker;


    var attributeNameForHighlightingCourtDuringPlayback = "id-for-playback";
    var attributeNameForHighlightingLinkDuringPlayback = "id-for-bottom-of-link-for-playback";
    var delayForQtipPopup_ms = 500;

    var testAttributeName="id-for-playback-source";
    that.$mainWindow = $(window);

    var getThumbDivForSeal = function(court, width,height) {

        //we create a div with the right css class
        if (court.seal) {
            var sDiv = "<div style='position:absolute;background-size:contain;height:" + height + "px;width:" + width + "px;' class='";

            //replace the last "." with "_"
            var s = court.seal;
            s = s.replace(/\./g, "_")
            s = s.replace(/ /g, "_")
            s = s.replace(/200/g, "")
            s = s.replace(/225/g, "")
            s = s.replace(/240/g, "")
            s = s.replace(/241/g, "")
            s = s.replace(/243/g, "")
            s = s.replace(/244/g, "")
            s = s.replace(/245/g, "")
            s = s.replace(/249/g, "")
            //console.log(s);
            // http://stackoverflow.com/questions/16538425/javascript-replace-last-occurrence-of-forward-slash
            //var index = s.lastIndexOf(".");
            //s = s.substr(0,index) + "_" + s.substr(index+1);
            sDiv +=  s  + "'></div>";

            return sDiv;
        }
        else {
            return "";
        }

    }

    var SEAL_DIR = "img/courtseals_resized";
    var JUDGE_PICS = "img/judge_pics_resized";
    var JUDGE_PIC_WIDTH = "250";
    //first we're just gonna set up a simple tree graph

    that.nodesExpandedNodes = [];

    var courtsByCitation = {};
    var courtListenerCourtsByCitation = {};

    courtListenerData.forEach(function(c) {
        courtListenerCourtsByCitation[c.citation] = c;
    });


    var supremeCourt = {name: "Supreme Court",
                            displayName:true,
                            shortNameHtml:"Supreme Court",
                            shortName:"Supreme Court", abbrev:"scotus", citation:"SCOTUS", parent:"null", children:[],
                            seal:"240px-Seal_of_the_United_States_Supreme_Court.svg.png",
                            sealSource:"http://en.wikipedia.org/wiki/File:Seal_of_the_United_States_Supreme_Court.svg"};

    var appealsWritBox = {name:"petitions for writs",
                            html:"petitions for <br/><a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>writs of certiorari</a>",
                            isCourt:false,
                            isWritbox:true,
                            citation:'appealsWritBox',
                            children:[]};


    supremeCourt.children.push(appealsWritBox);

    courtsByCitation[supremeCourt.citation] = supremeCourt;

    var usTaxCourt = {name:"United States Tax Court",
        citation:"Tax Ct.",
        scdbId:9,
        courtListenerCourt:courtListenerCourtsByCitation["Tax Ct."],
        shortNameHtml:"U.S. <br/>Tax Court",
        seal:'US-TaxCourt-Shield-BW.svg.png',
        sealSource:"http://commons.wikimedia.org/wiki/File:US-TaxCourt-Shield-BW.svg",
        url:"http://www.ustaxcourt.gov/",
        info:"The US Tax Court specializes in adjudicating disputes over federal income tax, " +
            "generally prior to the time at which formal tax assessments are made by the Internal Revenue Service." +
            "<br/>" +
            "Cases that are not \"Small Tax Court Cases\" can be appealed to the applicable geographical Court of Appeals, other than the " +
            "Court of Appeals for the Federal Circuit. ",
        infoSource:"http://en.wikipedia.org/wiki/United_States_Tax_Court"};

    courtsByCitation[usTaxCourt.citation] = usTaxCourt;


    var ordinals=["na","First","Second", "Third", "Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","DC", "Federal"];
    var seals   =["na",{s:"US-CourtOfAppeals-1stCircuit-Seal.svg.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-1stCircuit-Seal.svg"}
                      ,{s:"US-CourtOfAppeals-2ndCircuit-Seal.png",
                        src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-2ndCircuit-Seal.png"}
                        ,{s:"249px-US-CourtOfAppeals-3rdCircuit-Seal.svg.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-3rdCircuit-Seal.svg"}
                        ,{s:"US-CourtOfAppeals-4thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-4thCircuit-Seal.png"}
                        ,{s:"US-CourtOfAppeals-5thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-5thCircuit-Seal.png"}
                        ,{s:"US-CourtOfAppeals-6thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-6thCircuit-Seal.png"}
                        ,{s:"US-CourtOfAppeals-7thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-7thCircuit-Seal.png"}
                        ,{s:"243px-US-CourtOfAppeals-8thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-8thCircuit-Seal.png"}
                        ,{s: "241px-US-CourtOfAppeals-9thCircuit-Seal.svg.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-9thCircuit-Seal.svg"}
                        ,{s:"US-CourtOfAppeals-10thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-10thCircuit-Seal.png"}
                        ,{s:"US-CourtOfAppeals-11thCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-11thCircuit-Seal.png"}
                        ,{s:"US-CourtOfAppeals-DCCircuit-Seal.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-DCCircuit-Seal.png"}
                        ,{s:"240px-US-CourtOfAppeals-FederalCircuit-Seal.svg.png",
                            src:"http://en.wikipedia.org/wiki/File:US-CourtOfAppeals-FederalCircuit-Seal.svg"}
                    ];
    //not everyone will display their name by default - only on mouseover will that happen


    var caCitation=["na","1st Cir.","2d Cir.","3rd Cir.","4th Cir.","5th Cir.","6th Cir.","7th Cir.","8th Cir.","9th Cir."
        ,"10th Cir.","11th Cir.", "D.C. Cir.", "Fed. Cir."];
    var caAbbrev=["na","ca1", "ca2","ca3","ca4","ca5","ca6","ca7","ca8","ca9","ca10","ca11","cadc","cafc"];
    var courtsOfAppeal = [];
    var bankruptcyAppellatePanels = []
    //var existingBAPs = [0,1,2,6,8,9,10];
    var existingBAPs = [0,1,6,8,9,10];
   // var bapsCitation= ["na","1st Cir. BAP","2d Cir. BAP","6th Cir. BAP","8th Cir. BAP","9th Cir. BAP","10th Cir. BAP"];
    //there is no BAP for the 2n circuit
    var bapsCitation= ["na","1st Cir. BAP","6th Cir. BAP","8th Cir. BAP","9th Cir. BAP","10th Cir. BAP"];

    var extraNoteInfoOnCourts = {};

    var sNoteFirstPart = "Appellate jurisdiction over district courts in ";
    extraNoteInfoOnCourts["1st Cir."] =  sNoteFirstPart + "Maine, " +
        "Massachusetts, New Hampshire, Puerto Rico, and Rhode Island.";
    extraNoteInfoOnCourts["2d Cir."] = sNoteFirstPart + "Connecticut, " +
        "New York, and Vermont.";
    extraNoteInfoOnCourts["3rd Cir."] = sNoteFirstPart  +
                        "Delaware, New Jersey, Pennsylvania, and the (territorial) court of the Virgin Islands.";

    extraNoteInfoOnCourts["4th Cir."] = sNoteFirstPart +
        "Maryland, North Carolina, South Carolina, and Virginia";

    extraNoteInfoOnCourts["5th Cir."] = sNoteFirstPart +
        "Louisiana, Mississippi, and Texas";

    extraNoteInfoOnCourts["6th Cir."] = sNoteFirstPart + "Kentucky, " +
                                        "Michigan, Ohio, and Tennessee.";

    extraNoteInfoOnCourts["7th Cir."] = sNoteFirstPart +
                                        "Illinois, Indiana, and Wisconsin.";

    extraNoteInfoOnCourts["8th Cir."] = sNoteFirstPart +
                                        "Arkansas, Iowa, Minnesota, Missouri, Nebraska, North Dakota, and South Dakota.";

    extraNoteInfoOnCourts["9th Cir."] = sNoteFirstPart +
                                    "Alaska, Arizona, California, Hawaii, Idaho, Montana, Nevada, Oregon, Washington, " +
                                    "and the territorial courts of Guam and the Northern Mariana Islands."

    extraNoteInfoOnCourts["10th Cir."] = sNoteFirstPart +
                                        "Colorado, Kansas, new Mexico, Oklahoma, Utah, and Wyoming.";

    extraNoteInfoOnCourts["11th Cir."] = sNoteFirstPart +
        "Alabama, Florida, and Georgia.";

    extraNoteInfoOnCourts["D.C. Cir."] = "Appellate jurisdiction over the district court in the District of Columbia.";

    extraNoteInfoOnCourts["Fed. Cir."] = "This court can hear certain appeals from all of the District Courts, " +
                                        " in addition to appeals from certain administrative agencies. " +
                                        "Jurisdiction is based upon subject matter (e.g., patents), and not geographic location.";


    var caURLS = ["na"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_First_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Second_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Third_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fourth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Fifth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Sixth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Seventh_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eigth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Ninth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Tenth_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Eleventh_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_District_of_Columbia_Circuit"
                    ,"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_the_Federal_Circuit"];


//    var districtCourts = [];
//
//    districtCourts[1] = [
//                            {state:"NH" ,
//                                courts:[{name:"District of New Hampshire", abbrev:"med", citation}]}
//                            {state:"ME" ,
//                                    courts:[{name:"District of Maine", abbrev:"med"}]}
//                            ,{state:"MA" ,
//                                courts:[{name:"District of Massachusetts", abbrev:"mad"}]}
//                        ];
//
//    districtCourts[2] = ["VT","NY","CT"];


    //console.log(supremeCourt.citation + ":" + judgesGroupedByCitation[supremeCourt.citation].nonSenior.length);
    console.log(supremeCourt.citation + ": D, R: " +
                        judgesGroupedByCitation[supremeCourt.citation].activeByParty["d"].length +
                        ", " +
                        judgesGroupedByCitation[supremeCourt.citation].activeByParty["r"].length);

    var districtCourtsOfAppeal = [];
    var courtOrder=[0,1,2,3,4,5,6,13,7,8,9,10,11,12]
    for (var j=1;j<14;j++) {

        var i = j; //courtOrder[j];

        var appealCourtAbbrev = caAbbrev[i];
        var ca = ({name:"Court of Appeals for the " + ordinals[i] + " Circuit"
                                , abbrev:appealCourtAbbrev
                                , shortName:"Appeals " + caCitation[i]
                                , shortNameHtml:"Appeals <br/>" + caCitation[i]
                                , parent:supremeCourt.abbrev
                                , citation:caCitation[i]
                                , infoURL:caURLS[i]
                                , children:[]
                                , seal:seals[i].s
                                , sealSource:seals[i].src
                                , displayName:(i<15)
                             });

        ca.courtListenerCourt = courtListenerCourtsByCitation[ca.citation];

        if (ca.courtListenerCourt) {
            ca.populationInfo = ca.courtListenerCourt.populationInfo; //boy this needs to be consolidated better
        }

        if (i<13) {
            districtCourtsOfAppeal.push(ca);
        }
        appealsWritBox.children.push(ca);
        ca.parent = appealsWritBox;
        courtsByCitation[ca.citation] = ca;


        if (i===12) {
            ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
            //add dummy children - these are deleted later, but I want the spacing for Fed. Cir.
            //ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
            ca.children.push({shortName: "", citation: "", isDummy: true});
        }

//        if (arrayContains(existingBAPs,i)) {
//
//            var bap = {
//                name: "Bankruptcy Appellate Panel of the " + ordinals[i] + " Circuit",
//                abbrev: "bap" + i,
//                citation:bapsCitation[i],
//                parent: appealCourtAbbrev
//            };
//
//            ca.children.push(bap);
//            courtsByCitation[bap.citation] = bap;
//
//        }


    }

    var courtOfAppealsFederalCircuit = courtsByCitation['Fed. Cir.'];

    var courtOfAppealsArmedForces = courtListenerCourtsByCitation["C.A.A.F."];
    courtOfAppealsArmedForces.shortNameHtml="Court of Appeals<br/>Armed Forces";
    courtOfAppealsArmedForces.displayName = true;
    courtOfAppealsArmedForces.children = [];

    courtsByCitation[courtOfAppealsArmedForces.citation] = courtOfAppealsArmedForces;


    //add the sub courts...
    d = {name:'United States Army Court of Criminal Appeals',
        citation:'A.C.C.A.??',
        info:'The Army Court of Criminal Appeals (ACCA) is an appellate court that reviews certain court martial convictions of Army personnel',
        jurisdiction:'Federal Special',
        infoSource:'http://en.wikipedia.org/wiki/Army_Court_of_Criminal_Appeals',
        url:'https://www.jagcnet.army.mil/ACCA#',
        note:"not in CourtListener"} ;

    courtOfAppealsArmedForces.children.push(d);
    d.parent = courtOfAppealsArmedForces;
    courtsByCitation[d.citation] = d;

    d = {name:'Navy-Marine Corps Court of Criminal Appeals',
        citation:'N.M.C.C.A.??',
        seal:'nmcca_seal.png',
        sealSource:'http://www.jag.navy.mil/images/nmcca_seal.png',
        info:'The Navy-Marine Corps Court of Criminal Appeals (NMCCA) is the intermediate appellate court for criminal convictions in the United States Navy and the Marine Corps.',
        jurisdiction:'Federal Special',
        infoSource:'http://en.wikipedia.org/wiki/Navy-Marine_Corps_Court_of_Criminal_Appeals',
        url:'http://www.jag.navy.mil/nmcca.htm',
        note:"not in CourtListener"} ;

    courtOfAppealsArmedForces.children.push(d);
    d.parent = courtOfAppealsArmedForces;
    courtsByCitation[d.citation] = d;

    d = {name:'Coast Guard Court of Criminal Appeals',
        citation:'C.G.C.C.A.??',
        info:'The Coast Guard Court of Criminal Appeals (CGCCA) is the intermediate appellate court for criminal convictions in the U.S. Coast Guard.',
        jurisdiction:'Federal Special',
        infoSource:'http://en.wikipedia.org/wiki/Coast_Guard_Court_of_Criminal_Appeals',
        url:'http://www.uscg.mil/Legal/cca/Court_of_Criminal_Appeals.asp',
        note:"not in CourtListener"};

    courtOfAppealsArmedForces.children.push(d);
    d.parent = courtOfAppealsArmedForces;
    courtsByCitation[d.citation] = d;

    d = {name:'Air Force Court of Criminal Appeals',
        citation:'A.F.C.C.A.??',
        seal:'afcca_seal.jpg',
        sealSource:'http://afcca.law.af.mil/images/afcca_seal.jpg',
        info:"The Court hears and decides appeals of United States Air Force court-martial convictions and appeals <a target='_blank' href='http://en.wikipedia.org/wiki/Pendente_lite'><i>pendente lite</i></a>.",
        jurisdiction:'Federal Special',
        infoSource:'http://en.wikipedia.org/wiki/Air_Force_Court_of_Criminal_Appeals',
        url:'http://afcca.law.af.mil/content/index.php.html',
        note:"not in CourtListener"};

    courtOfAppealsArmedForces.children.push(d);
    d.parent = courtOfAppealsArmedForces;
    courtsByCitation[d.citation] = d;



    //supremeCourt.children.push(courtOfAppealsArmedForces);

//    Court of Appeals for the Federal Circuit	11798	Federal Appellate	http://www.cafc.usco…	cafc	Fed. Cir.
//        Court of Appeals for the Armed Forces	554	Federal Special	http://www.armfor.us…	armfor	C.A.A.F.


    var districtCourtsAfterParse = [];
    //loop over the district courts...
    districtCourts.forEach(function(districtCourt) {

        var parent = courtsByCitation[districtCourt.parentCitation];

        if (isUndefined((parent))) {
            console.log(districtCourt);
        }

        var d = {name: districtCourt.name
                    , abbrev:districtCourt.courtListenerAbbrev
                    , citation: districtCourt.citation
                    , children:[]
                    , parent:parent
                    , wikiUrl:districtCourt.wikiUrl
                    , chiefJudge:districtCourt.chiefJudge
                    , chiefJudgeUrl:districtCourt.judgeUrl
                    , established:districtCourt.established
                    , numberJudges:districtCourt.judges
                    , numberMeetingPlaces:districtCourt.meetingPlaces
                    , seal: districtCourt.seal
                    , sealSource: districtCourt.sealSource
                    , judgesPic:districtCourt.judgesPic
                    , myDistrictCourt:districtCourt
                    , courtListenerCourt:courtListenerCourtsByCitation[districtCourt.citation]
                };

        //console.log(d.seal);

        courtsByCitation[d.citation] = d;
        districtCourtsAfterParse.push(d);
        parent.children.push(d);

    });

    var courtListenerByName = {};

    courtListenerData.forEach(function(courtListenerCourt) {

        //console.log(courtListenerCourt.citation);

        //this is used when loading state courts
        courtListenerByName[courtListenerCourt.name] = courtListenerCourt;
        //console.log(courtListenerCourt.name);

        var theCourt = courtsByCitation[courtListenerCourt.citation];

        if (isDefined(theCourt)) {

            //console.log("Found '" + theCourt.citation + "'");

            theCourt.courtListenerURL = courtListenerCourt.courtListenerURL;
            theCourt.url = courtListenerCourt.url;
            theCourt.courtListenerName = courtListenerCourt.name;
            theCourt.jurisdiction = courtListenerCourt.jurisdiction;
            theCourt.courtListenerCourt = courtListenerCourt;



//            if (isDefined(courtListenerCourt.judgesPic)) {
//                if (isUndefined(theCourt.judgesPic)) {
//                    theCourt.judgesPic = courtListenerCourt.judgesPic;
//                    theCourt.judgesPicSource = courtListenerCourt.judgesPicSource;
//
//                }
//            }

        }
        else {
            //onsole.log("Undefined: " + courtListenerCourt.citation);
        }

    });

    //courtsByCitation["E.D. Cal."].jurisdiction = "Federal District";

    //make sure each district one we expect has info...
    var i=0;
    districtCourtsAfterParse.forEach(function(districtCourt) {
        if (isUndefined((districtCourt.jurisdiction))) {
            console.log("Did not find district court: " + districtCourt.citation);
            i++;
        }
        else {
            //console.log("DID find district court: " + districtCourt.citation);
        }
    });


    //deal with the state highest courts...
    var stateHighestCourtsAfterParse = [];

    stateHighestCourts.forEach(function(stateHighestCourt) {

        //find the court in the court listener data set
        //console.log(stateHighestCourt);

        var parent = courtsByCitation["SCOTUS"];

        //find the court in the courtlistener set
        var courtListenerData = courtListenerByName[stateHighestCourt.name];


        var d = {name: stateHighestCourt.name
                , isStateCourt:true
                , citation: courtListenerData.citation
                , stateAbbrev: stateHighestCourt.stateAbbrev
                , stateWikiUrl: stateHighestCourt.stateWikiUrl
                , state:stateHighestCourt.state

                , children:[]
                , parent:parent
                , wikiUrl:stateHighestCourt.courtWikiUrl
                , url: courtListenerData.url
                , numberJudges:stateHighestCourt.numberJudges
                , seal:courtListenerData.seal
                , sealSource:courtListenerData.sealSource
                , judgeTermLength:stateHighestCourt.judgeTermLength_years
                , courtListenerCourt:courtListenerData
        };

        courtsByCitation[d.citation] = d;
        stateHighestCourtsAfterParse.push(d);


        //parent.children.push(d);

    });

    var highestStateCourtsByStateName = {};
    stateHighestCourtsAfterParse.forEach(function(c) {
        var theListOfHighestCourts = highestStateCourtsByStateName[c.state];
        if (!theListOfHighestCourts) {
            theListOfHighestCourts = [];
        }
        theListOfHighestCourts.push(c);
        highestStateCourtsByStateName[c.state] = theListOfHighestCourts;

    });

    var numberSubcourts = 0;
    //subcourts of stateHighestCourts/Courts of Last Resort
    courtListenerData.forEach(function(courtListenerCourt) {


        if (isDefined(courtListenerCourt.stateParent)) {

            var c = courtListenerCourt;
            var parentCitation = c.stateParent;
            var parentCourt = courtsByCitation[parentCitation];


//            {name:'First Department, Appellate Division of the Supreme Court of the State of New York',
//                stateParent:'N.Y.', jurisdiction:'State Appellate',
//                citation:'??',
//                url:'http://www.courts.state.ny.us/courts/ad1/index.shtml',
//                courtListenerURL:'NA'} ,


            //onsole.log(parentCitation);
            var d =
            {   name: c.name,
                seal: c.seal,
                sealSource: c.sealSource,
                isStateCourt: true,
                state:parentCourt.state,
                citation: c.citation,
                stateAbbrev: parentCourt.stateAbbrev,
                jurisdiction: c.jurisdiction,
                url: c.url,
                children: [],
                parent: parentCourt,
                courtListenerCourt:c
            }

            numberSubcourts++;
            courtsByCitation[d.citation] = d;
            parentCourt.children.push(d);
        }

    });

    //lert(numberSubcourts);

    var specialCourtsThatAppealToFederalCourtOfAppeals = [];


        //Appeals to the court come from all federal district courts,

        //United States Court of Federal Claims,
        var d = {name: "Board of Patent Appeals and Interferences"
            , citation:"Pat.App??" //or C.F.C.
            , info:"The Board of Patent Appeals and Interferences (BPAI) is an administrative law body of the United States Patent and Trademark Office (USPTO), which decides issues of patentability."
            , infoSource:"http://en.wikipedia.org/wiki/Board_of_Patent_Appeals_and_Interferences"
            , children:[]
            , parent:courtOfAppealsFederalCircuit
            , wikiUrl:"http://en.wikipedia.org/wiki/Board_of_Patent_Appeals_and_Interferences"
            , url:"http://www.uspto.gov/ip/boards/bpai/index.jsp"};

        specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

    var d = {name: "Trademark Trial and Appeal Board"
        , citation:"Tra.App??" //or C.F.C.
        , info:"The Trademark Trial and Appeal Board (TTAB) is a body within the United States Patent and Trademark Office (USPTO) responsible for hearing and deciding certain kinds of cases involving trademarks. These include appeals from decisions by USPTO Examiners denying registration of marks, and opposition proceedings filed against trademark applications."
        , infoSource:"http://en.wikipedia.org/wiki/Trademark_Trial_and_Appeal_Board"
        , children:[]
        , parent:courtOfAppealsFederalCircuit
        , wikiUrl:"http://en.wikipedia.org/wiki/Trademark_Trial_and_Appeal_Board"
        , url:"http://www.uspto.gov/about/offices/ogc/ttab.jsp"};

    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);



        var d = {name: "United States Court of Federal Claims"
                    , citation:"Fed. Cl." //or C.F.C.
                    , info:"The United States Court of Federal Claims is a United States federal court that hears monetary claims against the U.S. government."
                    , infoSource:"http://en.wikipedia.org/wiki/United_States_Court_of_Federal_Claims"
                    , children:[]
                    , parent:courtOfAppealsFederalCircuit
                    , wikiUrl:"http://en.wikipedia.org/wiki/United_States_Court_of_Federal_Claims"
                    , seal:"240px-US-CourtOfFederalClaims-Seal_svg.png"
                    , sealSource:"http://en.wikipedia.org/wiki/File:US-CourtOfFederalClaims-Seal.svg"
                    , url:"http://www.uscfc.uscourts.gov"};

        d.courtListenerCourt = courtListenerCourtsByCitation[d.citation];
        specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

        //citation:'Ct. Intl. Trade', url:'http://www.cit.uscourts.gov/'
        //the United States Court of International Trade,
        var d = {name: "United States Court of International Trade"
            , citation:"Ct. Intl. Trade"
            , info:"The United States Court of International Trade, established under Article III of the Constitution, has nationwide jurisdiction over civil actions arising out of the customs and international trade laws of the United States."
            , infoSource:"http://en.wikipedia.org/wiki/United_States_Court_of_International_Trade"
            , children:[]
            , parent:courtOfAppealsFederalCircuit
            , wikiUrl:"http://en.wikipedia.org/wiki/United_States_Court_of_International_Trade"
            , seal:"CourtSeal_InternationalTrade.png"
            , sealSource:"http://www.cit.uscourts.gov/Images/CourtSeal.png"
            , url:"http://www.cit.uscourts.gov/"};

        d.courtListenerCourt = courtListenerCourtsByCitation[d.citation];
        //console.log(d.courtListenerCourt);
        specialCourtsThatAppealToFederalCourtOfAppeals.push(d);


        //and the United States Court of Appeals for Veterans Claims.
        var d = {name: "United States Court of Appeals for Veterans Claims"
            , citation:"Vet. App."
            , info:"The court has exclusive national jurisdiction to provide independent, federal, judicial oversight and review of final decisions of the Board of Veterans' Appeals."
            , infoSource:"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_Veterans_Claims"
            , children:[]
            , parent:courtOfAppealsFederalCircuit
            , wikiUrl:"http://en.wikipedia.org/wiki/United_States_Court_of_Appeals_for_Veterans_Claims"
            , seal:"seal_CourtOfAppealsForVeteransClaims.png"
            , sealSource:"http://www.uscourts.cavc.gov/images/seal.png"
            , url:"http://www.uscourts.cavc.gov/"};

        d.courtListenerCourt = courtListenerCourtsByCitation[d.citation];
        specialCourtsThatAppealToFederalCourtOfAppeals.push(d);


    //including the United States Merit Systems Protection Board,
    var d = {name: "United States Merit Systems Protection Board"
        , citation:"USMSPB??"
        , info:"The Merit Systems Protection Board (MSPB) is an independent quasi-judicial agency established in 1979 to protect federal merit systems against partisan political and other prohibited personnel practices and to ensure adequate protection for federal employees against abuses by agency management."
        , infoSource:"http://en.wikipedia.org/wiki/United_States_Merit_Systems_Protection_Board"
        , children:[]
        , parent:courtOfAppealsFederalCircuit //note discrimination appeals are heard in federal district court
        , wikiUrl:"http://en.wikipedia.org/wiki/United_States_Merit_Systems_Protection_Board"
        , seal:"240px-US-MeritSystemsProtectionBoard-Seal_svg.png"
        , sealSource:"http://upload.wikimedia.org/wikipedia/commons/thumb/3/35/US-MeritSystemsProtectionBoard-Seal.svg/240px-US-MeritSystemsProtectionBoard-Seal.svg.png"
        , url:"http://www.mspb.gov/"};

    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

    //Armed Services Board of Contract Appeals    (ASBCA)
    var d = {name: "Armed Services Board of Contract Appeals"
        , citation:"ASBCA??"
        , info:"The Armed Services Board of Contract Appeals (or ASBCA) is an administrative tribunal within the United States government that hears certain claims arising from contracts between civilian providers of goods and services and agents of the United States military"
        , infoSource:"http://en.wikipedia.org/wiki/Armed_Services_Board_of_Contract_Appeals"
        , children:[]
        , parent:courtOfAppealsFederalCircuit
        , wikiUrl:"http://en.wikipedia.org/wiki/Armed_Services_Board_of_Contract_Appeals"
        , seal:"asbcaseal.png"
        , sealSource:"http://www.asbca.mil/asbcaseal.png"
        , url:"http://www.asbca.mil/index.html"};

    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

    var d = {name: "Office of Compliance"
        , citation:"Off. Comp.??"
        , info:"The Office of Compliance (OOC) is an independent, non-partisan agency established to administer " +
                 "and enforce the <a target='_blank' href='http://en.wikipedia.org/wiki/Congressional_Accountability_Act_of_1995'>Congressional Accountability Act (CAA)</a>"
        , infoSource:"http://www.compliance.gov/about-the-ooc/"
        , children:[]
        , parent:courtOfAppealsFederalCircuit
        , wikiUrl:"http://en.wikipedia.org/wiki/United_States_Congress_Office_of_Compliance"
        , seal:"office_of_compliance_logo.png"
        , sealSource:"http://www.compliance.gov/wp-content/themes/ooc/images/logo.png"
        , url:"http://www.compliance.gov/"};

    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

//    var d = {name: "Civilian Board of Contract Appeals"
//        , citation:"CBCA??"
//        , info:"The CBCA presides over various disputes involving Federal executive branch agencies. Its primary responsibility is to resolve contract disputes between government contractors and agencies under the Contract Disputes Act."
//        , infoSource:"http://www.cbca.gsa.gov"
//        , children:[]
//        , parent:courtOfAppealsFederalCircuit
//        , wikiUrl:"http://en.wikipedia.org/wiki/Civilian_Board_of_Contract_Appeals"
//        , seal:"cbca_color_seal_small.png"
//        , sealSource:"http://www.cbca.gsa.gov/img/cbca_color_seal_small.png"
//        , url:"http://www.cbca.gsa.gov/"};
//
//    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);


    //Government Accountability Office Contract Appeals Board (GAOCAB)
    var d = {name: "Government Accountability Office Contract Appeals Board"
        , citation:"GAOCAP??"
        , info:"GAO's Contract Appeals Board considers appeals of decisions by contracting officers in various legislative branch agencies, including the Architect of the Capitol and the Government Printing Office."
        , infoSource:"http://www.gao.gov/legal/contract/appeals.html"
        , children:[]
        , parent:courtOfAppealsFederalCircuit
        //, wikiUrl:"NA"
        , ignoreseal:"NA"
        , ignoresealSource:"NA"
        , url:"http://www.gao.gov/legal/contract/appeals.html"};

    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

    //The Board of Contract Appeals decides disputes between contractors and executive agencies of the United States, including the Departments of State, Treasury, Commerce, and Education.
    //Civilian Board of Contract Appeals    (CBCA)

    var d = {name: "Postal Service Board of Contract Appeals"
        , citation:"Postal Service Board?"
        , info:""
        , infoSource:""
        , children:[]
        , parent:courtOfAppealsFederalCircuit
        , wikiUrl:"NA"
        , ignoreseal:"NA"
        , ignoresealSource:"NA"
        , url:"http://about.usps.com/who-we-are/judicial/board-contract-appeals-decisions/welcome.htm"};

    //I'm not 100% sure of this... I can't confirm it yet... May 12, 2014
    //specialCourtsThatAppealToFederalCourtOfAppeals.push(d);


    d = {name:"Civilian Board of Contract Appeals"
            , citation:"CBCA??"
            , info:'The Civilian Board of Contract Appeals (CBCA) is an independent tribunal housed within the General Services Administration. The CBCA presides over various disputes involving Federal executive branch agencies. Its primary responsibility is to resolve contract disputes between government contractors and agencies under the Contract Disputes Act. '
            , infoSource:'http://www.cbca.gsa.gov/index.html'
            , extraNote:'An application for fees and other expenses shall be filed within 30 calendar days of a final disposition in the underlying appeal. The Board\'s decision becomes final (for purposes of the timeliness of the filing of a cost application) when it is not appealed to the United States Court of Appeals for the Federal Circuit within the time permitted for appeal or, if the decision is appealed, when the time for petitioning the Supreme Court for certiorari has expired.'
            , extraNoteSource:'http://www.cbca.gsa.gov/howto/filing.html'
            , children:[]
            , parent:courtOfAppealsFederalCircuit
            , seal:'cbca_color_seal_small.png'
            , sealSource:'http://www.cbca.gsa.gov/img/cbca_color_seal_small.png'
            , url:'http://www.cbca.gsa.gov/decisions/appeals.html'
    }
    specialCourtsThatAppealToFederalCourtOfAppeals.push(d);

    specialCourtsThatAppealToFederalCourtOfAppeals.forEach(function(c) {
        c.specialCourtThatAppealsToFederalCourtOfAppeals = true;
        courtsByCitation[c.citation] = c;
        //c.displayName = true;
       courtOfAppealsFederalCircuit.children.push({isDummy:true});
       courtOfAppealsFederalCircuit.children.push(c);

       console.log("{citation:'" + c.citation + "', url:'" + c.url + "'},");

    });

//    var specialForGettingWebPages = specialCourtsThatAppealToFederalCourtOfAppeals.map(function(c) {
//       return {citation: c.citation, url: c.url};
//    });
//    console.log(specialForGettingWebPages);


    //d={};

    //add the bankruptcy appellate panels
    courtListenerData.forEach(function(courtListenerCourt) {

        if (
            (courtListenerCourt.jurisdiction==='Federal Bankruptcy Panel')
            &&
            (courtListenerCourt.citation.indexOf('Cir.') > -1)
            ) {


                console.log(courtListenerCourt.name);

                var bc = {
                    name:courtListenerCourt.name,
                    citation: courtListenerCourt.citation,
                    courtListenerURL : courtListenerCourt.courtListenerURL,
                    url : courtListenerCourt.url,
                    courtListenerName : courtListenerCourt.name,
                    jurisdiction : courtListenerCourt.jurisdiction,
                    isBankruptcyPanel:true,
                    children:[]
                };

                courtsByCitation[bc.citation] = bc;
                //peel off the parent
                var c = bc.citation;
                var parentCitation = c.substr(0, c.length-4);
                var parent = courtsByCitation[parentCitation];

                parent.hasBAP = true;
                parent.theBAP = bc;

                //add a dummy child
                bc.children.push({citation:"",isDummy:true});
                bc.children.push({citation:"",isDummy:true});

                bc.parent = parent;

                //console.log(bc);
                //console.log(parent);

                parent.children.push(bc);


        }
        else if (
                (courtListenerCourt.jurisdiction==="Federal Bankruptcy")
                &&
                (courtListenerCourt.citation.indexOf("Bankr.")>-1) //ignore Mass and Me ones from 1980/1981
            ){

            if (courtListenerCourt.citation !=="Bankr. D. Tenn.")  //ignore this older court here...
                {

                var bc = {
                    name: courtListenerCourt.name,
                    citation: courtListenerCourt.citation,
                    courtListenerURL: courtListenerCourt.courtListenerURL,
                    url: courtListenerCourt.url,
                    courtListenerName: courtListenerCourt.name,
                    jurisdiction: courtListenerCourt.jurisdiction,
                    isDistrictBankruptcyCourt: true
                };

                var cc = bc.citation;
                courtsByCitation[bc.citation] = bc;

                var parentCitation = cc.substr(6).trim();
                    if (cc==="Bankr. D.C.") {
                        parentCitation="D.D.C."; //special case
                    }
                    else if (cc==="Bankr. M.D. Penn.") {
                        parentCitation="M.D. Pa.";
                    }
                    else if (cc==="Bankr. N. Mar. I.") {
                        parentCitation="D.N. Mar. I.";
                    }
                    else if (cc==="Bankr. N.D. Okla") {
                        parentCitation="N.D. Okla.";
                    }
                    else if (cc==="Bankr. N.D.W. Va.") {
                        parentCitation = "N.D. W. Va.";
                    }
                    else if (cc==="Bankr. S.D.W. Va.") {
                        parentCitation = "S.D. W. Va.";
                    }
                    else if (cc=="Bankr. S.D. Florida") {
                        parentCitation="S.D. Fla.";
                    }

                //var parent = courtsByCitation[parentCitation];
                var parent = courtsByCitation[parentCitation];

                bc.parent = parent;

               // console.log(bc.citation);
               // console.log(bc);
               // console.log(parent);

                parent.children.push(bc);
            }

        }


    });


    //get extraThings
    //this is what can happen as you just see where it goes...
    courtListenerData.forEach(function(courtListenerCourt) {
        var court = courtsByCitation[courtListenerCourt.citation];
        if (isDefined(court)) {
                court.extraThings = courtListenerCourt.extraThings;
        }
    });



    //see about setting up the states


//Not dealt with: The court also takes appeals of certain administrative agencies' decisions,
//            the Boards of Contract Appeals,
//            the Board of Patent Appeals and Interferences,
//        and the Trademark Trial and Appeals Board.
//
//
//
//        Decisions of the United States International Trade Commission,
//            the Office of Compliance, an independent agency in the legislative branch,
//            and the Government Accountability Office Personnel Appeals Board,
//            and the Department of Justice Bureau of Justice Assistance also are reviewed by the court.


        //do a final sync with CourtListener...


    //console.log("Number not found: " + i);

    //M.D. Georgia or M.D. Ga
//    N.D.N.Y. or N.D.N.Y.
//    M.D. Pa. or M.D. Penn.
//    D. Md. or D. Maryland
//    N.D. W. Va. or N.D.W. Va.
//    S.D. W. Va. or S.D.W. Va
//    E.D. Wis.
//    D. Minn. or D. Minnesota
//    E.D. Cal.
//    D.N. Mar. I. or N. Mar. I.
//    D. Or. or D. Ore. full thing in districtCourts
//    D. Col. or D. Colo. full thing in districtCourts
//    E.D. Ok. or E.D. Okla. full thing in districtCourts
//    N.D. Ok. or N.D. Okla. full thing in districtCourts
//    W.D. Ok. or W.D. Okla. full thing in districtCourts
//    N.D. Fla. or N.D. Fl. full thing in districtCourts
//    M.D. Fla. or M.D. Fl. full thing in districtCourts
//    S.D. Fla. or S.D. Fl. full thing in districtCourts
//    M.D. Ga. or M.D. Georgia
        //console.log(supremeCourt);



    //onsole.log(stateHighestCourtsAfterParse);

//    console.log("CourtListener courts not included...");
//    //figure out which courtListener courts were not included...
//        courtListenerData.forEach(function(courtListenerCourt) {
//            var court = courtsByCitation[courtListenerCourt.citation];
//            if (isUndefined(court)) {
//                console.log(courtListenerCourt);
//            }
//        });
//    console.log("Done CourtListener courts not included...");


    //setUpChart(supremeCourt, "#graphArea", stateHighestCourtsAfterParse); //pass it down


    that.reRenderAfterResize = function rerenderAfterResize() {

        //return;

        //main axes don't scale well by default - reset the domain thing?

        //there's a lot of stuff to be careful about this
        //I can't just remove existing stuff and redraw, as there is
        //state stuff to keep up with, possibly
        console.log("reRenderAfterResize");

        //$progressBarText.html("Rendering...").fadeIn();
        config.showProgressBar("Rendering");
        //$('#loadingDiv').show();

        //delete everything
        d3.select('#svgArea').selectAll('*').remove();

        //then redraw it
        setUpChart(supremeCourt, "#svgArea", stateHighestCourtsAfterParse); //pass it down

        config.hideProgressBar();
        //$('#loadingDiv').stop().fadeOut();
        //$progressBarText.stop().fadeOut();

    }


    //this is called the first time we run through this

    setUpChart(supremeCourt, "#svgArea", stateHighestCourtsAfterParse); //pass it down



    function setUpChart(rootCourt, containerSelector, stateNodes) {


        //$(containerSelector).html("");

        var margin = {top: 60, right: 50, bottom: 10, left: 50},
            width = $(containerSelector).width() - margin.left - margin.right,
            height = $(containerSelector).height() - margin.top - margin.bottom ;

        $(containerSelector).css("margin-left",margin.left);

        var diameter = width/2;

        //everything is relative to this... maybe eventually May 17, 2014 10:36pm
        function getScotusCenter() {
            return {x:width/2, y:height/2};
        }

//        var birthYearRange = person.getBirthYearRange(20);
//        birthYearRange[0] -= 20;

        var yearFormatter = d3.format("f0");

//        yAxis = {};
//        ["right","left"].forEach(function(which) {
//            yAxis[which] = d3.svg
//                .axis()
//                .scale(theScale)
//                .orient(which)
//                .tickFormat(yearFormatter)
//                .ticks(15);
//        });

        //how much the top part takes (includes Appeals courts)
        var fractionOfHeightForTopPart = 0.2;

//        var orientations = {
//            "bottom-to-top": {
//                size: [width, height],
//                x: function(d) { return d.x; },
//                y: function(d) {
//                    console.log(d.y);
//                    return height/2 - d.y;
//                }
//            }
//            , "top-to-bottom": {
//                size: [width, fractionOfHeightForTopPart*height],
//                x: function(d) { return d.x; },
//                y: function(d) {
//                    return theScale(d.getLevel());
//                }
//            }
//        };


        //var orientation = orientations["top-to-bottom"];


        var htmlArea = d3.select("#svgArea").append("div")
                                    .attr("class","htmlArea");


//        htmlArea.append("div")
//            .style("position","absolute")
//            .style("text-align","center")
//            .style("z-index", "5000")
//            .attr("id","debugPlayBackArea")
//            .html("Debug Area");

        var svg = d3.select("#svgArea").append("svg")
            .attr("id","courtArea")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height)
            .append("g");
            //.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        //.attr("viewBox","0 0 10 10")
        //.attr("stroke","black")
        //    .attr("stroke-width","3")
        var defs = svg.append("defs");
            defs.append("marker")
            .attr("id","endMarker")
            .attr("refX","2")
            .attr("refY","6")
            .attr("fill","#999")
            .attr("markerWidth","10")
            .attr("markerHeight","13")
            .attr("orient","auto")
            .append("path")
            .attr("d","M2,2 L2,11 L10,6 L2,2")
            .attr("fill","#999");

        defs.append("marker")
            .attr("id","noFillMarker")
            .attr("refX","2")
            .attr("refY","6")
            .attr("fill","none")
            .attr("markerWidth","10")
            .attr("markerHeight","13")
            .attr("orient","auto")
            .append("path")
            .attr("d","M2,2 L2,11 L10,6 L2,2")
            .attr("fill","#none");

        var root = rootCourt;
        o =  { size: [width, height/2]};

        var tree = d3.layout.tree()
                        .size(o.size);
                        //didn't matter .separation(function(a, b) { return 4;});

        var allNodes = tree.nodes(root);

        //filter out the dummy nodes that were used for spacing
        allNodes = allNodes.filter(function(node) {
            return (!isDefined(node.isDummy));
        });

        //filter out non-state ones
        var nodesNonState = allNodes.filter(function(node) {
            return (!isDefined(node.isStateCourt) || (!node.isStateCourt));
        });

        that.nodesNonState = nodesNonState; //this is also used when showing home pages

        //filter out nonStateSupreme ones
        var nodesState = allNodes.filter(function(node) {
            return (isDefined(node.isStateCourt) && (node.isStateCourt));
        });

        //some crude stuff to shift things in Y for non-state nodes
        //it doesn't work all the time and I need to fix it
        function getNonStateBaseY(nodeDepth) {

            if (nodeDepth === 0 ) {
                return height/2 - 100;
            }
            else if (nodeDepth===1) {
                return (getNonStateBaseY(0) + 90); //90);// + 0.5*(r - Math.sqrt(r*r - c*c));
            }
            else if (nodeDepth===2) {
                return (getNonStateBaseY(1) + 90);// + 0.5*(r - Math.sqrt(r*r - c*c));
            }
            else if (nodeDepth===3) {
                return (getNonStateBaseY(2) + 70);// + 0.5*(r - Math.sqrt(r*r - c*c));
            }
            else if (nodeDepth===4) {
                return (getNonStateBaseY(3) + 35);// + 0.5*(r - Math.sqrt(r*r - c*c));
            }
        }

        function getRadiusNonState() {
            return 1.8*that.$mainWindow.width();
        }

        var maxYNonState = {};
        var minYNonState = {};
        //see about tweaking the level 2 nodes?
        //space out the fed. Cir. one on the right...
        nodesNonState.forEach(function(node) {
           if (node.citation===courtOfAppealsFederalCircuit.citation) {
               //we have some now... node.children=[]; //[node.children[5]];
           }

            node.x = node.x + (width/2 - supremeCourt.x);

            if (node.depth===1) {
                node.x = width/2;//being slightly off was driving me crazy...
            }

            if (node.depth >= 0) {
                node.originalY = node.y;

                //see about being smarter about this May 16, 2016 var r = 2000;

                if (
                        (node.citation===courtOfAppealsFederalCircuit.citation)
                        ||
                        (node.specialCourtThatAppealsToFederalCourtOfAppeals===true)
                    )
                {
                    //we have some now... node.children=[]; //[node.children[5]];
                    node.x += 25;
                }


                var r = 0.5*getRadiusNonState();
                var c = (node.x - width/2);

                var deltaY;
                if (node.depth == 0 ) {
                    deltaY = 0;
                }
                else {
                    deltaY = 0.5*(r - Math.sqrt(r*r - c*c));
                    deltaY = -deltaY; //this spaces the link curves a little better
                }

                //what I need to do is have the max y = windowHeight - blah
                //when deltaY is negative, it can put it up to much when the screen is wide...
                node.y = getNonStateBaseY(node.depth) + deltaY;
                if (node.depth===2) {
                    console.log(node.depth + ", " + deltaY + ", " + node.y);
                }


                if (isUndefined(maxYNonState[node.depth])) {
                    maxYNonState[node.depth] = -1;
                }
                if (isUndefined(minYNonState[node.depth])) {
                    minYNonState[node.depth] = 100000000;
                }
                maxYNonState[node.depth] = Math.max(maxYNonState[node.depth],node.y);
                minYNonState[node.depth] = Math.min(minYNonState[node.depth],node.y);

            }
            if (node.depth>0) {
                if (node.citation !== courtOfAppealsFederalCircuit.citation) {
                    //node.x = node.x - 20;
                }
            }

        });
        console.log(height);
        [0,1,2,3,4].forEach(function(i) {
           console.log("Depth " + i + ", minY, maxY are " + minYNonState[i] + ", " + maxYNonState[i]);
        });


        var maxYNonStateSpecialCourtThatAppealsToFederalCourtOfAppeals = -1;

        var shiftY = height - maxYNonState[4] - 20; //some gap at bottom
        if (shiftY>0) {

            maxYNonState[2] = -1;
            maxYNonState[3] = -1;
            maxYNonState[4] = -1;

            minYNonState[2] = 1000000;
            minYNonState[3] = 1000000;
            minYNonState[4] = 1000000;

            nodesNonState.forEach(function(node) {
                if (node.depth>1) {
                    node.y += shiftY;
                    maxYNonState[node.depth] = Math.max(maxYNonState[node.depth],node.y);
                    minYNonState[node.depth] = Math.min(minYNonState[node.depth],node.y);

                    if (node.specialCourtThatAppealsToFederalCourtOfAppeals) {
                        maxYNonStateSpecialCourtThatAppealsToFederalCourtOfAppeals =
                                Math.max(maxYNonStateSpecialCourtThatAppealsToFederalCourtOfAppeals,node.y);
                    }

                }
            });

        }

        var links = tree.links(nodesNonState);

        svg.selectAll(".link")
            .data(links)
            .enter().append("path")
            .filter(function(l) {
                //console.log(l);
                return ! (isDefined(l.source.isDummy) || isDefined(l.target.isDummy)); //d.citation !== "SCOTUS";
            })
            .classed("link",true)
            .classed("hideWhenFedCirMouseover",function(link) {
               return (link.source.isDistrictBankruptcyCourt || link.target.isDistrictBankruptcyCourt);
            })
            .classed("hideWhenTaxCourtMouseover",function(link) {
                return !(link.source.isWritbox || link.target.isWritbox);
            })
            .attr(attributeNameForHighlightingLinkDuringPlayback,function(link) {
                //ideally, we can highlight all links between the node
                //  and the Supreme Court
//                how to do this?
//                    when we need to highlight it/update width,
//                    we will know where we are starting... can we walk back to the sc at that time?
//                I am a little confused about which is target and which is source
//                hopefully it is consistent
                //console.log("dForPlaybackSource: " + link.source.citation);
                return link.target.citation;
            })
            .attr("stroke-dasharray", function(link) {
               if  (
                        ((link.source.parent.hasBAP) || (link.target.parent.hasBAP) ) &&
                       (link.source.isDistrictBankruptcyCourt || link.target.isDistrictBankruptcyCourt)) {
                   return "5 5";
               }
                else {
                    return "";
                }
            })
            .attr("d", d3.svg.diagonal())
            .attr("marker-mid","url(#MidMarker)");

        //make the connections to the BAP
        var linksToBAP = [];
        nodesNonState.forEach(function(node) {

            if ( (node.isDistrictBankruptcyCourt)
                 &&
                (node.parent.parent.hasBAP)) {

                var link = {};
                link.source = node;
                link.target = node.parent.parent.theBAP;

                node.multipleParents = [];
                node.multipleParents.push(node.parent.parent.theBAP);
                //let comment handle this... node.multipleParents.push(node.parent);
                node.multipleParentsComment = "Note that since there is a Bankruptcy Appellate Panel (BAP) for this circuit, " +
                                                "the BAP will hear appeals unless one of the parties makes an " +
                                                "<a target='_blank' href='http://en.wikipedia.org/wiki/Bankruptcy_Appellate_Panel#Procedures'>election</a> to have the appeal heard by the district court " +
                                                ", (which is the " + node.parent.name  + "). " +
                                                "See <a target='_blank' href='http://www.uscourts.gov/FEDERALCOURTS/UNDERSTANDINGTHEFEDERALCOURTS/CourtofAppeals/BankruptcyAppellatePanels.aspx'>here</a> for more info."
                linksToBAP.push(link);

            }


        });

        svg.selectAll(".linkToBAP")
            .data(linksToBAP)
            .enter().append("path")
            .classed("linkToBAP",true)
            .classed("link",true)
            .classed("hideWhenFedCirMouseover",true)
            .classed("hideWhenTaxCourtMouseover",true)
            .attr("d", d3.svg.diagonal());



        var theNodes = svg.selectAll(".node")
                            .data(nodesNonState);


        var theNodesHtml = htmlArea.selectAll(".nodeHtml")
                                        .data(nodesNonState);


        var theNodesHtmlImage = htmlArea.selectAll(".nodeImage")
            .data(nodesNonState);

        var theNodesWritBox = htmlArea.selectAll(".nodeWritBox")
            .data(nodesNonState);

        var theNodesEnter = theNodes.enter();
                            //.attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; });


        //move depth 2 down here

        var districtCourtWritBox;

        //used for placement of titles
        var yValue = {};
        theNodesEnter.append("circle")
            .filter(function(d) {
                //&& d.citation !== "SCOTUS"
                return (!d.isWritbox)  && isUndefined(d.seal);
            })
            .attr("class", "node")
            .classed("isBAP", function(d) {return isDefined(d.isBankruptcyPanel) && d.isBankruptcyPanel})
            .classed("isBankruptcyCourt", function(d) {return isDefined(d.isDistrictBankruptcyCourt) && d.isDistrictBankruptcyCourt})
            .classed("hideWhenFedCirMouseover",function(d) {return isDefined(d.isDistrictBankruptcyCourt) && d.isDistrictBankruptcyCourt})
            .classed("hasQtip",true)
            .classed("hideWhenTaxCourtMouseover","true")
            .attr("citation", function(d) {return d.citation;})
            .attr("r", function(d)  { return 4;})
            .attr("cx", function(d) {
                                        if (d.isWritbox) {
                                            districtCourtWritBox = d;
                                        }
                                        return d.x;
                                    })
            .attr("cy", function(d) {
                                        //console.log(d);
                                        if (isDefined(d.jurisdiction)) {
                                            yValue[d.jurisdiction] = d.y;
                                        }
//                                        if (d.depth===2) {
//                                            return d.y + 25;
//                                        }
//                                        else {
                                            return d.y;// + 40;
//                                        }
                                    });
            //.on("mouseenter", mouseEnterCircle);
            //.on("mouseleave", mouseLeaveCircle)

        //console.log(nodesNonState);

            var nodeRadius = 4;
            theNodesHtmlImage.enter().append("div")
                .filter(function(d) {
                    return (  (d.citation != supremeCourt.citation)) &&
                            (  (  (d.jurisdiction==="Federal District") ||
                                  (d.specialCourtThatAppealsToFederalCourtOfAppeals===true)
                                )
                                ||
                                (   (d.jurisdiction!="Federal Appellate")
                                     &&
                                     (isDefined(d.seal))
                                    )
                            );
                })
                .attr("class","districtCourtImageNode")
                .classed("hideWhenTaxCourtMouseover","true")
                .attr("citation", function(d) {return d.citation;})
                .classed("hasQtip",true)
                //.attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {return d.citation;})
                .style("position","absolute")
                .style("width",function(d) {
                    if (d.jurisdiction!=="Federal Appellate") {
                        return (2*nodeRadius) + "px";
                    }
                    else {
                        return 0;
                    }})
                //.style("height",(2*nodeRadius) + "px")
                //.style("border-radius", (3*nodeRadius) + "px")
                //.style("background","none")
                .style("left", function(d) {
                    return (-nodeRadius + d.x - 0) + "px";
                })
                .attr("originalLeft", function(d) {
                    return (-nodeRadius + d.x - 0);
                })
                .style("top", function(d) {
                    return (-nodeRadius + d.y) + "px";
                })
                .attr("originalTop", function(d) {
                    return ( -nodeRadius +  d.y);
                })
                .html(function(d) {
                    //console.log(d);
                    //console.log("hello"=="hello");
                    //console.log(d.jurisdiction);
                    //console.log(d.jurisdiction.length);
                    //console.log(d.jurisdiction.toLowerCase() === "Federal Appellate".toLowerCase());
                    if (d.jurisdiction!=="Federal Appellate") {
                        var s = "<div class='circlediv' " + attributeNameForHighlightingCourtDuringPlayback + "='" + d.citation + "' " +
                                "style='position:absolute;border-radius:" + (2*nodeRadius) + "px; width:" + (2 * nodeRadius) + "px;height:" + (2 * nodeRadius) + "px;z-index:5001;'></div>";
                        return   s + getThumbDivForSeal(d, 2 * nodeRadius, 2 * nodeRadius);
                    }
                    else {
                        return "";
                    }
                });


//        //not sure if I will use this
//        function shrinkBackEnlargedSeals() {
//
//            that.anyEnlargedSeals.forEach(function(obj) {
//                //var obj = d3.select(this);
//                var left = obj.attr("originalLeft");
//                var top = obj.attr("originalTop");
//
//                obj.transition().duration(200)
//                    .attr("width",8).style("z-index","2000")
//                    .style("left",(left - 0) + "px")
//                    .style("top",(top - 0) + "px");
//            });
//        }


        var certMessage = "Nearly all cases come before the Supreme Court by way of petitions for writs of certiorari, commonly referred to as 'cert'.";
        certMessage += "The Supreme Court will usually receive about 7000 petitions every year, but decide to hear only about 100 ";
        certMessage += "(<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>Wikipedia</a>).";

        var certMessageFederal = "Nearly all cases come before the Supreme Court by way of petitions for writs of certiorari, commonly referred to as 'cert'.";
        certMessage += "The Supreme Court will usually receive about 7000 petitions every year, but decide to hear only about 100 ";
        certMessage += "(<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>Wikipedia</a>).";

        var writBoxXShift = 75;
        theNodesWritBox.enter().append("div")
            .filter(function(d) {
                //console.log(d.isWritbox);
                return (d.isWritbox);
            })
            .attr("class","writCertioriBox")
            .style("width","160px")
            .style("left", function(d) {
                        return (d.x - writBoxXShift) +"px"
            })
            .style("top", function(d) { //console.log(d.y + 50);
                                        return (d.y - 20) +"px";})
            .classed("hasQtip",true)
            .attr("title","writs of certiorari from Federal Courts")
            .attr("tooltip",certMessageFederal)
            .attr("id","labelPetitionsFederal")
            .html("<div class='boxForMainCourtType'>Federal</div>" +
                    "petitions for " +
                     "<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>writs of certiorari</a>");
                    //+"<br/>from Federal Appeals Courts");




        function mouseEnterCircle() {


            var obj = d3.select(this);
            var currentR = obj.attr("r");
            var citation = obj.attr("citation");
            obj.classed("isExpanded",true);
            var theCourt = courtsByCitation[citation];
            shrinkExpandedNodesButThisOne(theCourt);

            //that.nodesExpanded.push(obj);
            //obj.attr("currentR",currentR);

            obj.transition().duration(300).attr("r",6).style("fill","red");

        }

        function shrinkBackNodeForCourt(theCourt) {
            shrinkExpandedNodesButThisOne();

            //var node = d3.select(".node[citation='" + theCourt.citation + "']");
            //console.log(node);
            //shrinkBackNode(node);
        }

        function shrinkBackNode(node) {
            //onsole.log("shrinkBackNode");
            //var currentR = node.attr("currentR");
            //var citation = node.attr("citation");
            //if (isDefined(currentR)) {
            if (isDefined(node)) {
                node.attr("r", 4);
                //node.style("fill", "blue");
                //node.transition().duration(300).attr("r",4).style("fill","blue");
                //}
            }
        }

        function closeAllTips() {
            console.log("closeAllTips");
            //$('.qtip').remove();
            $('div.qtip:visible').qtip('hide');
            //$('div.qtip:visible').remove();
        }

        function shrinkExpandedNodesButThisOne(theCourt) {

            //onsole.log("shrinkAnyExpandedNodes");

            var theOnes = d3.selectAll(".node").attr("r",4); //.style("fill","blue");
            //closeAllTips();
            return;
            theOnes.forEach(function(node){
                var citation = node.citation;
                if ( (isUndefined(theCourt) ) || (  isDefined(citation) && (citation !== theCourt.citation))) {
                    //console.log(node);
                    shrinkBackNode(node);
                    //node.classed("isExpanded",false);
                }
            });
        }


        var divWidth = 50;
        var scotusX;
        var scotusY;
        var scotusTop;

        var appealsFedCircuit = {};

        theNodesHtml.enter().append("div")
            .filter(function(d) {
                return isDefined((d.displayName));
            })
            .attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {
                //only do the SCOTUS div at the moment
                if (d.citation === "SCOTUS") {
                    return d.citation;
                }
            })
            .attr("class",function(d) {
                if (d.citation === "SCOTUS") {
                    return "scotusNameDiv"
                }
                else {
                    return "absDiv";//shortNameDiv"
                }
            })
            .style("left",function(d) {
                if (d.citation === "SCOTUS") {

                    scotusX = d.x;
                    return (-5 +  d.x - 140 / 2).toFixed(0) + "px";

                }
                else if (d.citation === courtOfAppealsFederalCircuit.citation) {
                    appealsFedCircuit.x = d.x;
                    return (-5 +  d.x - divWidth / 2).toFixed(0) + "px";
                }
                    else
                {
                    return (-5 +  d.x - divWidth / 2).toFixed(0) + "px";
                }
                 })
            .style("top",function(d) {
                //console.log(d);
                if (d.citation === "SCOTUS") {
                    //console.log(d);
                    scotusY = d.y;
                    scotusTop = d.y - 40;
                    return scotusTop + "px";

                }
                else if (d.depth == -11) {
                    appealsFedCircuit.y = d.y;
                    return ( d.y + 80) + "px";
                }
                else if (d.citation === courtOfAppealsFederalCircuit.citation) {
                    appealsFedCircuit.y = d.y;
                    return ( d.y - 40) + "px";
                }
                else {
                    return ( d.y - 40) + "px";
                    //return (margin.top + height*fractionOfHeightForTopPart - d.y - 20) + "px";
                }
            })
            .attr("id", function(d) {
                if (d.citation===supremeCourt.citation) {
                    return "scotusMainDiv";
                }
                else {
                    return "div_" + d.citation; //not used yet
                }
            })
            .classed("hasQtip",true)
            .attr("citation",function(d) {return d.citation;})
            .style("iwidth",function(d) { if (d.citation === "SCOTUS") {
                                                return 76 + "px";
                                            } else if (d.displayName) {
                                                return divWidth + "px";}
                                            else {
                                                return "0";
                                            }
                                        })
            .html(function(d) { if (d.displayName) {    //console.log(d.shortNameHtml);
                if (d.citation == "SCOTUS") {
                    //console.log(d);
                    var s = "<table>";
                    s += "<tr><td style='vertical-align:middle;'>Supreme<br/>Court</td>";
                    if (isDefined(d.seal)) {
                        //s += "<td><img src='" + SEAL_DIR + "/" + d.seal + "' width='80'></td>";
                        s += "<td>";
                        s += "<div style='z-index:2000;position:relative;width:90px;height:90px;' class='sealAndJudges' citation='" + d.citation + "'>";
                        s += "<img style='padding-top:10px;' src='" + SEAL_DIR + "/" + d.seal + "' width='70'>";
                        s += "</td>";
                        //console.log(s);
                    }
                    s +="</tr></table>";
                    s += "<div id='whereInPlaybackWeAre'></div>";
                    return s;
                }
                else {
                    var s = "<div style='margin-bottom:0px;' " + attributeNameForHighlightingCourtDuringPlayback + "='" + d.citation + "' class='showCourtShortName'>" + d.shortNameHtml + "</div>";
                    //console.log(d);
                    if (isDefined(d.seal)) {
                        s += "<div style='z-index:2000;position:relative;width:60px;height:60px;' class='sealAndJudges' citation='" + d.citation + "'>";
                        s += "<img style='padding-top:8px;' src='" + SEAL_DIR + "/" + d.seal + "' width='44'>";
                        //console.log(s);
                        s += "</div>";
                    }
                    return s;
                }
                }
                else
                    {
                        return "";
                    }
                 })
            .on("mouseenter", function() {
                if (d3.select(this).attr("citation")===courtOfAppealsFederalCircuit.citation) {

                    d3.selectAll(".hideWhenFedCirMouseover").transition().duration(200)
                        .style("opacity",0.06);

                    d3.selectAll(".showWhenFedCirMouseover").transition().duration(200)
                        .style("opacity",1);

                }
            })
            .on("mouseleave", function() {
                    if (d3.select(this).attr("citation")===courtOfAppealsFederalCircuit.citation) {

                        d3.selectAll(".hideWhenFedCirMouseover").transition().duration(200)
                            .style("opacity",1);

                        d3.selectAll(".showWhenFedCirMouseover").transition().duration(200)
                            .style("opacity",0.0001);

                    }
                });


        //do SC judges separately - combine later if makes sense
        citation = supremeCourt.citation;
        var theSvg = d3.select(".sealAndJudges[citation='" + citation + "']")
            .insert("svg",":first-child")
            .style("width","100%")
            .style("height","100%")
            .style("left",0)
            .style("top",0)
            .style("z-index","-1")
            .style("position","absolute");

        theSvg.append("circle")
            .attr("cx","45")
            .attr("cy","45")
            .attr("r","45")
            .style("stroke","#dedede")
            .style("fill","white");

        //make circles for the judges
        var thisCourt = judgesGroupedByCitation[citation];
        var theChief = thisCourt.chiefJustice;
        console.log(theChief.nominatedBy.party.toLowerCase());
        theSvg.append("circle")
            .attr("cx","45")
            .attr("cy","5")
            .attr("r","5")
            .classed("party_" + theChief.nominatedBy.party.toLowerCase() ,true)


        var theRepublicans = thisCourt.activeByParty["r"];
        var theDemocrats = thisCourt.activeByParty["d"];

        var theParties = [theRepublicans, theDemocrats];

        theParties.forEach(function(p) {

            var k = 0;
            p.forEach(function(j){

                var party = j.nominatedBy.party.toLowerCase();

                k++;
                if (party==="r") {
                    var angle_degrees = 90 - 15*(k) - 8;
                }
                else {
                    var angle_degrees = 90 + 15*(k) + 8;
                }

                var angle_radians = angle_degrees * Math.PI/180;

                var cx = 0 + 45 + 40 * Math.cos(angle_radians);
                var cy = 0 + 45 - 40 * Math.sin(angle_radians);

                theSvg.append("circle")
                    .attr("cx",cx)
                    .attr("cy",cy)
                    .attr("r","4")
                    .classed("party_" + party ,true);

            });



        });

        for (var i=1;i<14;i++) {
            var citation = caCitation[i];

                //console.log(citation);
                var theSvg = d3.select(".sealAndJudges[citation='" + citation + "']")
                    .insert("svg",":first-child")
                    .style("width","100%")
                    .style("height","100%")
                    .style("left",0)
                    .style("top",0)
                    .style("z-index","-1")
                    .style("position","absolute");

                theSvg.append("circle")
                    .attr("cx","30")
                    .attr("cy","30")
                    .attr("r","30")
                    .style("stroke","#dedede")
                    .style("fill","white");

                //make circles for the judges
                var thisCourt = judgesGroupedByCitation[citation];
                var theChief = thisCourt.chiefJustice;
                //console.log(theChief.nominatedBy.party.toLowerCase());
                theSvg.append("circle")
                    .attr("cx","30")
                    .attr("cy","4")
                    .attr("r","4")
                    .classed("party_" + theChief.nominatedBy.party.toLowerCase() ,true)


                var theRepublicans = thisCourt.activeByParty["r"];
                var theDemocrats = thisCourt.activeByParty["d"];

                var theParties = [theRepublicans, theDemocrats];

                theParties.forEach(function(p) {

                    var k = 0;
                    p.forEach(function(j){

                            var party = j.nominatedBy.party.toLowerCase();

                            k++;
                            if (party==="r") {
                                var angle_degrees = 90 - 6*(k+2);
                            }
                            else {
                                var angle_degrees = 90 + 6*(k+2);
                            }

                            var angle_radians = angle_degrees * Math.PI/180;

                            var cx = 0 + 30 + 26 * Math.cos(angle_radians);
                            var cy = 0 + 30 - 26 * Math.sin(angle_radians);

                            theSvg.append("circle")
                                .attr("cx",cx)
                                .attr("cy",cy)
                                .attr("r","2")
                                .classed("party_" + party ,true);

                        });



                });

        }

//        if (true) {
//            svg.append("line")
//                .attr("class", "scotusAppealsEndLine")
//                .attr("x1", scotusX)
//                .attr("y1", scotusY + 4)
//                .attr("x2", scotusX)
//                .attr("y2", scotusY  + 0)
//                .attr("marker-end", "url(#endMarker)");
//        }


        //see about showing the judge info




        var certMessage = "Nearly all cases come before the Supreme Court by way of petitions for writs of certiorari, commonly referred to as 'cert'.";
        certMessage += "The Supreme Court will usually receive about 7000 petitions every year, but decide to hear only about 100 ";
        certMessage += "(<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>Wikipedia</a>).";
//        htmlArea.append("div")
//            .attr("class","writCertioriBox")
//            .style("left",(scotusX - 35)+"px")
//            .style("top",(scotusY + 90)+"px")
//            .classed("hasQtip",true)
//            .attr("title","writs of certiorari")
//            .attr("tooltip",certMessage)
//            //.style("width",100+"px")
//            //.style("height",20+"px")
//            .html("petitions for <br/><a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>writs of certiorari</a>");
//
//        htmlArea.append("div")
//            .attr("class","writCertioriBox")
//            .classed("hasQtip",true)
//            .attr("title","writs of certiorari")
//            .attr("tooltip",certMessage)
//            .style("left",(scotusX - 35)+"px")
//            .style("top",(scotusY - 45)+"px")
//            //.style("width",100+"px")
//            //.style("height",20+"px")
//            .html("petitions for <br/><a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>writs of certiorari</a>");


        //draw a box where writs for SC go for Appeals


        //console.log(yValue["Federal District"]);
        if (false) {
            htmlArea.append("div")
                .attr("class", "sideTitle")
                .style("top", (35 + yValue["Federal District"]) + "px")
                .style("right", "35px")
                .html("Federal<br/>District<br/>Courts");
        }
        //create the titles on the side


        //add federal appeals court at bottom

        //courtOfAppealsFederalCircuit
        //var xForFederalCircuit = width/2;
        //var yForFederalCircuit = height - 100;

        if (true) {
            var federalDistrictNodes = nodesNonState.filter(function (d) {
                return (d.depth == 3) && isDefined(d.jurisdiction) && (d.jurisdiction.toLowerCase().indexOf('bank') < 0);

                //I don't know why this is not working
//            if  (isDefined(d.jurisdiction) && (d.jurisdiction=="Federal District")) {
//
//                return true;
//            }
//            else {
//
//
//                if (isDefined(d.jurisdiction)) {
//                    var i;
//                    for (i=0;i< d.jurisdiction.length;i++) {
//                        console.log(d.jurisdiction.substr(i,1));
//                    }
//                    console.log(d.jurisdiction.trim() == "Federal District".trim());
//                }
//                console.log("'" + d.jurisdiction + "'");
//                console.log("'" + d.jurisdiction + "'" + ", " + "Federal District");
//                console.log('Federal District' == "Federal District");
//                //console.log(d.jurisdiction.trim() == "Federal District".trim());
//                console.log(d);
//                return false;
//
//            }
            });

            var otherLinks = []
            var parentNode = {x: appealsFedCircuit.x, y: appealsFedCircuit.y +400};

            var linesData = [];

            var yShiftForLineForAppealsToFederalCircuit = 120;
            federalDistrictNodes.forEach(function (fdNode) {

                //console.log(fdNode);
                otherLinks.push({source: parentNode, target: fdNode});

//                var lineData = [
//                    {x: fdNode.x, y: fdNode.y}
//                    ,
//                    {x: appealsFedCircuit.x, y: fdNode.y}
//                    , {x: appealsFedCircuit.x, y: appealsFedCircuit.y +125}
//                    ];


                var lineData = [
                    {x: fdNode.x, y: fdNode.y},
                    {x: fdNode.x, y: appealsFedCircuit.y +yShiftForLineForAppealsToFederalCircuit},
                    {x: appealsFedCircuit.x, y: appealsFedCircuit.y +yShiftForLineForAppealsToFederalCircuit}
                ];



                //,
                //{x: appealsFedCircuit.x,y: appealsFedCircuit.y +300}

                linesData.push(lineData);

            });

            var lineFunction = d3.svg.line()
                .x(function (d) {
                    return d.x;
                })
                .y(function (d) {
                    return d.y;
                })
                .interpolate("basis");

            if (true) { //hide for the moment while looking at bankruptcy stuff May 11
                svg.selectAll(".pointToFederalCircuit")
                    .data(linesData)
                    .enter()
                    .append("path")
                    .attr("class", "pointToFederalCircuit")
                    .classed("showWhenFedCirMouseover",true)
                    .style("opacity",0)
                    .attr("d", function (d) {
                        return lineFunction(d);
                    })
                    .attr("stroke", "black")
                    .attr("stroke-width", "0.4")
                    //.attr("stroke-dasharray", "5 5")
                    .attr("fill", "none");
                //.attr("marker-end", "url(#endMarker)");
            //this is if Fed Cir is in middle
//            var lineData = [
//                {x: appealsFedCircuit.x, y: appealsFedCircuit.y + 140}
//                ,
//                {x: appealsFedCircuit.x, y: appealsFedCircuit.y + 40}
//                ,
//                {x: appealsFedCircuit.x, y: appealsFedCircuit.y}
//            ];

            //this for when Fed Cir is on the right
            var lineData = [
                {x: appealsFedCircuit.x, y: appealsFedCircuit.y + yShiftForLineForAppealsToFederalCircuit} //125}
                ,
                {x: appealsFedCircuit.x, y: appealsFedCircuit.y + 40}
                ,
                {x: appealsFedCircuit.x, y: appealsFedCircuit.y}
            ];


            var linkToFedAppealsNote = "In some cases, appeals are heard by the Court of Appeals for the Federal Circuit instead of the District Appellate court.";
            svg.append("path")
                .attr("d", lineFunction(lineData))
                .attr("stroke", "#777")
                .attr("stroke-width", "1")
                .attr("fill", "none")
                .classed("hasQtip",true)
                .classed("linkToFedAppeals",true)
                .classed("showWhenFedCirMouseover",true)
                .style("opacity",0)
                .attr("title","Appeals to Court of Appeals for the Federal Circuit")
                .attr("tooltip",linkToFedAppealsNote)
                .attr("marker-mid", "url(#endMarker)");

            }


            //manually add things for the state nodes across the top

            //console.log(stateNodes);

            //53 at the moment alert(stateNodes.length);

            //need to set up things relative to where the Supreme Court ended up

            console.log("height: " + height);
            var o = {
                size: [width, height/2],
                xold: function(d) { return scotusX +  0.95*(d.x-width/2); },
                ignorex: function(d) {
                    var theX = d.x - (statesWritBox.x  - appealsWritBox.x);
                    d.shiftedX = theX;
                    return theX; }, //d.x - (statesWritBox.x  - appealsWritBox.x); },
                ignorey: function(d) {
                    //console.log(d);

                    //console.log(scotusY);
                    //console.log(d);
                    //if (isUndefined(d.depth)) {
                    //    console.log(d);
                    //}
                    //this setting of "initial" is why it's messing u
                    //  when the height of the window is large
                    var initial = scotusY - d.y/4 - 60;
                    // May 16, 2014 var r = 1900;
                    var r = 1.8*that.$mainWindow.width();

                    //if (d.depth>1) {
                    //    r = 1000;
                    //}


                    var c = (d.x - width / 2);
                    c = c * c;
                    var theY = initial + 0.5 * (r - Math.sqrt(r * r - c));
                    //node.y = node.y - (r - Math.sqrt(r*r - c));
                    d.shiftedY = theY;

                    //console.log(d);


                    return theY; //initial + 0.5 * (r - Math.sqrt(r * r - c));
                }
            };


            var tree = d3.layout.tree()
                            .size(o.size);

            var scotusForStateNodes = {depth:0, children:[]};
            var statesWritBox = {name:"petitions for writs"
                , html:appealsWritBox.html
                , isWritbox:true
                , isCourt:false
                , depth:1
                , citation:"statesWritBox"
                , children:[]};

            scotusForStateNodes.children.push(statesWritBox);


            statesWritBox.children = stateNodes;
            stateNodes.forEach(function(node) {
                node.parent = statesWritBox;
                if (node.children.length===0) {
                    node.children.push({name:"",isDummy:true});
                    node.children.push({name:"",isDummy:true});
                }

                if (isUndefined(node.parent)) {
                    console.log(node);
                }
            });

            var treeStates = tree.nodes(scotusForStateNodes);
            treeStates = treeStates.filter(function(node) {
                return (!isDefined(node.isDummy));
            });

            that.treeStates = treeStates;
            //var stateCourtWritBox =


            console.log(width/2 + ", " + scotusX + ", " + rootCourt.x  + ", " + scotusForStateNodes.x);

            var getStateBaseY = function (nodeDepth) {

                if (nodeDepth === 0 ) {
                    return scotusY ;
                }
                else if (nodeDepth===1) {
                    return (getStateBaseY(0) - 75);// + 0.5*(r - Math.sqrt(r*r - c*c));
                }
                else if (nodeDepth===2) {

                    var amountAvailable = getStateBaseY(1); // -10 + (height/2) - getBaseY(1);
                    //return (getBaseY(1) - 60);// + 0.5*(r - Math.sqrt(r*r - c*c));
                    return getStateBaseY(1) - amountAvailable/2; //(getBaseY(1) - (height/2);// + 0.5*(r - Math.sqrt(r*r - c*c));
                }
                else if (nodeDepth===3) {
                    var amountAvailable =  getStateBaseY(2);
                    return (getStateBaseY(2) - amountAvailable/2);// + 0.5*(r - Math.sqrt(r*r - c*c));
                }
            }



            //adjust the locations of the nodes...
            treeStates.forEach(function(node) {

                node.x =   node.x + (width/2 - scotusForStateNodes.x); // + (rootCourt.x - scotusForStateNodes.x);

                if (node.depth >= 0) {

                    node.originalY = node.y;

                    //see about being smarter about this May 16, 2016 var r = 2000;

                    var r = 1.8*that.$mainWindow.width();

                    var maxYChange = function(w) {

                        var c = 1.25* w/2;
                        return  0.5*(r - Math.sqrt(r*r - c*c));
                    };

                    var c = (node.x - width/2);
                    //node.y = node.y + 0.5*(r - Math.sqrt(r*r - c));

                    if (node.depth === 0 ) {
                        //node.y += 25;
                        node.y = getStateBaseY(node.depth);
                        //node.y = height/2 - 50; //height - (maxYChange(width) + 50 + 30 + 60 + 80 + 80) + 0.5*(r - Math.sqrt(r*r - c*c));
                    }
                    if (node.depth === 1 ) {
                        node.y = getStateBaseY(node.depth) + 0.5*(r - Math.sqrt(r*r - c*c));;
                        //node.y = height - (maxYChange(width) + 50 + 30 + 60 + 80) + 0.5*(r - Math.sqrt(r*r - c*c));
                    }
                    if (node.depth === 2 ) {
                        //node.y += 50;
                        node.y = getStateBaseY(node.depth) + 0.5*(r - Math.sqrt(r*r - c*c)); //height - (maxYChange(width) + 50 + 30 + 60) + 0.5*(r - Math.sqrt(r*r - c*c));
                    }
                    if (node.depth === 3 ) {
                        //node.y += 100;
                        //node.y = height - (maxYChange(width) + 50 + 30) + 0.5*(r - Math.sqrt(r*r - c*c));
                        node.y = getStateBaseY(node.depth) + 0.5*(r - Math.sqrt(r*r - c*c)); //height - (maxYChange(width) + 50 + 30 + 60) + 0.5*(r - Math.sqrt(r*r - c*c));
                    }
                    if (node.depth === 4 ) {
                        //console.log("maxYChange: " + maxYChange(width));
                        //node.y = height - (maxYChange(width) + 50) + 0.5*(r - Math.sqrt(r*r - c*c));
                        node.y = getStateBaseY(node.depth) + 0.5*(r - Math.sqrt(r*r - c*c)); //height - (maxYChange(width) + 50 + 30 + 60) + 0.5*(r - Math.sqrt(r*r - c*c));
                        //node.y = height - (maxYChange(width) + 10);
                    }

                    //var center = {};
                    //center.x = width/2;
                    //center.y = -200;

                    //var r = Math.sqrt( (width/2)*(width/2) + center.y * center.y);

                }
                if (node.depth>0) {
                    if (node.citation !== courtOfAppealsFederalCircuit.citation) {
                        //node.x = node.x - 20;
                    }

                }


            });



            var theNodesTreeStates = svg.append("g")
                                        .selectAll(".node")
                                        .data(treeStates);

            var theStateNodesWritBox =  htmlArea
                                            .selectAll(".stateNodeWritBox")
                                            .data(treeStates);

            var theStateNodesHtmlImages =  htmlArea
                .selectAll(".stateNodeImage")
                .data(treeStates);



            var nodeRadius = 4;
            var theStateNodesEnter = theNodesTreeStates.enter();
            theStateNodesEnter.append("circle")
                .filter(function(d) {
                    //console.log(d)
                    return d.depth>2 && (isUndefined(d.seal)); //d.citation !== "SCOTUS";
                })
                .attr("class", "node")
                .classed("hasQtip",true)
                .attr("citation", function(d) {return d.citation;})
                .attr("r", function(d)  { return nodeRadius;})
                .attr("cx", function(d) {
                    return d.x;
                })
                .attr("cy", function(d) {
                    return d.y;
                })

//        .attr("cx", o.x)
//                .attr("cy", o.y);

            var hoverImageWidth = 100;
            //.append("img")
            theStateNodesHtmlImages.enter()
                .append("div")
                .filter(function(d) {
                    return false && (isDefined(d.seal));
                })
                .attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {return d.citation;})
                .attr("class","stateCourtImageNode")
                .classed("stateNodeImage",true)
                .attr("citation", function(d) {return d.citation;})
                .classed("hasQtip",true)
                .style("position","absolute")
                .style("left", function(d) {
                    return (-nodeRadius + d.x - 0) + "px";
                })
                .attr("originalLeft", function(d) {
                    return (-nodeRadius + d.x - 0);
                })
                .style("top", function(d) {
                    return (-nodeRadius + d.y) + "px";
                })
                .attr("originalTop", function(d) {
                    return ( - nodeRadius+ d.y);
                })
                .attr("border","2")
                .attr("width",2*nodeRadius)
                .attr("src",function(d) {
                    return SEAL_DIR + "/" + d.seal;
                })
                .html(function(d) {
                    return getThumbDivForSeal(d,8,8);
                });

            theStateNodesHtmlImages.enter()
                .append("div")
                .filter(function(d) {
                    return d.depth===2;
                })
                .attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {return d.citation;})
                .attr("class","stateCourtLabelNode")
                .attr("citation", function(d) {return d.citation;})
                .classed("hasQtip",true)
                .style("position","absolute")
                .style("left", function(d) {
                    return (-2*nodeRadius + d.x - 0) + "px";
                })
                .style("top", function(d) {
                    return (-2*nodeRadius + d.y) + "px";
                })
                .attr("border","2")
                .attr("width",2*nodeRadius)
                .attr("src",function(d) {
                    return SEAL_DIR + "/" + d.seal;
                })
                .html(function(d) {
                    return d.stateAbbrev;
                });



            //}

//                .on("mouseenter", function() {
//                    return;
//
//                    var obj = d3.select(this);
//                    var left = obj.attr("originalLeft");
//                    var top = obj.attr("originalTop");
//                    obj.style("z-index","10000").transition().duration(200)
//                        .attr("width",hoverImageWidth)
//                        .style("left",(left - (hoverImageWidth-2*nodeRadius)/2) + "px")
//                        .style("top",(top - (hoverImageWidth-2*nodeRadius)/2) + "px");
//
//                })
//                .on("mouseleave", function() {
//                    return;
//
//                    var obj = d3.select(this);
//                    var left = obj.attr("originalLeft");
//                    var top = obj.attr("originalTop");
//
//                    obj.transition().duration(200)
//                        .attr("width",2*nodeRadius).style("z-index","2000")
//                        .style("left",(left - 0) + "px")
//                        .style("top",(top - 0) + "px");
//
//                });

            var stateLinks = tree.links(treeStates);
            stateLinks.forEach(function(l)  {
                //console.log(l.source.depth + ", " + l.target.depth);
                //console.log(l.target.depth);
               if (isUndefined(l.target.depth) || isUndefined(l.source.depth)) {
                   console.log(l); //.target.depth + ", " + l.source.depth);
               }
            });
            //console.log(links);

            //alert("What is going on? weird no-deth oink here...");

            svg.append("g").selectAll(".link")
                .data(stateLinks)
                .enter()
                .append("path")
                .filter(function(l) {
                    //console.log(l);
                    return ! (isDefined(l.source.isDummy) || isDefined(l.target.isDummy)); //d.citation !== "SCOTUS";
                })
                .classed("link",true)
                .classed("lightlink",true)
                .attr(attributeNameForHighlightingLinkDuringPlayback,function(link) {
                    return link.target.citation;
                })
                .attr("d", d3.svg.diagonal()) //.projection(function(d) {
                                              //                        //console.log("link...");
                                              //                          //console.log(d);
                                              //                          //console.log([o.x(d), o.y(d)]);
                                              //                          return [o.x(d), o.y(d)];
                                              //                      }))
                .attr("marker-mid","url(#MidMarker)");


            var certMessageState = "Nearly all cases come before the Supreme Court by way of petitions for writs of certiorari, commonly referred to as 'cert'.";
            certMessageState += "The Supreme Court will usually receive about 7000 petitions every year, but decide to hear only about 100 ";
            certMessageState += "(<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>Wikipedia</a>).";

            theStateNodesWritBox.enter().append("div")
                .filter(function(d) {
                    //console.log(d.isWritbox);
                    return (d.isWritbox);
                })
                .attr("class","writCertioriBox")
                .style("width","160px")
                .style("left", function(d) {
                    //console.log(statesWritBox.shiftedX);
                    //return (statesWritBox.shiftedX - writBoxXShift) +"px"
                    //return (statesWritBox.shiftedX - writBoxXShift) +"px"
                    return (d.x - writBoxXShift) +"px"

                })
                .style("top", function(d) {
                    console.log(statesWritBox.shiftedY);
                    //return (statesWritBox.shiftedY + 50) +"px";})
                    return (statesWritBox.y - 15) +"px";})
                .classed("hasQtip",true)
                .attr("title","writs of certiorari from <a href='http://en.wikipedia.org/wiki/Court_of_last_resort' " +
                            "  target='_blank'>State Courts of last Resort</a>")
                .attr("tooltip",certMessageState)
                .attr("id","labelPetitionsState")
                .html("<div class='boxForMainCourtType'>State</div>" +
                    "petitions for " +
                    "<a target='_blank' " +
                            "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
                            "writs of certiorari</a>"); // +
                            //"<br/> from <a href='http://en.wikipedia.org/wiki/Court_of_last_resort' " +
                            //"  target='_blank'>State Courts of last Resort</a>");

                //    "<a target='_blank' href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>writs of certiorari</a>");
                //
                //.html("petitions for <a target='_blank' " +
                //            "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
                //            "writs of certiorari</a>" +
                //            "<br/> from <a href='http://en.wikipedia.org/wiki/Court_of_last_resort' " +
                //            "  target='_blank'>State Courts of last Resort</a>");


        //label across the top
        /* not working
        var baseYForAppellateCourts = getStateBaseY(3);


        var svgStateAppellate = theSvg.append("g");
        var r = 1.8*that.$mainWindow.width()/10;
        theta1 =  Math.PI/2 +  Math.atan2(width/2,r);
        theta2 = Math.PI/2;

        //console.log(theta1 * 180/Math.PI);

        var arc = d3.svg.arc().innerRadius(r)
            .outerRadius(r+1)
            .startAngle(theta1)
            .endAngle(theta2);

            svgStateAppellate.append("defs")
            .append("path")
            .attr("d", arc)
            .attr("id","arcForAppellateCourt")
            .attr("transform","translate(" + 500 + ", " + 100 + ")");

        svgStateAppellate.append("text")
                .style("font-size","14px")
                .append("textPath")
                .attr("xlink:href","#arcForAppellateCourt")
                .text("State Appellate Courts");
        */
//        svg.append("use")
//            .attr("xlink:href", "#arcForAppellateCourt")
//            //.style("stroke", "black")
//            .style("fill", "none");


//            var maxYChange = function(w) {
//                var c = 1.25* w/2;
//                return  0.5*(r - Math.sqrt(r*r - c*c));
//            };


            var maxYChange = function(w,r) {
                var c = 1.25* w/2;
                return  0.5*(r - Math.sqrt(r*r - c*c));
            };

            var r = 1.8*width; //that.$mainWindow.width();
            var startY = getStateBaseY(3);
            var maxY = maxYChange(width/2,r);

            //console.log(maxY);

            that.labelStateAppellateCourts =
                htmlArea.append("div")
                .style("position","absolute")
                .style("left","-48px")
                .style("ignorefont-weight","bold")
                .style("top",(margin.top +  maxY/2) + "px")
                .style("font-size","10px")
                .classed("hasQtip",true)
                .attr("id","labelStateAppellateCourts")
                .attr("title","State Appellate Courts")
                .attr("tooltip","Shown here are the appellate courts for each state. " +
                        "In some cases, there are one or more <a target='_blank' href='http://en.wikipedia.org/wiki/Appellate_court'>Intermediate Appellate Courts</a>," +
                        "and in some cases a state may have more than one <a target='_blank' href='http://en.wikipedia.org/wiki/Court_of_last_resort'>Courts of Last Resort</a> " +
                        "(in those cases, there is usually one for civil and one for criminal appeals; also they might not be referred to as a \"supreme court\")."
                        )
                .html("<a target='_blank' href='http://en.wikipedia.org/wiki/Appellate_court#United_States'>State<br/>Appellate<br/>Courts</a>");

            var startYNonState = getNonStateBaseY(3);
            var r = getRadiusNonState();
            maxY = maxYChange(width/2,r);

            //var theY = maxYNonState[3] - 10;
            var theY = minYNonState[3] - 10;

            that.labelDistrictCourts = htmlArea.append("div")
                .style("position","absolute")
                .style("left","-48px")
                .style("ignorefont-weight","bold")
                .style("top",(  theY) + "px")
                .classed("hasQtip",true)
                .attr("id","labelDistrictCourts")
                .attr("title","United States District Courts")
                .attr("tooltip","The district courts are the general trial courts of the federal court system. " +
                                "While the United States Supreme Court was established by the consitution, " +
                                "the district courts were established by Congress; i.e., there is no constitutional requirement " +
                                "that the district courts exist at all. " +
                                "<br/><br/>" +
                                "There are a total of 94 district courts: 89 districts in the 50 states, as well as " +
                                " district courts in the District of Columbia and Puerto Rico, " +
                                " and territorial courts in the United States Virgin Islands, " +
                                "Guam, and the Northern Mariana Islands " +
                                "(see <a target='_blank' href='http://en.wikipedia.org/wiki/United_States_district_court'>here</a> " +
                                "for more information).")
                .style("font-size","10px")
                .html("<a target='_blank' href='http://en.wikipedia.org/wiki/United_States_district_court'>District<br/>Courts</a>");

            var theY = minYNonState[4];

            that.labelBankruptcyCourts = htmlArea.append("div")
                .style("position","absolute")
                .style("left","-48px")
                .style("ignorefont-weight","bold")
                .style("top",(  theY) + "px")
                .classed("hasQtip",true)
                .style("font-size","10px")
                .attr("id","labelBankruptcyCourts")
                .attr("title","Bankruptcy Courts")
                .attr("tooltip","The bankruptcy courts function as units of the district courts, " +
                                "and have subject matter jurisdiction over bankruptcy cases." +
                                " Most proceedings are held before a bankruptcy judge, " +
                                "whose decisions are subject to appeals in district court, or may be taken to " +
                                "the Bankruptcy Appellate Panel (BAP) for the relevant circuit if one exists " +
                                " (see <a target='_blank' href='http://en.wikipedia.org/wiki/United_States_bankruptcy_court'>here</a> for more information).")
                .html("<a target='_blank' href='http://en.wikipedia.org/wiki/United_States_bankruptcy_court'>Bankruptcy<br/>Courts</a>");

            theY = 5 + maxYNonStateSpecialCourtThatAppealsToFederalCourtOfAppeals; //minYNonState[2] + 25; //15;
            var theX = courtOfAppealsFederalCircuit.x;

            that.labelOtherCourts = htmlArea.append("div")
                .style("position","absolute")
                .style("left",( theX - 15) + "px")
                .style("ignorefont-weight","bold")
                .style("top",(  theY) + "px")
                .style("font-size","10px")
                .attr("id","labelOtherCourts")
                .classed("hasQtip",true)
                .classed("hideWhenFedCirMouseover",true)
                .attr("tooltip",  "There are a variety of courts (besides the district courts) and administrative boards for which decisions can be appealed to " +
                                "the <a target='_blank' href='http://www.cafc.uscourts.gov/'>Court of Appeals for the Federal Circuit</a>. " +
                                "These include the <a target='_blank' href='http://en.wikipedia.org/wiki/United_States_Court_of_Federal_Claims'>U.S. Court of Federal Claims</a> " +
                                " (that hears monetary claims against the U.S. government), " +
                                "the <a target='_blank' href='http://en.wikipedia.org/wiki/United_States_Court_of_International_Trade'>U.S. Court of International Trade</a>" +
                                ", the <a target='_blank' href='http://en.wikipedia.org/wiki/Board_of_Patent_Appeals_and_Interferences'>Board of Patent Appeals and Interferences</a>" +
                    ", and various administrative appeals boards."
                            )
                .attr("title", "Other Courts/Boards that can Appeal to the <a target='_blank' href='http://www.cafc.uscourts.gov/'>Court of Appeals for the Federal Circuit</a>")
                .style("font-weight","bold")
                .html("Other<br/>Courts/Boards");



        if (false) { //initial state stuff I was playing with
            var dx = 0.8 * (width / 53);
            var middleI = 27;

            svg.selectAll(".stateSupremeCourt")
                .data(stateNodes)
                .enter()
                .append("circle")
                .attr("class", "stateSupremeCourt")
                .attr("citation", function (d) {
                    return d.citation;
                })
                .classed("hasQtip", true)
                .classed("node", true)
                .on("mouseenter", mouseEnterCircle)
                .attr("r", 4)
                .attr("cx", function (d, i) {
                    d.x = 0.08 * width + dx * (i + 1);
                    //console.log(d.x);
                    return d.x;
                })
                .attr("cy", function (d, i) {

                    //May 16, 2014 var r = 1000;
                    var r = 0.5*that.$mainWindow.width();

                    var c = (d.x - width / 2);
                    c = c * c;
                    //node.y = node.y - (r - Math.sqrt(r*r - c));
                    d.y = 0 + 0.5 * (r - Math.sqrt(r * r - c));

                    return d.y;
                });

            var parentNode = {x: scotusX, y: scotusY};

            var stateLinesData = [];

            stateNodes.forEach(function (stateNode) {

                //otherLinks.push({source: parentNode, target: stateNode});

                var lineData = [
                    {x: stateNode.x, y: stateNode.y},
                    {x: scotusX, y: scotusY - 77}
                ];

                linesData.push(lineData);

            });

            var lineFunction = d3.svg.line()
                .x(function (d) {
                    return d.x;
                })
                .y(function (d) {
                    return d.y;
                })
                .interpolate("basis");

            svg.selectAll(".pointToSupremeCourt")
                .data(linesData)
                .enter()
                .append("path")
                .attr("class", "pointToSupremeCourt")
                .attr("d", function (d) {
                    return lineFunction(d);
                })
                .attr("stroke", "black")
                .attr("stroke-width", "0.25")
                .attr("ignorestroke-dasharray", "5 5")
                .attr("fill", "none");
            //.attr("marker-end", "url(#endMarker)");

            svg.append("line")
                .attr("class", "scotusAppealsEndLine")
                .attr("x1", scotusX)
                .attr("y1", scotusY - 77)
                .attr("x2", scotusX)
                .attr("y2", scotusY - 74)
                .attr("marker-end", "url(#endMarker)");

        }


            //console.log(federalDistrictNodes);

//            svg.selectAll(".federalCircuitAppeals")
//                .data(otherLinks)
//                .enter().append("path")
//                .attr("class", "federalCircuitAppeals")
//                .attr("d", d3.svg.diagonal())
//                .attr("marker-mid", "url(#MidMarker)");


//            svg.append("line")
//                .attr("class", "federalCircuitAppealsEndLine")
//                .attr("x1", xForFederalCircuit)
//                .attr("y1", yForFederalCircuit - 10)
//                .attr("x2", xForFederalCircuit)
//                .attr("y2", yForFederalCircuit - 6)
//                .attr("marker-end", "url(#endMarker)");

//        var federalCircuitCircle = svg.append("circle")
//            .attr("class", "node")
//            .attr("r", 5)
//            .attr("cx", xForFederalCircuit)
//            .attr("cy", yForFederalCircuit);

//            htmlArea.append("div")
//                .attr("class", "appealsFederalCircuitTitle")
//                .style("left", (xForFederalCircuit + divWidth / 2 - 10) + "px")
//                .style("top", (yForFederalCircuit + 71) + "px")
//                .style("width", divWidth)
//                .classed("hasQtip", true)
//                .attr("citation", courtOfAppealsFederalCircuit.citation)
//                .html(courtOfAppealsFederalCircuit.shortNameHtml);

//            htmlArea.append("div")
//                .attr("class", "infoAppealsFederalCircuitTitle")
//                .style("left", (xForFederalCircuit + divWidth / 2 - 180) + "px")
//                .style("top", (yForFederalCircuit + 80 + $('.appealsFederalCircuitTitle').height()) + "px")
//                .style("width", "400")
//                .html(courtOfAppealsFederalCircuit.summaryOfWhatItIs);


//            var lineData = [
//                {x: xForFederalCircuit, y: yForFederalCircuit + 35}
//                ,
//                {x: width + 60, y: yForFederalCircuit + 35}
//                ,
//                {x: width + 60, y: 0 - 40}
//                ,
//                {x: width / 2, y: 0 - 40}
//            ];
            var lineFunction = d3.svg.line()
                .x(function (d) {
                    return d.x;
                })
                .y(function (d) {
                    return d.y;
                })
                .interpolate("basis");
//            svg.append("path")
//                .attr("d", lineFunction(lineData))
//                .attr("stroke", "#777")
//                .attr("stroke-width", "1")
//                .attr("fill", "none")
//                .attr("marker-mid", "url(#endMarker)");

            //add line from Federal Circuit to Supreme court
        }


        var certMessageOtherSources = "TBD";
        //create box for writs of certiori from other sources
//        var writBoxOtherSources = htmlArea.append("div")
//            .attr("class","writCertioriBox")
//            .style("width","100px")
//            .style("left", (scotusX + 160) + "px")
//            .style("top", (scotusY + 20) + "px")
//            .classed("hasQtip",true)
//            .attr("title","writs of certiorari")
//            .attr("tooltip",certMessageOtherSources)
//            .html("petitions for <a target='_blank' " +
//                "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
//                "writs of certiorari</a>" +
//                "<br/> from other sources");

        //set up the Armed Forced stuff on the right
        //courtOfAppealsArmedForces
        var treeOther = d3.layout.tree()
            .size(o.size);

        tree.separation(function (a, b) {
            return (a.depth ==2 && b.depth==2) ? 2 : 1;
        });
        var scotusForOtherSources = {depth:0, children:[], citation:supremeCourt.citation};
        var writBoxOtherSources = {name:"petitions for writs from other sources"
            , html:appealsWritBox.html
            , isWritbox:true
            , isCourt:false
            , depth:1
            , citation:'writBoxOtherSources'
            , children:[]};

        scotusForOtherSources.children.push(writBoxOtherSources);

        writBoxOtherSources.parent = scotusForOtherSources;
        writBoxOtherSources.children.push(courtOfAppealsArmedForces);
        writBoxOtherSources.children.forEach(function(c) {
            c.parent =  writBoxOtherSources;
        });
        courtOfAppealsArmedForces.parent = writBoxOtherSources;

        //writBoxOtherSources.children.push({name:"?", shortNameHtml:"??", displayName:true, height:20, width:20});


        var elMainSupremeCourtDiv = $('#scotusMainDiv');
        var sTopForMainSupremeCourtDiv = elMainSupremeCourtDiv.css("top");
        sTopForMainSupremeCourtDiv = Number(sTopForMainSupremeCourtDiv.substring(0, sTopForMainSupremeCourtDiv.length - 2));

        console.log("sTopForMainSupremeCourtDiv = " + sTopForMainSupremeCourtDiv);
        console.log("elMainSupremeCourtDiv.height() = " + elMainSupremeCourtDiv.height());

        var middleOfMainSupremeCourtDiv = (sTopForMainSupremeCourtDiv + elMainSupremeCourtDiv.height()/2);
        console.log("middleOfMainSupremeCourtDiv = " + middleOfMainSupremeCourtDiv);

        var elStateWriteBox = $('#labelPetitionsState');
        var elFederalWriteBox = $('#labelPetitionsFederal');

        var sTopForSideBoxes = elStateWriteBox.css("top");
        sTopForSideBoxes = Number(sTopForSideBoxes.substring(0, sTopForSideBoxes.length - 2)) +
                                    0.5*elStateWriteBox.height();

        var sBottomForSideBoxes = elFederalWriteBox.css("top");
        sBottomForSideBoxes = Number(sBottomForSideBoxes.substring(0, sBottomForSideBoxes.length - 2)) +
                                    1*elFederalWriteBox.height();

        console.log(sTopForSideBoxes + ", " + sBottomForSideBoxes);
        var heightOfAreaForSideBoxes = Math.abs(Number(sTopForSideBoxes) - Number(sBottomForSideBoxes));

        //we want it centered in the middle of the main Supreme Court Div
        var extraYShiftForSideBoxes = 0; //0.75*elStateWriteBox.height();



        var otherSourcesWidth = width/3;
        var otherSourcesHeight = height/4;


        var otherSourcesWidth = (width<1000)? (width - (getLeftOfDiv(elMainSupremeCourtDiv) + elMainSupremeCourtDiv.width())) : width/3; //-25 + getLeftOfDiv(elMainSupremeCourtDiv);

        // 0 --> sTop
        // heightOfAreaForSideBoxes/2 --> middle of main Supreme Court div
        var getYForSideThings = function(y) {

            var m = (middleOfMainSupremeCourtDiv-sTopForSideBoxes)/(heightOfAreaForSideBoxes/2);
            return  sTopForSideBoxes + m * y;

        };


        //var scotusMid = $('#display_SCOTUS').height()/2;
        //console.log(scotusMid);

        //var rareSourcesWidth = width/3;
        //var rareSourcesHeight = height/4;

//        var scaleForY = d3.scale.linear()
//            .domain([0,heightOfAreaForSideBoxes])
//            .range([sTopForSideBoxes, ])

        var orientationLeftToRight = {size: [heightOfAreaForSideBoxes, otherSourcesWidth], //otherSourcesHeight, otherSourcesWidth],
            y: function(d) {
                //d.shiftedY = scotusY - 0 + (otherSourcesHeight/2 - d.x);
                //d.shiftedY = scotusY  + otherSourcesHeight/2.5 -  d.x;
                //d.shiftedY = scotusY  + otherSourcesHeight/2 -  d.x;
                //heightOfAreaForSideBoxes

                d.shiftedY = getYForSideThings(d.x);
                //var m = (middleOfMainSupremeCourtDiv-sTopForSideBoxes)/(heightOfAreaForSideBoxes/2);
                //d.shiftedY = sTopForSideBoxes + m * d.x;

                //console.log(heightOfAreaForSideBoxes + ", " + d.x + ", " + d.shiftedY);

                //d.shiftedY = sTopForSideBoxes + extraYShiftForSideBoxes + d.x;
                return d.shiftedY;
                },
            x: function(d) {
                d.shiftedX = scotusX + 60 +  d.y;
                return d.shiftedX;
            }};

        var o = orientationLeftToRight;
        var treeOther = d3.layout.tree().size(o.size);

        var treeOtherSources = treeOther.nodes(scotusForOtherSources);
        var linksOtherSources = treeOther.links(treeOtherSources);

        that.treeOtherSources = treeOtherSources;
        that.oForOther = o;

        var treeNodesOtherSources = svg.append("g")
            .selectAll(".node")
            .data(treeOtherSources);

        var writBoxOtherSourcesArea =  htmlArea
            .selectAll(".otherSourcesNodeWritBox")
            .data(treeOtherSources);


        var theNodesHtmlOther =  htmlArea
            .selectAll(".otherSourcesCourtDisplayInfo")
            .data(treeOtherSources);

        var theOtherNodesHtmlImages = htmlArea
            .selectAll(".otherSourcesSealForNode")
            .data(treeOtherSources);

        //let's get going with the "other" ones
        var theOtherNodesEnter = treeNodesOtherSources.enter();
        theOtherNodesEnter.append("circle")
            .filter(function(d) {
                return d.depth>0 && (!d.displayName); // && (isUndefined(d.seal)); //d.citation !== "SCOTUS";
            })
            .attr("class", "node")
            .classed("hasQtip",true)
            .attr("citation", function(d) {if (isUndefined(d.citation)) {
                                            console.log(d);
                                            }
                                           return d.citation;})
            .attr("r", function(d)  { return nodeRadius;})
            .attr("cx", o.x)
            .attr("cy", o.y);

        svg.append("g").selectAll(".link")
            .data(linksOtherSources)
            .enter()
            .append("path")
            .filter(function(l) {
                //console.log(l);
                return ! (isDefined(l.source.isDummy) || isDefined(l.target.isDummy)); //d.citation !== "SCOTUS";
            })
            .classed("link",true)
            .classed("lightlink",true)
            .attr(attributeNameForHighlightingLinkDuringPlayback,function(link) {
                console.log("Other sources: " + link.target.citation);
                return link.target.citation;
            })
            .attr("d", d3.svg.diagonal().projection(function(d) {
                return [o.x(d), o.y(d)];
            }))
            .attr("marker-mid","url(#MidMarker)");


        theOtherNodesHtmlImages.enter()
            .append("img")
            .filter(function(d) {
                return (d.depth>2 && isDefined(d.seal));
            })
            .attr("class","stateCourtImageNode")
            .classed("stateNodeImage",true)
            .attr("citation", function(d) {return d.citation;})
            .classed("hasQtip",true)
            .style("left", function(d) {
                return (-nodeRadius + o.x(d) - 0) + "px";
            })
            .style("top", function(d) {
                return (-nodeRadius + o.y(d)) + "px";
            })
            .attr("border","2")
            .attr("width",2.5*nodeRadius)
            .attr("src",function(d) {
                return SEAL_DIR + "/" + d.seal;
            })

        //put the writbox div on top of that node...
        //console.log(writBoxOtherSources);

        writBoxOtherSourcesArea.enter().append("div")
            .filter(function(d) {
                return (d.isWritbox);
            })
            .attr("class","writCertioriBox")
            .style("width","120px")
            .style("left", function(d) {
                //console.log(statesWritBox.shiftedX);
                return (writBoxOtherSources.shiftedX - 50) +"px"
            })
            .style("top", function(d) {
                //console.log(statesWritBox.shiftedY);
                return (writBoxOtherSources.shiftedY - 20 ) +"px";})
            .classed("hasQtip",true)
            .attr("title","writs of certiorari")
            .attr("tooltip",certMessage)
            .attr("id","labelWritBoxArmedForces")
            .html("<div class='boxForMainCourtType'>Armed Forces</div>" +
                "petitions for <br/><a target='_blank' " +
                "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
                "writs of certiorari</a>");

//            .html("petitions for <a target='_blank' " +
//                "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
//                "writs of certiorari</a>" +
//                "<br/> from other sources");

//    .html("<div class='boxForMainCourtType'>State</div>" +
//            "petitions for " +
//            "<a target='_blank' " +
//            "href='http://en.wikipedia.org/wiki/Supreme_Court_of_the_United_States#Case_selection'>" +
//            "writs of certiorari</a>"); // +



        var el = $('#labelWritBoxArmedForces');
        //console.log('getMiddleOfDiv(el) = ' + getMiddleOfDiv(el));
        //console.log("middleOfMainSupremeCourtDiv = " + middleOfMainSupremeCourtDiv);
        el.css("top","-=" + (getMiddleOfDiv(el) - middleOfMainSupremeCourtDiv) + "px");

        theNodesHtmlOther.enter().append("div")
            .filter(function(d) {
                return (d.depth===2);
            })
            .attr("class",function(d) {
                if (d.citation === "SCOTUS") {
                    return "scotusNameDiv"
                }
                else {
                    return "absDiv";//shortNameDiv"
                }
            })
            .attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {return d.citation;})
            .style("left",function(d) {
                    return (d.shiftedX).toFixed(0) + "px";
            })
            .style("top",function(d) {
                    if (d.height) {
                        return (d.shiftedY + 30 + d.height) + "px";
                    }
                    else {
                        //return (d.shiftedY + 40) + "px";
                        return (d.shiftedY - 20) + "px";
                    }
            })
            .classed("hasQtip",true)
            .attr("citation",function(d) {return d.citation;})
            .style("width",function(d) { if (d.width) {
                                                return d.width + "px";
                                            }
                                            else {
                                        return "80px";}
            })//divWidth + "px";})
            .attr("id",function(d) { return "display_" + d.citation;})
            .html(function(d) {
                if (d.displayName) {    //console.log(d.shortNameHtml);
                    if (d.citation == "SCOTUS") {
                        //console.log(d);
                        var s = "<table>";
                        s += "<tr><td style='vertical-align:middle;'>Supreme<br/>Court</td>";
                        if (isDefined(d.seal)) {
                            s += "<td><img src='" + SEAL_DIR + "/" + d.seal + "' width='80'></td>";
                            //console.log(s);
                        }
                        s += "</tr></table>";
                        return s;
                    }
                    else {
                        var s = "<div " + attributeNameForHighlightingCourtDuringPlayback + "='" + d.citation + "' class='showCourtShortName'>" + d.shortNameHtml + "</div>";
                        return s;
                    }
                }
            });



        //specialWaysToSupremeCourt
        var scotusForRareScenarios = {depth:0, children:[], citation:supremeCourt.citation};
        var writBoxRareScenarios = {name:"rare scenarios"
            , html:"Other routes to Supreme Court"
            , isWritbox:true
            , isCourt:false
            , depth:1
            , citation:'writBoxRareScenarios'
            , shortNameHtml:"Other routes to <br/>Supreme Court"
            , children:[]};

        specialWaysToSupremeCourt.forEach(function(r) {
            writBoxRareScenarios.children.push(r);
            r.parent = writBoxRareScenarios;
            r.isSpecialNonCourtThing = true;
            if (r.citation) {
                courtsByCitation[r.citation] = r;
            }
        });
        scotusForRareScenarios.children.push(writBoxRareScenarios);
        writBoxRareScenarios.parent = scotusForRareScenarios;
        courtsByCitation[writBoxRareScenarios] = writBoxRareScenarios;


        //the four boxes need to be placed so that they don't overlap in the y direction

        //min y is the middle of the state box
        //max y is the middle of the federal box


        var rareSourcesWidth = (width<1000)? -0 + getLeftOfDiv(elMainSupremeCourtDiv) : width/3; //-25 + getLeftOfDiv(elMainSupremeCourtDiv);
        //var rareSourcesHeight = heightOfAreaForSideBoxes; //height/4;//heightOfArea; //height/4;


        var orientationRightToLeft = {size: [heightOfAreaForSideBoxes, rareSourcesWidth],
            y: function(d,i) {
                //if (isUndefined(d.shiftedY)) { // this causes problems when we are redrawing due to window size change
                                                // we need to reset it - I think I was doing this for
                                                // (unverified) performance reasons
                if (true) {
                            //
                    if (d.depth <= -1) {
                        //console.log("dx = " + d.x);
                        d.shiftedY = scotusY; //scotusY - height/8 - d.x; //heightOfArea/2;// - d.x; // heightOfArea/2; // scotusY- height/4 - d.x; //(rareSourcesHeight / 2 - d.x);
                        d.shiftedY = sTopForSideBoxes + d.x;
                    }
                    else {
//                        console.log(d);
//                        console.log("i: " + i);
//                        d.shiftedY = sTop + i * (heightOfArea);//  scotusY - (rareSourcesHeight / 2 - d.x);
                        //heightOfAreaForSideBoxes
                        d.shiftedY = getYForSideThings(d.x);
                        //d.shiftedY = sTopForSideBoxes + extraYShiftForSideBoxes + d.x;
                    }
                }
                //d.shiftedY = sTop + extraYShift + d.x;
                return d.shiftedY; //d.x; //d.shiftedY;
            },
            x: function(d,i) {
                d.shiftedX = scotusX -  d.y;
                return d.shiftedX;
            }};

        var o = orientationRightToLeft;
        var treeRare = d3.layout.tree().size(o.size);

        var treeRareSources = treeRare.nodes(scotusForRareScenarios);
        var linksRareSources = treeRare.links(treeRareSources);

        //console.log(treeRareSources);

        var treeNodesRareSources = svg.append("g")
            .selectAll(".node")
            .data(treeRareSources);

        var writBoxRareSourcesArea =  htmlArea
            .selectAll(".rareSourcesNodeWritBox")
            .data(treeRareSources);

        var theNodesHtmlRare =  htmlArea
            .selectAll(".rareSourcesCourtDisplayInfo")
            .data(treeRareSources);




        var theRareNodesEnter = treeNodesRareSources.enter();
        theRareNodesEnter.append("circle")
            .filter(function(d) {
                return d.depth>0 ; //&& (!d.displayName) ; //d.citation !== "SCOTUS";
            })
            .attr("class", "node")
            .classed("hasQtip",true)
            .attr("r", function(d)  { return nodeRadius;})
            .attr("cx", o.x)
            .attr("cy", o.y);


        svg.append("g").selectAll(".link")
            .data(linksRareSources)
            .enter()
            .append("path")
            .filter(function(l) {
                return ! (isDefined(l.source.isDummy) || isDefined(l.target.isDummy)); //d.citation !== "SCOTUS";
            })
            .classed("link",true)
            .classed("lightlink",true)
            .attr(attributeNameForHighlightingLinkDuringPlayback,function(link) {
                return link.target.citation;
            })
            .attr("d", d3.svg.diagonal().projection(function(d) {
                return [o.x(d), o.y(d)];
            }))
            .attr("marker-mid","url(#MidMarker)");


        theNodesHtmlRare.enter().append("div")
            .filter(function(d) {
                return (d.depth > 0);
            })
            .attr(attributeNameForHighlightingCourtDuringPlayback, function(d) {return d.idForPlayback;})
            .attr("class",function(d) {
                if (d.isWritbox) {
                    return "writCertioriBox";
                }
                else {
                    return "rareSourcesCourtDisplayInfo";
                }
            })
            .style("width",function(d) {
                if (d.isWritbox) {
                    return "100px";
                }
                else {
                    return "125px";
                }
            })
            .style("left", function(d) {
                //console.log(statesWritBox.shiftedX);
                if (d.isWritbox) {
                    return (d.shiftedX - 40) + "px"
                }
                else {
                    return (d.shiftedX - 70) + "px"
                }
            })
            .style("top", function(d) {
                return (d.shiftedY   - 15) +"px";})
            .classed("hasQtip", function(d) {
                if (!d.info) {
                    return false;
                }
                else {
                    return true;
                }
            })
            .attr("id", function(d) {
                if (d.isWritbox) {
                    return "labelWritBoxOtherRoutes";
                }
                else {
                    return "rare_" + d.citation;
                }
            })
            .attr("title",function(d) {
                return d.name;
            })
            .attr("associatedCourtCitation",function(d) {
                return d.citation;
            })
            .attr("tooltip",function(d) {
                if (!d.info) {
                    return "";
                }
                else {
                    return d.info + " (<a target='_blank' href='" + d.infoSource + "'>source</a>)";
                }
            })
            .html(function(d) {
                return d.shortNameHtml;
            });

        var el = $('#labelWritBoxOtherRoutes');
        console.log('getMiddleOfDiv(el) = ' + getMiddleOfDiv(el));
        console.log("middleOfMainSupremeCourtDiv = " + middleOfMainSupremeCourtDiv);
        el.css("top","-=" + (getMiddleOfDiv(el) - middleOfMainSupremeCourtDiv) + "px");

        //tax court stuff
//        htmlArea.append("img")
//            .attr("class","districtCourtImageNode")
//            .attr("citation", usTaxCourt.citation)
//            .classed("hasQtip",true)
//            .style("left", (width/2 - 60) + "px")
//            .style("top", (height - 25 + "px"))
//            .attr("border","2")
//            .attr("width","65")
//            .attr("src",SEAL_DIR + "/" + usTaxCourt.seal)
//            .on("mouseenter", function() {
//                d3.selectAll(".linkFromTaxCourt")
//                        .transition().duration(200)
//                        .style("opacity",1);
//
////                d3.selectAll(".hideWhenFedCirMouseover").transition().duration(200)
////                    .style("opacity",0.06);
//
//                d3.selectAll(".hideWhenTaxCourtMouseover").transition().duration(200)
//                    .style("opacity",0.06);
//            })
//            .on("mouseleave", function() {
//                    d3.selectAll(".linkFromTaxCourt")
//                        .transition().duration(200)
//                        .style("opacity",0.001);
//                d3.selectAll(".hideWhenTaxCourtMouseover").transition().duration(200)
//                    .style("opacity",1);
//                });
//
//
//
//        usTaxCourt.x = width/2 - 25;
//        usTaxCourt.y = height - 20;
//        var taxLinks = [];
//        districtCourtsOfAppeal.forEach(function(c) {
//
//            var cNew = {x: c.x, y: c.y + 40};
//            var link = {source:usTaxCourt, target:cNew};
//            taxLinks.push(link);
//
//        });
//
//        svg.append("g").selectAll(".linkFromTaxCourt")
//            .data(taxLinks)
//            .enter()
//            .append("path")
//            .classed("linkFromTaxCourt",true)
//            .attr("d", d3.svg.diagonal())
//            .attr("marker-start","url(#MidMarker)");



        console.log($('#doPlayback'));
        ['#doPlayback', '#doPlaybackCurrentCourt','#btnMissingScraperInfo','#btnShowPages'].forEach(function(s) {
            $(s).qtip({
                style: {width:300},
                content: {
                    text: $(s).attr('tooltip'),
                    adjust: {screen: true},
                    my: "center",
                    at: "center",
                    button: "x",
                    title: $(s).attr("title")
                },
                hide: {event: false },
                ignorehide: { when: 'inactive', delay: 1000 },
                position: { viewport: $(window) }, events: {
                    show: function () {
                        closeAllTips();
                    },
                    render: function () {
                        closeAllTips();
                    },
                    ignorehide: { when: 'inactive', delay: 1000 }
                }

            });
        });


        $('.hasQtip').each(function() {
            var citation = $(this).attr("citation");
            var theCourt = courtsByCitation[citation];

            var usedAssoc = false;
            if (!theCourt) {
                //console.log("setup qtip");
                //console.log($(this));
                //console.log($(this).attr("associatedcourtcitation"));
                theCourt = courtsByCitation[$(this).attr("associatedcourtcitation")];
                //console.log(theCourt);
                usedAssoc = true;
            }

            if (isDefined(theCourt)) {

                if (usedAssoc) {
                    //console.log("Used assoc.......");
                }
                var theTitle = theCourt.name;
                var tooltip = $(this).attr('tooltip');
                var citation = "" + ($(this).attr("citation"));

                //var citation = "";
                var parentInfo="";
                if (theCourt.seal) {
                    theTitle = "<table class='popupTitle'><tr><td><img class='popupTitle' src='" + SEAL_DIR + "/" + theCourt.seal + "' width='75'></td><td><div class='popupTitleText'>" + theTitle + "</div></td></tr></table>";
                }
                $(this).qtip({
                    style:{
                        width:550
                    },
                    show: {delay:delayForQtipPopup_ms},
                    content: {
                        text: makeToolTipContentForCourt(theCourt),
                        position: { viewport: $(window) },
                        adjust: {screen: true},
                        my: "center",
                        at: "center",
                        button: "x",
                        title: theTitle
                    },
                    hide: {event: false }
                    , ignorehide: { when: 'inactive', delay: 5000 }

                    , position: { viewport: $(window)
                                    , adjust: {method:"shift shift"}}
                    , events: {
                        hide:function() {
                                            shrinkBackNodeForCourt(theCourt);

                        },
                        show: function() {
                            closeAllTips();
                            if (!theCourt.casesThatWentThrough || theCourt.casesThatWentThrough.length==0) {
                                if (theCourt.extraThings && theCourt.extraThings.judgesPic) {
                                    $(this).qtip('option', 'style.width', "400");
                                }
                                else {
                                    $(this).qtip('option', 'style.width', "280");
                                }
                            }
                            else {
                                $(this).qtip('option', 'style.width', "400");
                            }
                            //not working $(this).qtip('option', 'style.opacity', "0.5");
                            $(this).qtip('option','content.text',makeToolTipContentForCourt(theCourt));

                            //console.log("is state court: " + theCourt.isStateCourt);
                            if (theCourt.isStateCourt  && theCourt.state) {
                                $('.courtStructure').qtip('destroy');
                                makeToolTipForStateCourtStructure('.courtStructure', theCourt.state);
                            }

                            updatePopupDatatableOfCases(theCourt);
                            //$this.content.text="Hello";
                        },
                        render: function() {
                                        closeAllTips();
                                        shrinkExpandedNodesButThisOne(theCourt);
                                        //shrinkAnyExpandedNodes();
                        }
                    }            });
            }
            else {
                $(this).qtip({
                    style:{
                        width:550
                    },
                    content: {
                        text: $(this).attr('tooltip'),
                        position: { viewport: $(window) },
                        adjust: {screen: true},
                        my: "center",
                        at: "center",
                        button: "x",
                        title: $(this).attr("title")
                    }, ignorehide: {
                        event: false
                    }
                    , show: {delay:delayForQtipPopup_ms}
                    , hide: { when: 'inactive', delay: 5000 }
                    , position: { viewport: $(window)
                        , adjust: {method:"shift shift"}}
                    , events: {
                        show: function() {
                            closeAllTips();

                            //if (citation.length>0) {
                            //    $(this).qtip('option','content.text',makeToolTipContentForThing(theCourt, tooltip));
                            //}
                        },
                        render: function() {
                            closeAllTips();
                        }
                    }            });

            }
        });




    }

    var createToolTipContentForStateCourtStructure = function(stateName) {

        //we just return the image element
        //<img width="628" height="783"
        // style="WIDTH: 628px; HEIGHT: 783px" class="displayed" border="0"
        // alt="Illinois Court Structure" src="/~/media/Microsites/Images/CSP/State_Structure_Charts/illinois.ashx?w=628&amp;h=783&amp;as=1"

        //http://www.courtstatistics.org/~/media/Microsites/Images/CSP/State_Structure_Charts/arkansas.ashx?w=653&h=965&as=1
        //http://www.courtstatistics.org/~/media/Microsites/Images/CSP/State_Structure_Charts/AL.ashx?w=756&h=1002&as=1

        var whatToUse = stateName.trim().toLowerCase().replace(" ","");
        if (stateToStateAbbrevForStructure[whatToUse]) {
            whatToUse = stateToStateAbbrevForStructure[whatToUse].toLowerCase();
        }

       //width="628" height="783"
        //?w=628&amp;h=783&amp;as=1
        var s = '<img  ';
        s += ' src="http://www.courtstatistics.org/~/media/Microsites/Images/CSP/State_Structure_Charts/' + whatToUse + '.ashx"';
        s += ' alt = "' + stateName + ' Court Structure" ';
        s += ">";

        console.log(s);

        return s;
    };

    var makeToolTipForStateCourtStructure = function(elementSelector, stateName) {

        console.log("Make tooltip for courtstructure for '" + stateName + "'");

        $(elementSelector).qtip({
            style:{
                width:800
            },
            show: {delay:delayForQtipPopup_ms},
            content: {
                text: createToolTipContentForStateCourtStructure(stateName),
                position: { viewport: $(window) },
                ignoreadjust: {screen: true},
                ignoremy: "center",
                ignoreat: "center",
                button: "x",
                title: "Court Information from the <a href='" + "http://www.courtstatistics.org" + "' target='_blank'>Court Statistics Project</a>"
            },
            hide: {event: false }
            , position: { viewport: $(window)
                , adjust: {method:"shift shift"}}
            , events: {
                hide:function() {
                    //shrinkBackNodeForCourt(theCourt);

                },
                show: function() {
                    //this one will be showing when the state one is... closeAllTips();
//                    if (!theCourt.casesThatWentThrough || theCourt.casesThatWentThrough.length==0) {
//                        if (theCourt.extraThings && theCourt.extraThings.judgesPic) {
//                            $(this).qtip('option', 'style.width', "400");
//                        }
//                        else {
//                            $(this).qtip('option', 'style.width', "280");
//                        }
//                    }
//                    else {
//                        $(this).qtip('option', 'style.width', "400");
//                    }
                    //not working $(this).qtip('option', 'style.opacity', "0.5");
                    $(this).qtip('option','content.text',createToolTipContentForStateCourtStructure(stateName));
                    //$this.content.text="Hello";
                },
                render: function() {
                    //don't do this for the court structure one... closeAllTips();
                    //shrinkExpandedNodesButThisOne(theCourt);
                    //shrinkAnyExpandedNodes();
                }
            }
        });
    };


    function makeToolTipContentForThing(citation, tooltip) {

        var theCourt = courtsByCitation[citation];
        //alert(tooltip);
        var s = "";
        if (isDefined(that.latestPeriodModeled) && theCourt.casesThatWentThrough) {
            s += "<table class='courtInfoTable'>";
            //(" + that.latestPeriodModeled.period + ")
            s  += "<tr><td class='bold middle'>SCOTUS Decisions</td><td><span qtip-source='" + theCourt.citation + "'>" + theCourt.casesThatWentThrough.length + "</span></td></tr>";

//            s  += "<tr><td class='bold middle'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseSource' >Source of Case</a></td><td><span qtip-source='" + theCourt.citation + "'>" + theCourt.casesThatWentThrough_source.length + "</span></td></tr>";
//            s  += "<tr><td class='bold middle'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseOrigin' >Origin of Case</a></td><td><span qtip-origin='" + theCourt.citation + "'>" + theCourt.casesThatWentThrough_origin.length + "</span></td></tr>";
            s += "</table>";

        }

        return s + tooltip;;

    }

    function getSelector(s,theCourt) {
        return (s + theCourt.citation.trim().replace(/ /g, "_").replace(/\./g,"_")).toLowerCase();
    }
    function makeToolTipContentForCourt(theCourt) {

        var needCourtStructureToolTip = false;

        if (isUndefined(theCourt)) {
            return "";
        }

        //console.log("makeToolTipContentForCourt: " + theCourt.citation);

        var s="";

        var theJudges = judgesGroupedByCitation[theCourt.citation];

        //console.log(theCourt);


        that.gSelectorSourceCourtDataTable = "sourceCourtDataTable";
        that.gSelectorOriginCourtDataTable = "originCourtDataTable";
        that.gSelectorAllCasesCourtDataTable ="allCasesCourtDataTable";

        var extraInfo = extraNoteInfoOnCourts[theCourt.citation];
        s += "<table class='courtInfoTable'>";

        if (theCourt.isStateCourt) {
            var structureImageURL = getURLForCourtStructureImageURLForStateCourt(theCourt.state);

            if (structureImageURL.length>0) {

                //wait - doh - we can't do create the extra tooltip until the tooltip is actually shown...
                needCourtStructureToolTip = true; //have to wait until element exists in dom before we actually add the tooltip
                s  += "<tr><td>" +
                    "<div class='bold'>Court Structure Image" +
                    "   " +
                    "</div>" +
                    "</td>";

                s += "<td>" + "<a class='courtStructure'>Mouseover to view image</a>" +
                              " <br/> (from the <a href='http://www.courtstatistics.org' target='_blank'>Court Statistics Project</a>)" +
                      "</td>";
                s += "</tr>";

                //make a tooltip on the fly that links to image
                //<img width="628" height="783"
                // style="WIDTH: 628px; HEIGHT: 783px" class="displayed" border="0"
                // alt="Illinois Court Structure" src="/~/media/Microsites/Images/CSP/State_Structure_Charts/illinois.ashx?w=628&amp;h=783&amp;as=1"
                //>

            }
        }


        var sNote = "";
        if (theCourt.isStateCourt &&  theCourt.casesThatWentThrough &&  theCourt.casesThatWentThrough.length>0) {
            sNote = "<br/><i> (for state courts, source/origin may be a lower court)</i>";
        }


        if (isDefined(that.latestPeriodModeled) && theCourt.casesThatWentThrough) {
            console.log(that.latestPeriodModeled);
            //(" + that.latestPeriodModeled.period + ")
//            s  += "<tr><td class='bold middle'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseSource' >Source of Case</a> </td><td class='center'><span qtip-source='" + theCourt.citation + "'>" + theCourt.casesThatWentThrough_source.length + "</span></td></tr>";



            if (
                    (theCourt.casesThatWentThrough_source.length==0)
                    && (theCourt.casesThatWentThrough_origin.length==0)
                        && (theCourt.casesThatWentThrough.length > 0)

                )
            {
                var sCasesPerPopulation = "";
                if (theCourt.populationInfo) {
                    sCasesPerPopulation = " (" + theCourt.casesThatWentThrough.length/theCourt.populationInfo.population + ")";
                }
                console.log(theCourt.citation + ", " + sCasesPerPopulation);

                s  += "<tr><td colspan='2'>" +
                    "<div class='center bold'>SCOTUS Decisions: " + theCourt.casesThatWentThrough.length + sCasesPerPopulation + "</div>";

                s += "<table class='showCasesTable display cell-border' id='" + getSelector(that.gSelectorAllCasesCourtDataTable, theCourt) + "'></table>";
                s += "</td></tr>";
            }
            else {

                var sCasesPerPopulation = "";
                //if (theCourt.populationInfo) {
                //    sCasesPerPopulation = " (" + theCourt.casesThatWentThrough.length/theCourt.populationInfo.population + ")";
                //}
                //console.log(theCourt.citation + ", " + sCasesPerPopulation);

                s  += "<tr><td colspan='2'>" +
                    "<div class='center bold'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseSource' >Source of Case</a>: " + theCourt.casesThatWentThrough_source.length + sNote + sCasesPerPopulation + "</div>";

                if (theCourt.casesThatWentThrough_source.length > 0) {
                    s += "<table class='showCasesTable display cell-border' id='" + getSelector(that.gSelectorSourceCourtDataTable, theCourt) + "'></table>";
                }

                s += "</td></tr>";
                if ((theCourt.casesThatWentThrough_source.length > 0)
                    &&
                    (theCourt.casesThatWentThrough_origin.length > 0)
                    ) {
                    s += "<tr><td colspan='2'>&nbsp;</td></tr>";
                }

                s += "<tr><td colspan='2'>" +
                    "<div class='center bold'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseOrigin' >Origin of Case</a>: " + theCourt.casesThatWentThrough_origin.length + sNote + "</div>";

                if (theCourt.casesThatWentThrough_origin.length > 0) {
                    s += "<table class='showCasesTable display cell-border' id='" + getSelector(that.gSelectorOriginCourtDataTable, theCourt) + "'></table>";
                }
                s += "</td></tr>";
            }

//            s  += "<tr><td class='bold middle'>SCOTUS Decisions as <a target='_blank' href='http://scdb.wustl.edu/documentation.php?var=caseOrigin' >Origin of Case</a> </td><td class='center'><span qtip-origin='" + theCourt.citation + "'>" + theCourt.casesThatWentThrough_origin.length + "</span></td></tr>";
            //s  += "<tr><td colspan='2'><table class='showCasesTable display' id='" + that.gSelectorOriginCourtDataTable + "'></table></td></tr>";
        }
        else {
            //s  += "<tr><td class='bold middle'>Cases this Period</td><td>0</td></tr>";
        }



        s  += "<tr><td class='bold middle'>" +
            " Has Scraper?" +
            "</td>" +
            "<td>" +
            (isDefined(hasScraperByCourtListenerCourtName[theCourt.courtListenerAbbreviation])? "Yes":"No")
            "</td></tr>";

        if (theCourt.opinionsFromToday) {
            var sNote = "";
            var numberOpinions = theCourt.opinionsFromToday.length;
            if (numberOpinions===0) {
                sNote = " (Note that there might not be a scraper for this court yet)";
            }
            if (numberOpinions>=20) {
                numberOpinions = "&ge; 20";
                sNote = " (API returns max. of 20)";
            }

            s  += "<tr><td class='bold middle'>" +
                     " <a href='" + that.getCourtListenerUrlForCourtAndDate(theCourt,moment(getDateForSearch())) + "'" +
                     " target='_blank'>Opinions back to " + getDateFromDatePickerForDisplay() + "</a>" +
                      "</td>" +
                      "<td><i>" +
                      "<a href='" + that.getCourtListenerUrlForCourtAndDate(theCourt,moment(getDateForSearch())) + "' target='_blank'>" +
                                    numberOpinions + sNote + "</a></i>" +
                        "</td></tr>";
        }
        else {
            s  += "<tr><td class='bold middle'>Opinions back to " + getDateFromDatePickerForDisplay() + "</td><td><i>No results yet available</i></td></tr>";
        }

        if (extraInfo) {
            //s += "<div class='courtExtraInfo'>" + extraInfo + "</div>";
            s  += "<tr><td class='bold middle'>Info</td><td>" + extraInfo + "</td></tr>";
        }


        if (theCourt.info) {
            var a = "";
            if (theCourt.infoSource) {
                a += " (<a target='_blank' href='" + theCourt.infoSource + "'>source</a>)"
            }
            s  += "<tr><td class='bold middle'>Info</td><td>" + theCourt.info + a + "</td></tr>";
        }


        if (theCourt.chiefJudge) {

            s += "<tr class='underline'>";

            s += "<td class='bold'><div>Chief Judge</div></td>";

            if (theCourt.chiefJudgeUrl) {
                //s += "<br/>";
                //s += "<div><a target='_blank' href='" + theCourt.chiefJudgeUrl + "'>" + theCourt.chiefJudge +"</a>, Chief Judge</div";
                s += "<td><a target='_blank' href='" + theCourt.chiefJudgeUrl + "'>" + theCourt.chiefJudge +"</a></td>";
            }
            else {
                //s += "<br/>";
                s += "<div>Chief Judge: " + theCourt.chiefJudge + "</div";
                s += "<td>" + theCourt.chiefJudge + "</td>";
            }

            s += "</tr>";
        }


        if (theCourt.populationInfo) {
            s += "<tr class='underline'>";
            s += "<td class='bold'>Population</td>";
            s += "<td>" + addCommas(theCourt.populationInfo.population) + " (<a target='_blank' href='" + theCourt.populationInfo.source + "'>source</a>)</td>";
            s += "</tr>";
        }

        if (theJudges) {

            s += "<tr class='underline'>";
            s += "<td class='bold'>Chief Justice</td>";
            s += "<td >";
                s += "<a target='_blank' href='" + theJudges.chiefJustice.url + "'>" + theJudges.chiefJustice.name  + "</a>";
                s += " (nominated by " + theJudges.chiefJustice.nominatedBy.name + ", confirmed in " + theJudges.chiefJustice.nominatedBy.year + ")";
            s += "</td>";
            s += "</tr>";

            s += "<tr class='underline'>";
            s += "<td class='bold'>Judges</td>";

            s += "<td class=''>";

//            s += "<table class='judgesInfo'>"
//                s += "<tr>";
//                s += "<td class=''>Total Active</td>";
//                s += "<td >" + theJudges.active.length + "</td>";
//                s += "</tr>";
//
//            s += "<tr>";
//            s += "<td class=''>Nominated by <br/>Republican President</td>";
//            s += "<td style='padding:4px;'>" + theJudges.activeByParty["r"].length + "</td>";
//            s += "</tr>";
//            s += "<tr>";
//            s += "<td class=''>Nominated by <br/>Democrat President</td>";
//            s += "<td style='padding:4px;'>" + theJudges.activeByParty["d"].length + "</td>";
//            s += "</tr>";
//
//            s += "</table>";

            //s += "<ul style='padding-left:5px;'>";

                s += "<div class='judgeHangIndent'>" + theJudges.active.length + " active" + "</div>";
                s += "<div class='judgeHangIndent' style='margin-left:5px;'>" + theJudges.activeByParty["d"].length + " nominated by Democrat president" + "</div>";
                s += "<div class='judgeHangIndent' style='margin-left:5px;'>" + theJudges.activeByParty["r"].length + " nominated by Republican president" + "</div>";

            //s += "</ul>";

            s += "</td>";
            s += "</tr>";

        }


        if (theCourt.extraThings && theCourt.extraThings.judgesPic) {

            var width = JUDGE_PIC_WIDTH;
            if (theCourt.citation ==='SCOTUS') {
                width = width; //need to tweak qtip width for this if going to use larger...
            }
            else {

            }
            s += "<tr><td class='bold'>Justices (<a target='_blank' href='" + theCourt.extraThings.judgesPic.urlSource + "'>source</a>)</td>";
            s += "<td><img width='" + width + "' src='" + JUDGE_PICS + "/" + theCourt.extraThings.judgesPic.url + "'>";
            s += "</tr>";
        }


        var isSpecialNonCourtThing = (theCourt.isSpecialNonCourtThing);

        if (isDefined(theCourt.citation) && (!isSpecialNonCourtThing)) {
            s  += "<tr><td class='bold'>Citation/Abbrev.</td><td>'" + theCourt.citation + "'</td></tr>";
        }
        if (isDefined(theCourt.parent) && (!isSpecialNonCourtThing)) {
            if (theCourt.parent.isWritbox) {
                s  += "<tr><td class='bold'>Appellate Court</td><td>" + supremeCourt.name + "</td></tr>";
            }
            else {
                if (isDefined(theCourt.multipleParents)) {
                    s += "<tr><td class='bold'>Appellate Court</td>";
                    s += "<td>";
                    var tt = ""
                    theCourt.multipleParents.forEach(function(p) {
                        if (tt.length>0) {
                            tt += "; <br/>";
                        }
                        tt += p.name;
                    });
                    s += tt;
                    s += "<br/><span class='multiplePanelNote'>" + theCourt.multipleParentsComment + "</span>";
                    s += "</td></tr>";
                }
                else {
                    if (isDefined(theCourt.parent.name)) {
                        s += "<tr><td class='bold'>Appellate Court</td><td>" + theCourt.parent.name + "</td></tr>";
                    }
                }
            }
        }

        //if (s.length>0) {
        //    s += "<br/>";
        //}

        //var links=[{name:"Wikipedia", url:theCourt.wikiUrl},
        //            {name:"Govt Site", url:theCourt.url},
        //                {name:"Cases on Court Listener", url:theCourt.courtListenerURL}
        //];

        var links = [];
        if (isDefined(theCourt.wikiUrl)) {
            links.push({name:"Wikipedia", url:theCourt.wikiUrl});
        }
        if (isDefined(theCourt.url)) {
            links.push({name:"Govt Site", url:theCourt.url});
        }
        if (isDefined(theCourt.courtListenerURL)) {
            links.push({name:"Cases on Court Listener", url:theCourt.courtListenerURL +
                "&stat_Precedential=on&stat_Non-Precedential=on&stat_Errata=on&stat_Separate+Opinion=on&stat_In-chambers=on&stat_Relating-to+orders=on&stat_Unknown+Status=on"});
        }
        else if (isDefined(theCourt.courtListenerCourt)) {
            links.push({name:"Cases on Court Listener", url:theCourt.courtListenerCourt.courtListenerURL +
                "&stat_Precedential=on&stat_Non-Precedential=on&stat_Errata=on&stat_Separate+Opinion=on&stat_In-chambers=on&stat_Relating-to+orders=on&stat_Unknown+Status=on"});
        }


        links = links.filter(function(link) {
            return (isDefined(link.url));
        })

        if (links.length>0) {
            s += "<tr>";
            s+= "<td class='bold middle center'>Links</td>";

            s += "<td><table>";

            links.forEach(function(link) {
                if (isDefined(link.url)) {

                    s += "<tr>";

                        s += "<td><a target='_blank' href='" + link.url + "'>" + link.name + "</td>";

                    s += "</tr>";
                }
            });


            if (isDefined(theCourt.seal) && isDefined(theCourt.sealSource) ) {
                s  += "<tr><td><a target='_blank' href='" + theCourt.sealSource + "'>Seal Image Source</a></td></tr>";
            }
            else {
                //console.log(theCourt);
            }

            s += "</table></td>";
            s += "</tr>";
        }



//        s += "<div><a target='_blank' href='" + theCourt.wikiUrl + "'>Wikipedia Article" + "</a></div";
//        if (theCourt.url) {
//            s += "<br/>";
//            s += "<div><a target='_blank' href='" + theCourt.url + "'>.gov Site" + "</a></div";
//        }
//        if (theCourt.courtListenerURL) {
//            s += "<br/>";
//            s += "<div><a target='_blank' href='" + theCourt.courtListenerURL + "'>erCases on Court Listen" + "</a></div";
//        }

        s += "</table>";

        return s;

    }

    //load the supreme court cases

    //this file contains the latest data set for supreme court decisions
    //from



    //set up courts organized by scdbId for the ones that can do that

    var courtsByScDbId = {};
    var arrayOfCourtsWithScDbId= [];
    for (var property in courtsByCitation) {
        if (courtsByCitation.hasOwnProperty(property)) {
            var possibleCourt = courtsByCitation[property];
            if (isDefined(possibleCourt.scdbId)) {
                courtsByScDbId[possibleCourt.scdbId] = possibleCourt;
                arrayOfCourtsWithScDbId.push(possibleCourt);
            }
            else if (isDefined(possibleCourt.courtListenerCourt) && isDefined( possibleCourt.courtListenerCourt.scdbId)) {
                possibleCourt.scdbId = possibleCourt.courtListenerCourt.scdbId;
                courtsByScDbId[possibleCourt.courtListenerCourt.scdbId] = possibleCourt;
                arrayOfCourtsWithScDbId.push(possibleCourt);
            }
            else if (isDefined(possibleCourt.myDistrictCourt) && isDefined( possibleCourt.myDistrictCourt.scdbId)) {
                possibleCourt.scdbId = possibleCourt.myDistrictCourt.scdbId;
                courtsByScDbId[possibleCourt.myDistrictCourt.scdbId] = possibleCourt;
                arrayOfCourtsWithScDbId.push(possibleCourt);
            }
            else {
                //console.log("No scDbId: '" + possibleCourt.citation + "', " + possibleCourt.name);
            }
        }
    }
    //console.log(courtsByScDbId);
    arrayOfCourtsWithScDbId.forEach(function(c) {
       //console.log(c.citation + ", " + c.name);
    });



    var s = "[";
    var bHaveWrittenOne = false;

    var numberCourts=0;
    that.courtsByCourtListenerAbbreviation = {};
    that.courtsByCitation = courtsByCitation;

    that.courtListenerShortNames = []; //for randomizing calling it
        for (var citation in courtsByCitation) {

        if (courtsByCitation.hasOwnProperty(citation)) {
            //console.log(courtsByCitation[citation]);
            numberCourts++;

            var theCourt = courtsByCitation[citation];



            //grab the identifier for the court
            var foundIt = false;
            if (theCourt.courtListenerURL || theCourt.courtListenerCourt) {

                var uri;
                if (theCourt.courtListenerURL) {
                    uri = new URI(theCourt.courtListenerURL);
                }
                else {
                    uri = new URI(theCourt.courtListenerCourt.courtListenerURL);
                }

                var queryParameters = uri.query().split("&");
                for (var i=0;i<queryParameters.length;i++) {
                    var qName = queryParameters[i];
                    if (qName.startsWith("court_")) {
                        var theShortCourtName = qName.replace("court_","");
                        theShortCourtName = theShortCourtName.replace("=on","");
                        //console.log(theShortCourtName);
                        foundIt = true;

                        theCourt.courtListenerAbbreviation = theShortCourtName;
                        if (that.courtsByCourtListenerAbbreviation[theShortCourtName]) {
                            console.log("Duplicate: '" + theShortCourtName + "'");
                            console.log(theCourt);
                        }
                        else {
                            that.courtsByCourtListenerAbbreviation[theShortCourtName] = theCourt;
                            that.courtListenerShortNames.push(theShortCourtName);
                        }


                    }
                }
                //https://www.courtlistener.com/?q=&court_bap9=on&order_by=score+desc
                if (!foundIt) {
                    console.log("Not found: " + theCourt.courtListenerURL);
                    console.log(theCourt);
                }

            }

            //this was used to get info for Mike
            // As of Aug 1, 2014, only about 120 courts have seals I've rounded up
            //console.log(theCourt.name);
            if (theCourt.seal) {

                if (bHaveWrittenOne) {
                    s += ", " + String.fromCharCode(13);
                }
                var o = {abbrev: theCourt.courtListenerAbbreviation || "NotFound", name:theCourt.name, seal:theCourt.seal, sealSource:theCourt.sealSource, citation:theCourt.citation};
                s += JSON.stringify(o);
                bHaveWrittenOne = true;

            }


        }
    }
    //onsole.log("Number courts: " + numberCourts);
    //onsole.log(s);

    //console.log(that.courtListenerShortNames);
    that.courtListenerShortNames = shuffleArray(that.courtListenerShortNames);
    that.nextIndexStartToGetCourtInfo = 0; //used when we will be going to get info from CourtListener
    //console.log(that.courtListenerShortNames);

    //need to be able to take a case and find the court

    //1) look for scdbid
    //2) look up by state

// Stuff here is start for grabbing what we need to visualize the pattern of case decisions
//May 23, 2014
// citing SCDB:
// Harold J. Spaeth, Sara Benesh, Lee Epstein, Andrew D. Martin, Jeffrey A. Segal, and Theodore J. Ruger.
//  2013. Supreme Court Database, Version 2013 Release 01. URL: http://supremecourtdatabase.org. Last accessed: May 23, 2014.


    d3.selectAll('.link')
        .on("mouseenter", function(d) {
            if (d.casesThatWentThrough) {
                //TODO - display qtip with info
                console.log(d.casesThatWentThrough.length);
            }
            else {
            }
        })
        .on("mouseleave", function(d) {
        });

    function createDisplayHtmlForCourtCases(thing) {
        //this will create the popup text displayed when you mouseover something
        //that has cases stored with it somehow
    }


    function getCourtStyle(courtData, scCase) {
        //this will return the style for divs based on current properties
        //it will also update props used later for mouseover
    }
    //this will style the link curve between two courts based on the current values,
    // AND it will update props for the current link (to be made use of later for
    // mouseover

    function resetLinkCounters(linkData) {
        linkData.casesThatWentThrough = [];
        linkData.timesUsed = 0;

    }
    function updateLinkCounters(linkData, scCase) {
        if (!linkData.casesThatWentThrough) {
            linkData.casesThatWentThrough = [];
        }
        if (scCase) {
            linkData.casesThatWentThrough.push(scCase);
        }
//        else {
//            //reset
//            linkData.casesThatWentThrough = [];
//            linkData.timesUsed = 0;
//        }
    }

    function getLinkStyle(linkData) {

//        if (!linkData.casesThatWentThrough) {
//            linkData.casesThatWentThrough = [];
//        }
//        if (scCase) {
//            linkData.casesThatWentThrough.push(scCase);
//        }
//        else {
//            //reset
//            linkData.casesThatWentThrough = [];
//            linkData.timesUsed = 0;
//        }

//            return {"stroke-width": (linkData.timesUsed + 1) / 4 + "px",
//                "opacity": Math.min(1, (linkData.timesUsed + 1) / 5),
//                "stroke": "#ff0000"
//            };

        var calcStyle = getStyleBasedOnCount(linkData.timesUsed);

        var s =  "stroke-width: " + calcStyle.width + "px; ";
        //s += "opacity: " + Math.min(1, (linkData.timesUsed + 1) / 3) + "; ";
        s += "stroke: " + calcStyle.color +";";

        return s;

    }

    function getStyleBasedOnCount(count) {

        if (count <=0) {
            return {width: 1, color: "#777", opacity:0.7};
//            stroke: #333;
//            stroke-width: 1px;
//            opacity:0.7;

        }
        else {
            var numberHues = 100;

            count = Math.min(count, numberHues);

            //var hueStart = 160, hueEnd = 0;
            var hueStart = 100, hueEnd = 0;
            var deltaHue = (hueEnd - hueStart) / (numberHues - 1);

            var widthDelta = 0.1;

            var theHue = hueStart + deltaHue * count;
            var rgbString = d3.hsl(theHue, 1, 0.6).toString();

            var width = Math.max(3, Math.min(30, count * widthDelta)).toFixed(0);

            var color = rgbString;

            return {width: width, color: color};
        }

    }


    that.getCurrentPeriodIdRunning = function() {
        if ( (that.theTimerId) &&  (that.latestPeriodModeled)) {
            that.latestPeriodModeled.period = "Jan 1, " + that.latestPeriodModeled.minyear + " to " + moment(that.currentDay).format("MMM D, YYYY");
        }
    }
    that.cancelPlayback = function() {

        $('#stopPlayback').animate({opacity:0});
        //update period...
        if ( (that.theTimerId) &&  (that.latestPeriodModeled)) {
            that.latestPeriodModeled.period = "Jan 1, " + that.latestPeriodModeled.minyear + " to " + moment(that.currentDay).format("MMM D, YYYY");
        }
        clearTimeout(that.theTimerId);
        that.theTimerId = null;

    };

    that.resetForPlayback = function() {

        closeAllTips();

        if ($('#opinionsGe').is(":visible")) {
            $('#opinionsGe').fadeOut();
        }

        that.stopShowingThoseWithMissingScrapers();
        $('#currentModeledPeriod').html("");

        d3.selectAll('.link')
            .attr("style",function(l) {
                resetLinkCounters(l)
                return getLinkStyle(l);
            });

        d3.selectAll(".link")
            .attr("timesUsed", function (link) {
                link.timesUsed = 0;
                link.timesUsedTo = {};
                link.timesUsedTo[supremeCourt.citation] = 0;
                return link.timesUsed;
            })
            ;//.style("opacity", 0.8);

        //that.allSupremeCourtCasesAvailable.forEach(function(c) {

        for (var citation in courtsByCitation) {

            if (courtsByCitation.hasOwnProperty(citation)) {
                var c = courtsByCitation[citation];
                c.casesThatWentThrough = [];
                c.casesThatWentThrough_source = [];
                c.casesThatWentThrough_origin = [];

                var color = getStyleBasedOnCount(c.casesThatWentThrough.length).color;
                d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + c.citation + "']")
                    .style({background: "#FFFFFF"});
                d3.selectAll(".circlediv[" + attributeNameForHighlightingCourtDuringPlayback + "='" + c.citation + "']")
                    .style({opacity: 0});

                //d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + c.citation + "']")
                //    .style({"border": "1px solid " + color})
            }
        }

        d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + boxOriginalJurisdiction.idForPlayback + "']")
            .style({background: "#FFFFFF"});


    };

    //this grabs out the cases from the period,
    // and then loops through them
    that.isAnalyzing = false;

    var borderColorHadCase = "#FFAAAA";
    var linkColorHadCase = "#FF6666";
    var backgroundColorFlashCase = "#FF9999";

    that.flashCourt = function(c, duration) {
        d3.select("[" + attributeNameForHighlightingCourtDuringPlayback + "='" +  c.citation + "']")
            .style({"background":backgroundColorFlashCase})
            .transition().duration(duration)
            .style({"background":"#FFFFFF"});

    }


    that.analyzePeriod = function(options) { //minYear,maxYear) {

        //{begin_mm_dd_yy:'08/07/2010'}

        if (that.isAnalyzing) {
            return;
        }

        that.isAnalyzing = true;
        //be smarter about the reference for this - duh
        var target = document.getElementById('spinner');
        console.log(target);
        spinner.spin(target);
        console.log(spinner);

        that.cancelPlayback();
        that.latestPeriodModeled = {};
        that.resetForPlayback();

        //that.latestPeriodModeled.minyear = minYear;
        $('#stopPlayback').animate({opacity:1});

        //get the min date
        var minDate = new Date(options.begin_mm_dd_yy);
        var maxDate;
        if (!options.end_mm_dd_yy) {
            maxDate = new Date('12/31/2012');
        }
        else {
            maxDate = new Date(options.end_mm_dd_yy);
        }
        //get the maxdate

        that.latestPeriodModeled.period = minDate.format("m/d/yyyy") + " to " + maxDate.format("m/d/yyyy");
        $('#currentModeledPeriod').html('SC Decisions, ' + that.latestPeriodModeled.period);

//        if (!maxYear || (maxYear <0)) {
//            that.latestPeriodModeled.period=minYear + " to Latest Available (2013)";
//            maxYear = 2100; //get them all... well, works for the next 85 years or so
//
//        }
//        else {
//            that.latestPeriodModeled.period=minYear + " to " + maxYear
//        }

        //var minYear = 2002;
        var timeToRunThroughAll_seconds = 10;
        var howlongFlashNonSupremeCourt_ms = 100;

        //var startDate = Date.parse('1/1/1980');

        that.allSupremeCourtCasesAvailable.forEach(function(c) {
            c.dateDecidedDate = new Date(c.dateDecision);
        });

        //get the cases decided for the selected period
        var selectedSupremeCourtCases = that.allSupremeCourtCasesAvailable.filter(function(d) {
            //console.log(d.dateDecision);
            return (d.dateDecidedDate >= minDate && d.dateDecidedDate <= maxDate);
            //var year = d.dateDecision.split('/')[2];
            //d.yearDecided = year;
            //d.dateDecidedDate = Date.parse(d.dateDecision);
            //return (year >= minYear) && (year <= maxYear);
        });

        //console.log(subset);

//        selectedSupremeCourtCases.forEach(function(c) {
//            console.log(c);
//        });

        var originalJurisdiction = selectedSupremeCourtCases.filter(function(d) {
            return d.jurisdiction==9;
        });

        var countByType = {};
        mannerSupremeCourtTakesCase.forEach(function(m) {
            countByType[m.id] = 0;
        });

        //need to attach things to the scCase as we need to


        var knownMissingInfoCases = {};
        //scdb has some "known missing data" cases
        //these can possibly be dealt with manually to go find the info
        knownMissingInfoCases['2008-030-01'] = true;
        knownMissingInfoCases['2006-069-01'] = true;
        knownMissingInfoCases['2005-043-01'] = true;
        knownMissingInfoCases['2000-017-01'] = true;
        knownMissingInfoCases['1999-045-01'] = true;
        knownMissingInfoCases['1997-100-01'] = true;
        knownMissingInfoCases['1998-010-01'] = true; //this is an "In re"
        knownMissingInfoCases['1998-033-01'] = true;
        knownMissingInfoCases['1998-040-01'] = true;
        knownMissingInfoCases['1998-064-01'] = true;
        knownMissingInfoCases['1998-082-01'] = true;
        knownMissingInfoCases['1998-093-01'] = true;
        knownMissingInfoCases['1999-006-01'] = true;
        knownMissingInfoCases['1999-003-01'] = true;
        knownMissingInfoCases['1999-002-01'] = true;
        knownMissingInfoCases['1999-005-01'] = true;
        knownMissingInfoCases['1999-004-01'] = true;
        knownMissingInfoCases['1999-008-01'] = true;
        knownMissingInfoCases['1999-007-01'] = true;

        selectedSupremeCourtCases.forEach(function(scCase) {
            //console.log("");
            //console.log(scCase.caseName);
            //console.log(scCase.sctCite);
            //console.log(scCase.certReason);

            if (Number(scCase.jurisdiction)===9) {
                //TODO - attach things to the box for original jurisdiction
                console.log("%c Original Jurisdiction Case", 'color:red;');
                scCase.isOriginalJurisdiction = true;
            }
            else if (knownMissingInfoCases[scCase.docketId]) {
                scCase.knownMissing = true;

                console.log("%c Known Missing Data", 'color:red;');

            }
            else {

                var manner = mannerSupremeCourtTakesCaseById[scCase.jurisdiction].value + ", " + (scCase.certReason ? certReasonById[scCase.certReason].name : "");
                //console.log(scCase.jurisdiction + ", " + manner);
                countByType[scCase.jurisdiction] = countByType[scCase.jurisdiction] + 1;

                var scCaseId = scCase.caseId;

                var idOfCaseSource = scCase.caseSource;
                var idOfCaseSourceState = scCase.caseSourceState;
                var idOfCaseOrigin = scCase.caseOrigin;
                var idOfCaseOriginState = scCase.caseOriginState;


                var originCourt = courtsByScDbId[idOfCaseOrigin];

                if (originCourt) {

                    //console.log("Origin: " + idOfCaseOrigin);
                    if ((!originCourt) && (idOfCaseOrigin.trim().length > 0)) {
                        console.log("Could not find origin court " + idOfCaseOrigin + " (" + scCase.caseName + ", " + scCase.dateDecision + ")");
                        //console.log(scCase);
                    }
                    else if (originCourt) {
                        console.log(manner + ", Origin: " + originCourt.name);
                    }
                    scCase.originCourt = originCourt;
                }
                else {
                    //console.log(originCourt);
                    var stateCourt = getStateCourt(idOfCaseOrigin, idOfCaseOriginState);
                    console.log(stateCourt);
                    //console.log(manner + ", Origin: " + getStateCourtInfo(manner, idOfCaseOrigin, idOfCaseOriginState));
                    scCase.originCourt = stateCourt;

                }
                //if (scCase.caseSourceState.trim().length===0) {
                var sourceCourt = courtsByScDbId[idOfCaseSource];
                if (sourceCourt) {
                    if ((!sourceCourt) && (idOfCaseSource.trim().length > 0)) {
                        console.log("Could not find source court " + idOfCaseSource);
                        console.log(scCase);
                    }
                    else if (sourceCourt) {
                        console.log(manner + ", Source: " + sourceCourt.name);

                    }
                    scCase.sourceCourt = sourceCourt;
                    //console.log("Source: " + idOfCaseSource);
                    //console.log(sourceCourt);
                }
                else {
                    var stateCourt = getStateCourt(idOfCaseOrigin, idOfCaseOriginState);
                    if (!stateCourt) {
                        console.log("%c" + manner + "; Expected state court for source - NONE FOUND", 'color:red;');
                    }
                    else {
                        console.log(stateCourt);
                    }
                    scCase.sourceCourt = stateCourt;
                    //console.log(manner + ", Source: " + getStateCourtInfo(manner, idOfCaseSource, idOfCaseSourceState));
                }
                //var originCourt = courtsByScDbId[idOfCaseOrigin];

                //console.log(scCaseId + ", jurisdiction: " + scCase.jurisdiction + ", origin:" + idOfCaseOrigin + ", originState:" + idOfCaseOriginState +
                //                    ", source:" + idOfCaseSource + ", sourceState:" + idOfCaseSourceState);
            }
        });

        //we are now in a position to "play" the data on the graph, if anything makes sense

        selectedSupremeCourtCases.forEach(function(scCase) {

            if ((scCase.isOriginalJurisdiction)
                ||
                (scCase.knownMissing)
                ||
                (scCase.sourceCourt)
                ) {
            }
            else {

                console.log("Case did not get set correctly: " + scCase.caseName);
            }
        });

        selectedSupremeCourtCases = selectedSupremeCourtCases.filter(function(c) {
            return (!c.knownMissing);
        });

        selectedSupremeCourtCases.sort(function(a,b) {

            return (a.dateDecidedDate.getTime() -  b.dateDecidedDate.getTime());

        } );


        that.latestPeriodModeled.period.theCasesIncluded = selectedSupremeCourtCases;

        var scCasesIndexedByDay = {};
        selectedSupremeCourtCases.forEach(function(c) {
            var key = c.dateDecidedDate.format("mm/dd/yyyy");
            var thisList = scCasesIndexedByDay[key];
            if (!thisList) {
                thisList = [];
            }
            thisList.push(c);
            scCasesIndexedByDay[key] = thisList;

        });
        var theDatesSeen = selectedSupremeCourtCases.map(function(c) {
            //console.log(c.dateDecidedDate.format("mm/dd/yyyy"));
            return c.dateDecidedDate;
        });

        var uniqueDays = {};
        theDatesSeen.forEach(function(d) {
            var s =  d.format("mm/dd/yyyy");
            uniqueDays[s] = s;
        });
        var uniqueDaysArray = [];
        for (var property in uniqueDays) {
            if (uniqueDays.hasOwnProperty(property)) {
                uniqueDaysArray.push(property);
            }
        }
        var minDate = selectedSupremeCourtCases[0].dateDecidedDate;
        var maxDate = selectedSupremeCourtCases[selectedSupremeCourtCases.length-1].dateDecidedDate;

        var MS_IN_DAY = 1000*60*60*24;
        var numberDays = (maxDate.getTime() - minDate.getTime())/MS_IN_DAY;

        numberDays = Math.ceil(numberDays);

        //run through them all in a
        var realTimeBetweenDays_ms = (timeToRunThroughAll_seconds*1000) / numberDays;

        console.log("Number Days, realTimeBetweenDays_ms: " + numberDays + ", " + realTimeBetweenDays_ms);
        $('#debugPlayBackArea').html("Number Days, realTimeBetweenDays_ms: " + numberDays + ", " + realTimeBetweenDays_ms);

        var theTimerId;
        var fadeOutDuration_ms = 1000;


//        next - flash case name?
//            sound based on the writ type?
//            long sound for original jurisdiction... or stay
//        original jurisdiction needs longer duration anyway so you can see courtOfAppealsFederalCircuitsince so rare
//        the music of the supreme court
//        each court gets its own note


        //mousing over a link will show all cases that went through the link
        //mousing over a court div/image will show the cases that involved this court
        //  (based on the data I can wrangle together)
        //this is for when I was animating it as ir progressed, which did not provide as much insight as
        //  I had hoped.  I used it as the starting place for the loop.

        function processNextDay() {
            var theDate = that.currentDay;
            var key = theDate.format("mm/dd/yyyy");

            //need to be able to highlight the links between a thing and the supreme court
            //increment counters/viz for number times used for links and courts

            var theCases = scCasesIndexedByDay[key];
            if (theCases) {
                //console.log(key);
                //still get some difference in spacing even with monospace font
                // .replace(' 0','  '
                $('#whereInPlaybackWeAre').html( moment(theDate).format("MMM DD, YYYY").replace(' 0','  '));
                //console.log(key + ": " + theCases.length);
                for (var i=0;i < theCases.length;i++) {
                    if (theCases[i].isOriginalJurisdiction) {
                        //console.log(key + ": " + "Original: " + theCases[i].caseName);

                        var sourceCourt = boxOriginalJurisdiction;


                        console.log("original jurisdiction");
                        console.log(boxOriginalJurisdiction);

                        if (isUndefined(sourceCourt.casesThatWentThrough)) {
                            sourceCourt.casesThatWentThrough = [];
                        }
                        if (isUndefined(sourceCourt.casesThatWentThrough_origin)) {
                            sourceCourt.casesThatWentThrough_origin = [];
                        }
                        if (isUndefined(sourceCourt.casesThatWentThrough_source)) {
                            sourceCourt.casesThatWentThrough_source = [];
                        }


                        sourceCourt.casesThatWentThrough.push(theCases[i]);
                        //if the qtip is showing
                        //$('.courtInfoTable [qtip-source="' + sourceCourt.citation + '"]').html(sourceCourt.casesThatWentThrough.length);

                        var color = getStyleBasedOnCount(sourceCourt.casesThatWentThrough.length).color;

                        //.style({"border": "1px solid " + color})
                        d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + boxOriginalJurisdiction.idForPlayback + "']")
                            .style({background:d3.rgb(color).brighter().toString()})
                            .transition().duration(howlongFlashNonSupremeCourt_ms)
                            .style({background:color});
                            //.style({background:"#ffffff"});

//                        d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + c.citation + "']")
//                            .style({"border": "1px solid " + color})

                        var selector='path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + boxOriginalJurisdiction.citation + '"]';
                        if (sourceCourt.parent) {
                            selector += ', path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + sourceCourt.parent.citation + '"]';
                        }

                        d3.selectAll(selector)
                            .attr("timesUsed", function(l) {
                                l.timesUsed++;
                                return l.timesUsed;
                            })
                            .attr("style", function (link) {
                                        updateLinkCounters(link, theCases[i]);
                                        return getLinkStyle(link); //, theCases[i])
                            });

                        that.flashCourt(supremeCourt,100);

                    }
                    else {
                        var sourceCourt;
                        var originCourt;

                        //console.log(theCases[i]);

                        if (!theCases[i].sourceCourt.theHighStateCourt) {
                            //console.log(theCases[i]);
                            //console.log(key + ": " + theCases[i].sourceCourt.name);
                            sourceCourt = theCases[i].sourceCourt;
                            originCourt = theCases[i].originCourt;
                        }
                        else {
                            sourceCourt = theCases[i].sourceCourt.theHighStateCourt;
                        }

                        var originIsSource = false;
                        if (sourceCourt && originCourt && (sourceCourt.citation==originCourt.citation)) {
                            originIsSource = true;
                        }

                        var haveFlashedCourt = false;
                        var otherCourt;
                        [{court:sourceCourt, isSource:true}, {court:originCourt,isOrigin:true}].forEach(function(courtInfo) {
                            //console.log(sourceCourt);
                            //console.log($("[idForPlayback='" +  sourceCourt.citation + "']").length);
                            var court = courtInfo.court;
                            if (courtInfo.isSource) {
                                otherCourt = originCourt;
                            }
                            else {
                                otherCourt = sourceCourt;
                            }
                            if (isDefined(court)) {

                                if (isUndefined(court.casesThatWentThrough)) {
                                    court.casesThatWentThrough = [];
                                }
                                if (isUndefined(court.casesThatWentThrough_origin)) {
                                    court.casesThatWentThrough_origin = [];
                                }
                                if (isUndefined(court.casesThatWentThrough_source)) {
                                    court.casesThatWentThrough_source = [];
                                }

                                //console.log(court);
                                court.casesThatWentThrough.push(theCases[i]);
                                if (courtInfo.isSource) {
                                    court.casesThatWentThrough_source.push(theCases[i]);
                                    //if the qtip is showing
                                    $('.courtInfoTable [qtip-source="' + court.citation + '"]').html(court.casesThatWentThrough_source.length);
                                }
                                if (courtInfo.isOrigin) {
                                    court.casesThatWentThrough_origin.push(theCases[i]);
                                    $('.courtInfoTable [qtip-origin="' + court.citation + '"]').html(court.casesThatWentThrough_origin.length);
                                }

                                //doh - don't flash/count it twice if origin is source
                                if ( !haveFlashedCourt || (!originIsSource)) {

                                    haveFlashedCourt = true;
                                    var color = getStyleBasedOnCount(court.casesThatWentThrough.length).color;

                                    d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
                                        .style({background: d3.rgb(color).brighter().toString(), opacity:1})
                                        .transition().duration(howlongFlashNonSupremeCourt_ms)
                                        .style({background: color});
//                                        .style({background: color, opacity: "1"})
//                                        .transition().duration(howlongFlashNonSupremeCourt_ms)
//                                        .style("background", "#ffffff");

                                    d3.selectAll(".circlediv[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
                                        .style({background: d3.rgb(color).brighter().toString(),opacity:1})
                                        .transition().duration(howlongFlashNonSupremeCourt_ms)
                                        .style("opacity", "0");

                                    //.style({"border": "1px solid " + color})

//                                d3.selectAll(".circlediv[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
//                                    .transition().duration(howlongFlashNonSupremeCourt_ms)
//                                    .style("opacity", "0");

                                    //update link if origin is not source...
                                    //if (!originIsSource) {
                                        var selector = 'path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + court.citation + '"]';
                                        if ( (court.parent) &&
                                            (  (!otherCourt)
                                                ||
                                               (otherCourt) && (court.parent.citation!=otherCourt.citation)
                                                )
                                            ){
                                            selector += ', path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + court.parent.citation + '"]';
                                            //console.log(selector);
                                        }
                                        d3.selectAll(selector)
                                            .attr("timesUsed", function (l) {
                                                l.timesUsed++;
                                                return l.timesUsed;
                                            })
                                            .attr("style", function (link) {
                                                updateLinkCounters(link, theCases[i]);
                                                return getLinkStyle(link); //, theCases[i])
                                                //return getLinkStyle(link, theCases[i])
                                            });
                                    //}
                                }
                            }

                        });
                        that.flashCourt(supremeCourt, 100);
                    }
                }
            }
            that.currentDay.setDate(that.currentDay.getDate() + 1);
            if (that.currentDay <= maxDate) {
                that.theTimerId = setTimeout(processNextDay,realTimeBetweenDays_ms);
            }
            else {
                clearTimeout(that.theTimerId);
                $('#whereInPlaybackWeAre').animate({opacity:0},5000);
                $('#stopPlayback').animate({opacity:0});
            }
        }

        function loopThroughTheDays() {

            //we go over the days, and then at the end transition colors and widths
            uniqueDaysArray.forEach(function(theKey)
            {

                //var theDate = that.currentDay;
                var key = theKey; //theDate.format("mm/dd/yyyy");
                //console.log(key);

                var theCases = scCasesIndexedByDay[key];
                if (theCases) {
                    //$('#whereInPlaybackWeAre').html(moment(theDate).format("MMM DD, YYYY").replace(' 0', '  '));
                    //console.log(key + ": " + theCases.length);
                    for (var i = 0; i < theCases.length; i++) {
                        if (theCases[i].isOriginalJurisdiction) {
                            //console.log(key + ": " + "Original: " + theCases[i].caseName);

                            var sourceCourt = boxOriginalJurisdiction;

                            if (isUndefined(sourceCourt.casesThatWentThrough)) {
                                sourceCourt.casesThatWentThrough = [];
                            }
                            if (isUndefined(sourceCourt.casesThatWentThrough_origin)) {
                                sourceCourt.casesThatWentThrough_origin = [];
                            }
                            if (isUndefined(sourceCourt.casesThatWentThrough_source)) {
                                sourceCourt.casesThatWentThrough_source = [];
                            }

                            sourceCourt.casesThatWentThrough.push(theCases[i]);

                            var color = getStyleBasedOnCount(sourceCourt.casesThatWentThrough.length).color;

                            //.style({"border": "1px solid " + color})
//                            d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + boxOriginalJurisdiction.idForPlayback + "']")
//                                .style({background: color})
//                                .transition().duration(howlongFlashNonSupremeCourt_ms)
//                                .style({background: "#ffffff", "border": "1px solid " + color});

                            var selector = 'path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + boxOriginalJurisdiction.citation + '"]';
                            if (sourceCourt.parent) {
                                selector += ', path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + sourceCourt.parent.citation + '"]';
                            }

                            d3.selectAll(selector)
                                .attr("timesUsed", function (l) {
                                    l.timesUsed++;
                                    return l.timesUsed;
                                })
                                .each(function(l) {
                                    updateLinkCounters(l, theCases[i]);
                                });
//                                .attr("style", function (link) {
//                                    updateLinkCounters(link, theCases[i]);
//                                    return getLinkStyle(link); //, theCases[i])
//                                    //return getLinkStyle(link, theCases[i])
//                                });

                            //flashCourt(supremeCourt, 100);

                        }
                        else {
                            var sourceCourt;
                            var originCourt;

                            //console.log(theCases[i]);

                            if (!theCases[i].sourceCourt.theHighStateCourt) {
                                //console.log(theCases[i]);
                                //console.log(key + ": " + theCases[i].sourceCourt.name);
                                sourceCourt = theCases[i].sourceCourt;
                                originCourt = theCases[i].originCourt;
                            }
                            else {
                                sourceCourt = theCases[i].sourceCourt.theHighStateCourt;
                            }

                            var originIsSource = false;
                            if (sourceCourt && originCourt && (sourceCourt.citation == originCourt.citation)) {
                                originIsSource = true;
                            }

                            [
                                {court: sourceCourt, isSource: true},
                                {court: originCourt, isOrigin: true}
                            ].forEach(function (courtInfo) {
                                //console.log(sourceCourt);
                                //console.log($("[idForPlayback='" +  sourceCourt.citation + "']").length);
                                court = courtInfo.court;
                                var otherCourt;
                                if (courtInfo.isSource) {
                                    otherCourt = originCourt;
                                }
                                else {
                                    otherCourt = sourceCourt;
                                }

                                if (isDefined(court)) {

                                    if (isUndefined(court.casesThatWentThrough)) {
                                        court.casesThatWentThrough = [];
                                    }
                                    if (isUndefined(court.casesThatWentThrough_origin)) {
                                        court.casesThatWentThrough_origin = [];
                                    }
                                    if (isUndefined(court.casesThatWentThrough_source)) {
                                        court.casesThatWentThrough_source = [];
                                    }

                                    //console.log(court);
                                    court.casesThatWentThrough.push(theCases[i]);
                                    if (courtInfo.isSource) {
                                        court.casesThatWentThrough_source.push(theCases[i]);
                                        //if the qtip is showing
                                        //$('.courtInfoTable [qtip-source="' + court.citation + '"]').html(court.casesThatWentThrough_source.length);
                                    }
                                    if (courtInfo.isOrigin) {
                                        court.casesThatWentThrough_origin.push(theCases[i]);
                                        //$('.courtInfoTable [qtip-origin="' + court.citation + '"]').html(court.casesThatWentThrough_origin.length);
                                    }

                                    //doh - don't flash/count it twice if origin is source
                                    if (!originIsSource) {

                                        var color = getStyleBasedOnCount(court.casesThatWentThrough.length).color;

//                                        d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
//                                            .style({background: color, opacity: "1"})
//                                            .transition().duration(howlongFlashNonSupremeCourt_ms)
//                                            .style("background", "#ffffff");

                                        //.style({"border": "1px solid " + color})

//                                        d3.selectAll(".circlediv[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
//                                            .transition().duration(howlongFlashNonSupremeCourt_ms)
//                                            .style("opacity", "0");

                                        var selector = 'path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + court.citation + '"]';
//                                        if (court.parent) {
//                                            selector += ', path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + court.parent.citation + '"]';
//                                            //console.log(selector);
//                                        }
                                        if ( (court.parent) &&
                                            (  (!otherCourt)
                                                ||
                                                (otherCourt) && (court.parent.citation!=otherCourt.citation)
                                                )
                                            ){
                                            selector += ', path.link[' + attributeNameForHighlightingLinkDuringPlayback + '="' + court.parent.citation + '"]';
                                            //console.log(selector);
                                        }
                                        d3.selectAll(selector)
                                            .attr("timesUsed", function (l) {
                                                l.timesUsed++;
                                                return l.timesUsed;
                                            })
                                            .each(function(l) {
                                                updateLinkCounters(l, theCases[i]);
                                            });
//                                            .attr("style", function (link) {
//                                                updateLinkCounters(link, theCases[i]);
//                                                return getLinkStyle(link); //, theCases[i])
//                                                //return getLinkStyle(link, theCases[i])
//                                            });
                                    }
                                }
                            });
                            //flashCourt(supremeCourt, 100);
                        }
                    }
                }
            });

            //transition links and other colors
            var selector = 'path.link[' + attributeNameForHighlightingLinkDuringPlayback + ']';

            d3.selectAll(selector)
                .transition().duration(1000)
                .style("stroke-width", function(l) {
                    return getStyleBasedOnCount(l.timesUsed).width + "px";
                })
                .style("stroke", function(l) {
                    return getStyleBasedOnCount(l.timesUsed).color;
                });

            for (var property in courtsByCitation) {
                if (courtsByCitation.hasOwnProperty(property)) {
                    var court = courtsByCitation[property];
                    if (court.casesThatWentThrough && court.casesThatWentThrough.length>0) {
                        console.log(court);
                        var color = getStyleBasedOnCount(court.casesThatWentThrough.length).color;
                        d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
                            .transition().duration(1000)
                            .style({background: color, opacity: 1})
                    }
                }
            }
            var color = getStyleBasedOnCount(boxOriginalJurisdiction.casesThatWentThrough.length).color;

            //.style({"border": "1px solid " + color})
            d3.selectAll("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + boxOriginalJurisdiction.idForPlayback + "']")
                .transition().duration(1000)
                .style({background: color, opacity: 1});


        } //function to loop over the days

        var stepThroughOneDayAtTime = false;// not animating it for now
        //this loop works
        if (stepThroughOneDayAtTime) {
            that.currentDay = minDate;
            //let's do a test highlight to start seeing how we might want to show this
            //console.log(selectedSupremeCourtCases);
            //do it all in one minute
            var latestSCCaseIndexDealtWith = 0;
            var differenceBetweenHighlight_ms = selectedSupremeCourtCases.length/(60*1000);

            clearTimeout(theTimerId);
            //reset counters

            $('#whereInPlaybackWeAre').animate({opacity: 1});

            //this starts the playback
            setTimeout(processNextDay, realTimeBetweenDays_ms);
        }
        else {
            //loop over it, then transition curve sizes and colors
            loopThroughTheDays();
        }
        console.log(minDate.format("mm/dd/yyyy"));
        console.log(maxDate.format("mm/dd/yyyy"));


        console.log("Original Jurisdiction (ALL cases): " + originalJurisdiction.length);
        console.log("Total cases: " + selectedSupremeCourtCases.length);

        mannerSupremeCourtTakesCase.forEach(function(m) {
            if (countByType[m.id]>0) {
                console.log(m.value + ": " + countByType[m.id]);
            }
        });

        that.isAnalyzing = false;
        spinner.stop();

    };



    //var allSupremeCourtCasesAvailable;
    //load the data - once loaded, we show the playback options
    d3.csv("scdb/SCDB_2013_01_caseCentered_Citation.csv", function(error, data) {


        that.allSupremeCourtCasesAvailable = data;

        //show the controls
        $('#playbackArea').animate({opacity:1},500);
        $('#doPlaybackCurrentCourt').animate({opacity:1},500);
        $('#doPlayback').animate({opacity:1},500);
        console.log("Done loading");

    });

    //finding state court
    //if state only has one supreme court, then there ya go
    //don't worry about appellate courts for the moment - might need to research them and add data directly
    //this returns the state highest court (or courts) if it can be found, with extra info
    // to be used for tracking things down later...
    function getStateCourt(caseInfo, caseState) {

        var theState = scdbStatesById[caseState];
        if (!theState) {
            return;
        }
        var stateName = theState.state;

            // State Supreme Court
            // courtType = "State Supreme Court";
            var theHighestCourtsForState = highestStateCourtsByStateName[stateName];
            if (!theHighestCourtsForState) {
                return "No highest court: '" + stateName + "'";
            }
            if (theHighestCourtsForState.length===1) {
                if  (Number(caseInfo) === 300) {
                    return {foundUniqueCourt: true,
                        isStateIntermediateAppellateCourt:false,
                        theCourt: theHighestCourtsForState[0]};
                }
                else if  (Number(caseInfo) === 301) {
                    return {foundUniqueCourt: false,
                            reasonNotUnique:"Need to hook up to state intermediate appellate courts",
                            isStateIntermediateAppellateCourt:true,
                        theHighStateCourt: theHighestCourtsForState[0]};
                }
                else if  (Number(caseInfo) === 302) {
                    return {foundUniqueCourt: false,
                        reasonNotUnique:"Need to add trial courts",
                        isStateTrialCourt:true,
                        theHighStateCourt: theHighestCourtsForState[0]};
                }
            }
            else {
                if  (Number(caseInfo) === 300) {
                    return {foundUniqueCourt: false,
                        isStateIntermediateAppellateCourt:false,
                        reasonNotUnique:"This state has more than one supreme court",
                        theCourt: theHighestCourtsForState};
                }
                else if  (Number(caseInfo) === 301) {
                    return {foundUniqueCourt: false,
                        reasonNotUnique:"Need to hook up to state intermediate appellate courts",
                        isStateIntermediateAppellateCourt:true,
                        theHighStateCourt: theHighestCourtsForState};
                }
                else if  (Number(caseInfo) === 302) {
                    return {foundUniqueCourt: false,
                        reasonNotUnique:"Need to add trial courts",
                        isStateTrialCourt:true,
                        theHighStateCourt: theHighestCourtsForState};
                }
            }
        }

    function getStateCourtInfo(manner, caseInfo, caseState) {

        var theState = scdbStatesById[caseState];
        if (!theState) {
            return "Could not get state: '" + caseState + ";, Court type: '" + courtType + "'";
        }
        else {
            var stateName = scdbStatesById[caseState].state;
            var courtType = "";
            if (Number(caseInfo) === 300) {
                // State Supreme Court
                courtType = "State Supreme Court";
            }
            else if (Number(caseInfo) === 301) {
                // State Appellate Court
                courtType = "State Appellate Court";
            }
            else if (Number(caseInfo) === 302) {
                // State Trial Court
                courtType = "State Trial Court";
            }

            return "State: " + stateName + ", Court type:  " + courtType;
        }
    }


    that.showWebPages = function() {
        //return;
        $("#graphArea").fadeOut(function() {

            $('#webpageImagesArea').css({"z-index": 1000});

            var testShowWebPagesArea = d3.select("#webpageImagesArea").append("div")
                                            .attr("class","htmlArea");

            var xShift = 50;
            var yShift = 50;
            var levelYShift = 35;//70
            var nodeRadius = 4;

            var imageWidth = 30;
            var imageHeight= 40;
            var xScaleFactor = (imageWidth/25)*4;
            //states

            testShowWebPagesArea.selectAll(".courtStateWebSite")
                .data(that.treeStates)
                .enter()
                .append("div")
                .filter(function(d) {
                    return d.depth > 1;
                })
                .attr("citation",function(d) {
                    return d.citation;
                })
                .classed("hasQtip","true")
                .style("position","absolute")
                .style("left",function(d) {
                    return (xShift + (-2*nodeRadius + d.x) + xScaleFactor) + "px";
                })
                .style("top", function(d) {
                    return ( (-2*nodeRadius + d.y) + (3 - d.depth)*levelYShift)+ "px";
                })
                .html(function(d) {
                    return "<a href='" + d.courtListenerCourt.url + "' target='_blank'>" +
                        "<img style='height:" + imageHeight + "'px;overflow:hide;' src='img/courtpages_100/" + getFilenameForCourtPageImage(d.courtListenerCourt) + "' width='" + imageWidth + "' height='" + imageWidth + "'>" +
                        "</a>";
                });


            //scotus

            //federal and below
            testShowWebPagesArea.selectAll(".courtFederalWebSite")
                .data(that.nodesNonState)
                .enter()
                .append("div")
                .filter(function(d) {
                    return (isDefined(d.courtListenerCourt) && isDefined(d.courtListenerCourt.url))
                    //need to grab down the other courts not in CourtListener data...
                    ||
                     (isDefined(d.url));
                })
                .attr("citation",function(d) {
                    //console.log("federal: '" + d.citation + "'");
                    return d.citation;
                })
                .classed("hasQtip","true")
                .classed("isScotusPage",function(d) {return d.citation===supremeCourt.citation;})
                .style("position","absolute")
                .style("left",function(d) {
                    if (d.citation===supremeCourt.citation) {
                        return "435px";
                    }
                    else {
                        return (xShift + (-2 * nodeRadius + d.x) + xScaleFactor) + "px";
                        //return ((-2*nodeRadius + d.x)*8) + "px";
                    }
                })
                .style("top", function(d) {
                    var shift = 0;
                    if (d.depth==0) {
                        console.log("depth = 0 " + d.citation);
                        shift = 30;//90; //70*(imageWidth/50);
                    }
                    else {
                        shift = yShift + (d.depth-2)*levelYShift;
                    }
                    if (d.citation===supremeCourt.citation) {
                        return "205px"; //( (-2 * nodeRadius + d.y) + shift) + "px";
                    }
                    else {
                        return ( (-2 * nodeRadius + d.y) + shift) + "px";
                    }
                })
                .html(function(d) {
                    var url, court;
                    if (isDefined(d.courtListenerCourt) && isDefined(d.courtListenerCourt.url)) {
                        url = d.courtListenerCourt.url;
                        court = d.courtListenerCourt;
                    }
                    else {
                        court = courtsByCitation[d.citation];
                        url = d.url;
                    }
                    if (d.citation===supremeCourt.citation) {
                        return "<a href='" + url.trim() + "' target='_blank'>" +
                            //"<img style='height:100px;overflow:hide;' src='js/courtpages_100/" + getFilenameForCourtPageImage(d.courtListenerCourt) + "' width='50' height='50'>" +
                            "<img src='img/courtpages_100/" + getFilenameForCourtPageImage(court) + "' width='250'>" +
                            "</a>";
                    }
                    else {
                        return "<a href='" + url.trim() + "' target='_blank'>" +
                            //"<img style='height:100px;overflow:hide;' src='js/courtpages_100/" + getFilenameForCourtPageImage(d.courtListenerCourt) + "' width='50' height='50'>" +
                            "<img style='height:" + imageHeight + "'px;overflow:none;' src='img/courtpages_100/" + getFilenameForCourtPageImage(court) + "' width='" + imageWidth + "' height='" + imageWidth + "'>" +
                            "</a>";
                    }
                });



            testShowWebPagesArea.selectAll(".courtOtherSources")
                .data(that.treeOtherSources)
                .enter()
                .append("div")
                .filter(function(d) {
                    return (isDefined(d.courtListenerCourt) && isDefined(d.courtListenerCourt.url))
                        //need to grab down the other courts not in CourtListener data...
                        ||
                        (isDefined(d.url));
                })
                .attr("citation",function(d) {
                    //console.log("federal: '" + d.citation + "'");
                    return d.citation;
                })
                .classed("hasQtip","true")
                .style("position","absolute")

                .style("left", function(d) {
                    return (0 + that.oForOther.x(d) - 0) + "px";
                })
                .style("top", function(d) {
                    return (45 + that.oForOther.y(d)) + "px";
                })
                .html(function(d) {
                    var url, court;
                    if (isDefined(d.courtListenerCourt) && isDefined(d.courtListenerCourt.url)) {
                        url = d.courtListenerCourt.url;
                        court = d.courtListenerCourt;
                    }
                    else {
                        court = courtsByCitation[d.citation];
                        url = d.url;
                    }

                    return "<a href='" + url.trim() + "' target='_blank'>" +
                        //"<img style='height:100px;overflow:hide;' src='js/courtpages_100/" + getFilenameForCourtPageImage(d.courtListenerCourt) + "' width='50' height='50'>" +
                        "<img style='height:height:" + imageHeight + "'px;overflow:hide;' src='img/courtpages_100/" + getFilenameForCourtPageImage(court) + "' width='" + imageWidth + "' height='" + imageWidth + "'>" +
                        "</a>";
                });


            //console.log(that.labelStateAppellateCourts);
            //$('#labelStateAppellateCourts').html("State<br/>Appellate<br/>Courts");
            var el = $('#labelStateAppellateCourts');
            el.css("left",0);
            console.log(el.css("top"));
            el.css("top","+=25px");
            console.log(el.css("top"));
            $("#webpageImagesArea").append(el);


            el = $('#labelDistrictCourts');
            el.css("left",0);
            el.css("top","+=80px");
            $("#webpageImagesArea").append(el);

            el = $('#labelBankruptcyCourts');
            el.css("left",0);
            el.css("top","+=88px");
            $("#webpageImagesArea").append(el);

            el = $('#labelDistrictCourts').clone();
            el.css("top","-=100px");
            el.html(el.html().replace('District<br>Courts','Circuit<br/>Courts<br/>of Appeal'));
            $("#webpageImagesArea").append(el);


            el = $('#labelOtherCourts');
            //el.css("left",0);
            el.css("top","+=115px");
            el.css("left","+=50px");
            $("#webpageImagesArea").append(el);

            el = $('#labelOtherCourts').clone();
            el.css("top","-=280px");
            el.css("left","-=60px");
            el.html("Armed<br/>Forces<br/>Courts");
            $("#webpageImagesArea").append(el);


            $('#infoDiv').html("");
            $('#header').html("Home Pages of the United States Judicial System");

            $('.hasQtip').each(function() {
            var citation = $(this).attr("citation");
            var theCourt = courtsByCitation[citation];

            var usedAssoc = false;
            if (!theCourt) {
                //console.log("setup qtip");
                //console.log($(this));
                //console.log($(this).attr("associatedcourtcitation"));
                theCourt = courtsByCitation[$(this).attr("associatedcourtcitation")];
                //console.log(theCourt);
                usedAssoc = true;
            }

            if (isDefined(theCourt)) {

                if (usedAssoc) {
                    //console.log("Used assoc.......");
                }
                var theTitle = theCourt.name;
                var tooltip = $(this).attr('tooltip');
                var citation = "" + ($(this).attr("citation"));

                //var citation = "";
                var parentInfo="";
                if (theCourt.seal) {
                    theTitle = "<table class='popupTitle'><tr><td><img class='popupTitle' src='" + SEAL_DIR + "/" + theCourt.seal + "' width='75'></td><td><div class='popupTitleText'>" + theTitle + "</div></td></tr></table>";
                }
                $(this).qtip({
                    style:{
                        width:550
                    },
                    show: {delay:delayForQtipPopup_ms},
                    content: {
                        text: makeToolTipContentForCourt(theCourt),
                        position: { viewport: $(window) },
                        adjust: {screen: true},
                        my: "center",
                        at: "center",
                        button: "x",
                        title: theTitle
                    },
                    hide: {event: false }
                    , ignorehide: { when: 'inactive', delay: 5000 }

                    , position: { viewport: $(window)
                        , adjust: {method:"shift shift"}}
                    , events: {
                        hide:function() {
                            //shrinkBackNodeForCourt(theCourt);

                        },
                        show: function() {
                            console.log("show tooltip");
                            closeAllTips();
                            if (!theCourt.casesThatWentThrough || theCourt.casesThatWentThrough.length==0) {
                                if (theCourt.extraThings && theCourt.extraThings.judgesPic) {
                                    $(this).qtip('option', 'style.width', "400");
                                }
                                else {
                                    $(this).qtip('option', 'style.width', "280");
                                }
                            }
                            else {
                                $(this).qtip('option', 'style.width', "400");
                            }
                            console.log("is state court: " + theCourt.isStateCourt);
                            if (theCourt.isStateCourt && theCourt.state) {
                                console.log(theCourt);
                                $('.courtStructure').qtip('destroy');
                                makeToolTipForStateCourtStructure('.courtStructure', theCourt.state);
                            }
                            //not working $(this).qtip('option', 'style.opacity', "0.5");
                            $(this).qtip('option','content.text',makeToolTipContentForCourt(theCourt));
                            updatePopupDatatableOfCases(theCourt);
                            //$this.content.text="Hello";
                        },
                        render: function() {
                            closeAllTips();
                            console.log("is state court: " + theCourt.isStateCourt);
                            if (theCourt.isStateCourt && theCourt.state) {
                                $('.courtStructure').qtip('destroy');
                                makeToolTipForStateCourtStructure('.courtStructure', theCourt.state);
                            }
                            //shrinkExpandedNodesButThisOne(theCourt);
                            //shrinkAnyExpandedNodes();
                        }
                    }            });
            }
            else {
                $(this).qtip({
                    style:{
                        width:550
                    },
                    content: {
                        text: $(this).attr('tooltip'),
                        position: { viewport: $(window) },
                        adjust: {screen: true},
                        my: "center",
                        at: "center",
                        button: "x",
                        title: $(this).attr("title")
                    }, ignorehide: {
                        event: false
                    }
                    , show: {delay:delayForQtipPopup_ms}
                    , hide: { when: 'inactive', delay: 5000 }
                    , position: { viewport: $(window)
                        , adjust: {method:"shift shift"}}
                    , events: {
                        show: function() {
                            closeAllTips();

                            //if (citation.length>0) {
                            //    $(this).qtip('option','content.text',makeToolTipContentForThing(theCourt, tooltip));
                            //}
                        },
                        render: function() {
                            closeAllTips();
                        }
                    }            });

            }
        });

        });


    }

    function createDataTable(theData, theColumnsInfo, theSelector) {

        console.log(theSelector);
        var table =  $(theSelector).dataTable({
                    destroy:true
                    , "searching":false
                    , "bInfo":false
                    ,  bSort:(theData && theData.length>0)
                    , "sDom": 'lfrtip'
                    ,"data": theData
                    , "columns": theColumnsInfo
                    , "bPaginate": false
                    , "lengthChange" : false
                    , scrollY:"150px"

                    , scrollCollapse:true
                    , "isScrollX": "100%", "isScrollXInner": "100%"
            }
            );

        setTimeout(function ()
        {
            //oTable.fnAdjustColumnSizing();
            table.fnAdjustColumnSizing(); //see if it works...
        }, 30 );
        //table.columns.adjust();
        //jQuery('.dataTable').wrap('<div class="dataTables_scroll" />');
    }

    //TODO - do people really contribute to election fund thing?  apparently...

    function getSmallObjectArrayAndMakeDataTable(arr, selector) {

        var test = arr.map(function(scCase) {

            console.log(scCase);
            //console.log(selector);

            //console.log(scCase.certReason);
            //var s = "https://www.google.com/search?q=" +  encodeURIComponent(scCase.caseName) + "&ie=UTF-8";
            var s = "https://www.courtlistener.com/?q=" +  encodeURIComponent(scCase.caseName)
            var certReason = "NA";
            if (certReasonById[scCase.certReason]) {
                certReason = certReasonById[scCase.certReason].name;
            }
            var issue = "NA";
            if (issueById[scCase.issue]) {
                issue = issueById[scCase.issue].name;
            }

            var disposition = "NA";
            if (dispositionById[scCase.caseDisposition]){
                disposition = dispositionById[scCase.caseDisposition].name;
            }

            return {
                //http://www.supremecourt.gov/Search.aspx?FileName=/docketfiles/

                "caseName":"<a target='_blank' href='" + s + "'>" + scCase.caseName + "</a>", //09-350.ZO.html'scCase.caseName,
                "issue": issue,
                "disposition":disposition,
                "dateDecision":scCase.dateDecision,
                "certReason":certReason};
        });

        console.log(test);
        createDataTable(test, [
                {title:"Date", "data": "dateDecision"}
                , {sWidth:'180px', title:"Case", "data": "caseName"}
                , {sWidth:'100px', title:"Result", "data":"disposition", sClass:"center"}
                , {sWidth:'180px', title:"Issue", "data":"issue", sClass:"casePadLeft"}]
            , selector);
    }

    //display stuff on the cases in the array
    function updatePopupDatatableOfCases (theCourt) {


        if (
            (!theCourt.casesThatWentThrough_source || theCourt.casesThatWentThrough_source.length == 0)
            &&
            (!theCourt.casesThatWentThrough_origin || theCourt.casesThatWentThrough_origin.length == 0)
            &&
            (theCourt.casesThatWentThrough && theCourt.casesThatWentThrough.length > 0)
            )
        {
            //this is one where there are just cases,
            getSmallObjectArrayAndMakeDataTable(theCourt.casesThatWentThrough, '#' + getSelector(that.gSelectorAllCasesCourtDataTable,theCourt) );
        }

        if (theCourt.casesThatWentThrough_source && theCourt.casesThatWentThrough_source.length > 0) {

            console.log(theCourt.casesThatWentThrough_source);

//            var test = theCourt.casesThatWentThrough_source.map(function(scCase) {
//                return {"caseName":scCase.caseName};
//            });
            getSmallObjectArrayAndMakeDataTable(theCourt.casesThatWentThrough_source, '#' + getSelector(that.gSelectorSourceCourtDataTable,theCourt) );
//                    ,{sWidth:'100px', title:"Cert Reason", "data":"certReason"}

//            console.log(test);
//
//            that.sourceSCTable =
//                $('#' + that.gSelectorSourceCourtDataTable).dataTable({
//                        destroy:true
//                , "searching":false
//                , "bInfo":false
//                , bSort:true
//                , "sDom": 'lfrtip'
//                , "scrollCollapse":true
//                ,"data": test
//                        , "columns": [
//                            {"data": "caseName"}
//                            ,{"data": "certReason"}
//                            ,{"data":"issue"}]
//                , "bPaginate": false
//                , "lengthChange" : false
//                , scrollY:"100px"
//                , scrollCollapse:true
//                , fnDrawCallback: function() {
//                            //$("#" + that.gSelectorSourceCourtDataTable + " thead").remove();
//                            //$("#" + that.gSelectorSourceCourtDataTable + " .dataTables_scrollHead").remove();
//                        }
//                }
//            );
        }
        if (theCourt.casesThatWentThrough_origin && theCourt.casesThatWentThrough_origin.length > 0) {

            //console.log(theCourt.casesThatWentThrough_source);

            getSmallObjectArrayAndMakeDataTable(theCourt.casesThatWentThrough_origin, '#' + getSelector(that.gSelectorOriginCourtDataTable,theCourt));

//            var test = theCourt.casesThatWentThrough_origin.map(function(scCase) {
//                console.log(scCase.certReason);
//                //07-214.htmhttp://www.law.cornell.edu/supct/html/
//                var s = "https://www.google.com/search?q=" +  encodeURIComponent(scCase.caseName) + "&ie=UTF-8";
//                return {
//                    "caseName":"<a target='_blank' href='" + s + "'>" + scCase.caseName + "</a>", //09-350.ZO.html'scCase.caseName,
//                        "issue": issueById[scCase.issue].name,
//                    "certReason":certReasonById[scCase.certReason].name};
//            });
//
//            createDataTable(test, [{sWidth:'180px', title:"Case", "data": "caseName"}
//                    ,{sWidth:'100px', title:"Cert Reason", "data":"certReason"}
//                    ,{sWidth:'180px', title:"Issue", "data":"issue"}]
//                , '#' + that.gSelectorOriginCourtDataTable);
//
//            console.log(test);

//            that.originSCTable =
//                $('#' + that.gSelectorOriginCourtDataTable).dataTable({
//                        destroy:true
//                        , "searching":false
//                        , "bInfo":false
//                        , bSort:true
//                        , "sDom": 'lfrtip'
//                        , "scrollCollapse":true
//                        ,"data": test
//                        , "columns": [
//                            {"data": "caseName"}
//                            ,{"data":"certReason"}
//                            ,{"data":"issue"}]
//                        , "bPaginate": false
//                        , "lengthChange" : false
//                        , scrollY:"100px"
//                        , scrollCollapse:true
//                        , fnDrawCallback: function() {
//                            //$("#" + that.gSelectorOriginCourtDataTable + " thead").remove();
//                            //$("#" + that.gSelectorOriginCourtDataTable + "_wrapper .dataTables_scrollHead").remove();
//
//                        }
//                    }
//                );
        }

    }

//    //this creates the html to display
//    function getDisplayInfoForSCCase(c) {
//
//            // case name for google search
//            // decision type
//            // date argued
//            // date decided
//            // petitioner
//            // issue/legal provision
//            // vote coalition
//            // decision direction
//            // manner in which court takes Jurisdiction
//            // issue - 278 of them
//            // issueArea
//
//        var summary =  {caseName: c.name
//                             dateDecided: c.dateDecidedDate
//                            , manner:mannerSupremeCourtTakesCaseById[c.certReason]
//                            , issueName: issueById[c.issue]
//                            , issueAreaName:  issueArea[c.issueArea]};
//
//
//        use datatable that takes an array
//    }
//



    that.getDateFormatForCourtListenerSearch = function(theDate) {
        var dateString= theDate.format("YYYY-MM-DD");
        return dateString;
    };

    that.getCourtListenerUrlForCourtAndDate = function(court, theDate) {

        //var url = "https://www.courtlistener.com/?q=&stat_Precedential=on&stat_Non-Precedential=on";
        var url = "https://www.courtlistener.com/?q=&stat_Precedential=on&stat_Non-Precedential=on&stat_Errata=on&stat_Separate+Opinion=on&stat_In-chambers=on&stat_Relating-to+orders=on&stat_Unknown+Status=on";
        url +=  "&filed_after=" + that.getDateFormatForCourtListenerSearch(theDate);
        url +=  "&order_by=dateFiled+desc";
        url += "&court=" + court.courtListenerAbbreviation;

        return url;

    };
    that.getCourtListenerUrlForDate = function(theDate) {

        //var url = "https://www.courtlistener.com/?q=&stat_Precedential=on&stat_Non-Precedential=on";
        var url = "https://www.courtlistener.com/?q=&stat_Precedential=on&stat_Non-Precedential=on&stat_Errata=on&stat_Separate+Opinion=on&stat_In-chambers=on&stat_Relating-to+orders=on&stat_Unknown+Status=on";
        url +=  "&filed_after=" + that.getDateFormatForCourtListenerSearch(theDate);
        url +=  "&order_by=dateFiled+desc";

        return url;

    };

    //using function and not var so that it is defined sooner... for now
    function getDateForSearch() {
        var aDate = that.datepicker.datepicker("getDate");
        return aDate;
    };

    function getDateFromDatePickerForDisplay() {
        var dateString= moment().format("M/DD/YYYY");
        if (that.datepicker) {
            var aDate = getDateForSearch();;
            dateString = moment(aDate).format("M/DD/YYYY");
        }
        return dateString;
    };

    var getDateStringForSearch = function() {

        var dateString= moment().format("YYYY-MM-DD");
        if (that.datepicker) {
            var aDate = getDateForSearch();;
            dateString = moment(aDate).format("YYYY-MM-DD");
            //console.log("Date string: " + dateString);
        }

        return dateString;

    };

    //call this periodically - for now, rarely because I want ALL data
    that.currentCourtListenerUpdateInterval_ms = 60*60*1000;
    that.doNextCheckOfCourtListener = function() {

        //if (that.interactWithCourtListener) {

            that.resetForPlayback();
            that.opinionsToday = 0;

            //let's try getting them all
            var numberToCheckAtATime =  that.courtListenerShortNames.length;

            $("#linkToOpinionsToday").attr("href",that.getCourtListenerUrlForDate(moment(getDateForSearch())));
            $('#opinionsTodayInfo').animate({"opacity":1});

            var dateString = getDateStringForSearch();

            for (var i = 0; i < numberToCheckAtATime; i++) {

                var courtAbbrev = that.courtListenerShortNames[that.nextIndexStartToGetCourtInfo];
                if (that.courtsByCourtListenerAbbreviation[courtAbbrev]) {
                    var c = that.courtsByCourtListenerAbbreviation[courtAbbrev];
                    //if (!c.opinionsFromToday) {
                    //    c.opinionsFromToday = [];
                    //}
                    c.opinionsFromToday = []; //just reset for now...
                }
                //whoops - wrong url - use the api, duh
                //var url = "https://www.courtlistener.com/?q=&court_" + courtAbbrev + "=on&order_by=dateFiled+desc";
                //good one... var url = "https://www.courtlistener.com/api/rest/v1/opinion/?date_filed__gt=2014-06-08&order_by=-date_filed&format=jsonp&callback=?";

                var url = "https://www.courtlistener.com/api/rest/v1/opinion/?date_filed__gte=" + dateString + "&court=" + courtAbbrev + "&order_by=-date_filed&format=jsonp&callback=?";

                //somehow mark the ones that don't have a scraper?



                console.log("url: " + url);

                getCases(url, that);

                that.nextIndexStartToGetCourtInfo++;
                if (that.nextIndexStartToGetCourtInfo >= that.courtListenerShortNames.length) {
                    that.nextIndexStartToGetCourtInfo = 0;
                }

            }
    };

        //that.courtListenerShortNames
        //that.nextIndexStartToGetCourtInfo

        //set the timer to check again
        //that.setTimerForNextCallToGetCourtListenerData(that.currentCourtListenerUpdateInterval_ms);
    //};

//    that.setInteractWithCourtListener = function(value) {
//
//        that.interactWithCourtListener = value;
//        if (value) {
//            that.resetTimerAndGetCasesFromCourtListener();
//        }
//        else {
//            that.stopCheckingCourtListener()
//        }
//
//    };

//    that.resetTimerAndGetCasesFromCourtListener = function() {
//
//        that.setTimerForNextCallToGetCourtListenerData(0);
//
//    };


    that.highlightMissingScrapers = function() {


        for (var citation in courtsByCitation) {

            if (courtsByCitation.hasOwnProperty(citation)) {
                //console.log(courtsByCitation[citation]);
                var court = courtsByCitation[citation];

                if (isDefined(court.courtListenerAbbreviation)
                    &&
                    isDefined(hasScraperByCourtListenerCourtName[court.courtListenerAbbreviation])
                    ) {

                    //scraper exists

                }
                else {

                    //console.log(shortName);
                    //var court = that.courtsByCourtListenerAbbreviation[shortName];

                    d3.select("[" + attributeNameForHighlightingCourtDuringPlayback + "='" + court.citation + "']")
                        .classed("missingScraper", true);
//                        .style({"background": "#FF0000"})
//                        .style({"border-color": "#000"})
//                        .style("stroke-width", "1px")
//                        .style("border-width", "1px")
//                        .style("stroke", "#000");

                    d3.select(".node[citation='" + court.citation + "']")
                        .classed("missingScraper", true);

                    d3.select(".stateNodeImage[citation='" + court.citation + "']")
                        .classed("missingScraper", true);

                }

            }

            //};
        }
    };

    that.stopShowingThoseWithMissingScrapers = function() {
        console.log("stopShowingThoseWithMissingScrapers");
        d3.selectAll(".node, .stateNodeImage, [" + attributeNameForHighlightingCourtDuringPlayback + "]")
            .classed("missingScraper",false);
        //,
    };

    that.flashForNewCase = function(court, theCase) {
        var duration_ms = 10*60*1000;


        console.log("Has case: " + court.name);
        var numberHues = 10;
        var theStyleInfo = getTheStyleBasedOnCount(court.opinionsFromToday.length,numberHues);

        d3.select("[" + attributeNameForHighlightingCourtDuringPlayback + "='" +  court.citation + "']")
            .style({"background":theStyleInfo.color})
            .style({"border-color":"#000"})
            .style("stroke-width","1px")
            .style("border-width","1px")
            .style("stroke","#000");
            //.style("z-index","10000")
            //.style("border","2px solid red");
            //.transition().duration(duration_ms)
            //.style({"background":"#FFFFFF"});

        d3.select(".node[citation='" + court.citation + "']")
                    .style("stroke","#000")
                    //.style("fill",d3.rgb(theStyleInfo.color).brighter().toString())
                    .style("fill",theStyleInfo.color) //d3.rgb(theStyleInfo.color).brighter().toString())
                    .style("stroke-width","1px");


    }


    that.updateOpinionsToday = function(n) {
        $('#opinionsToday').html(n);
    };

    that.newCasesFromCourtListener = function(theCases) {
        //console.log(theCases);
        //if (that.interactWithCourtListener) {

            //console.log("New cases");

            if (theCases.length>=20) {
                if (!$('#opinionsGe').is(":visible")) {
                    $('#opinionsGe').fadeIn();
                }
            }

            theCases.forEach(function (theCase) {
                var c = that.courtsByCourtListenerAbbreviation[theCase.courtListenerAbbreviation];
                if (c) {
                    that.opinionsToday++;
                    that.updateOpinionsToday(that.opinionsToday);
                    //next: figure out how to flash the nodes, too
                    //        and how we want to do with this
                    if (!c.opinionsFromToday) {
                        c.opinionsFromToday = [];
                    }
                    c.opinionsFromToday.push(theCase);
                    that.flashForNewCase(c, theCase); //5000);
                    //console.log(theCase.courtListenerAbbreviation);
                }
                else {
                    console.log("cannot find it: '" + theCase.courtListenerAbbreviation + "'")
                }
            });
        //}

    };


    that.getAllCourtsInArray = function() {
        var theCourts = [];
        for (var citation in courtsByCitation) {

            if (courtsByCitation.hasOwnProperty(citation)) {
                var court = courtsByCitation[citation];
                theCourts.push(court);
            }
        }
        return theCourts;
    };


    that.getSummaryOfDescriptiveTextHtml = function() {

        var descriptions = that.getObjectDescriptiveTextArray();

        var s = "<table>";

        descriptions.forEach(function(d) {
            s += "<tr><td>" + d.name + "</td><td>" + d.description + "</td></tr>";
        });

        s += "</table>";

        return s;

    };

    that.getSummaryOfDescriptiveText = function() {

        var descriptions = that.getObjectDescriptiveTextArray();

        var s = "";

        descriptions.forEach(function(d) {
            s += d.name + " : " + d.description + "\n";
        });
        
        return s;

    };

    that.getObjectDescriptiveTextArray = function() {

        var descriptions = [];

        descriptions.push({name:"citation", description:"This is the key for the court in internal hashtables; some of these are made up because I did not know what to use."});
        descriptions.push({name:"name", description:"Name for the court"});
        descriptions.push({name:"shortName", description:"'Short' name for the court"});

        descriptions.push({name:"courtListenerCourt", description:"structure with some additional info; "});
        descriptions.push({name:"courtListenerCourt.extraThings.judgesPic.url", description:"filename for the picture of the judges"});
        descriptions.push({name:"courtListenerCourt.extraThings.judgesPic.urlSource", description:"source for the picture of the judges"});

        descriptions.push({name:"parent", description:"Citation for the parent court of the court (if any); note that there are some 'fake' parents for display purposes in the viz; in particular, the top 'court' for the state supreme courts has citation 'statesWritBox'"});
        descriptions.push({name:"multipleParents", description:"(Primarily for bankruptcy courts); If the court can send cases up more than one way, this is array of the different parent citations"});
        descriptions.push({name:"children", description:"Array of the citation keys for the children courts for the court (if any)"});

        descriptions.push({name:"courtListenerName", description:"Name according to CourtListener (?)"});
        descriptions.push({name:"courtListenerAbbreviation", description:"abbreviation that CourtListener uses"});
        descriptions.push({name:"courtListenerURL", description:"URL to see results for the court"});

        descriptions.push({name:"jurisdiction", description:"Jurisdiction; can be 'Federal Appellate', 'Federal Bankruptcy', 'Federal District', 'Federal Special', 'State Appellate', 'State Special'"});

        descriptions.push({name:"isDistrictBankruptcyCourt", description:"Whether it is a bankruptcy court or not (true/false/null)"});

        descriptions.push({name:"scdbId", description:"ID of the court in the Supreme Court database"});


        descriptions.push({name:"myDistrictCourt", description:"Object with more details on the court, if a district court"});

        descriptions.push({name:"isStateCourt", description:"Whether it is a state court or not (true/false/null)"});
        descriptions.push({name:"state", description:"If state court, this is the full name of the state"});
        descriptions.push({name:"stateAbbrev", description:"If state court, this is two-character abbreviation for the state"});
        descriptions.push({name:"judgeTermLength", description:"If not null, the length of the term for the judges"});
        descriptions.push({name:"numberJudges", description:"If not null, how many judges are on the court"});

        descriptions.push({name:"meetingPlaces", description:"If not null, how many different places the court can meet"});

        descriptions.push({name:"established", description:"If not null, when the court was established"});
        descriptions.push({name:"chiefJudge", description:"If not null, current Chief Justice for the court"});
        descriptions.push({name:"chiefJudgeUrl", description:"If not null, wikipedia page for current Chief Justice for the court"});

        descriptions.push({name:"courtListenerCourt.jurisdiction", description:"Should be same as jurisdiction, I imagine"});


        //descriptions.push({name:"courtListenerCourt.extraThings.judgesPic.url", description:"filename for the picture of the judges"});
        //descriptions.push({name:"courtListenerCourt.extraThings.judgesPic.urlSource", description:"source for the picture of the judges"});


        descriptions.push({name:"seal", description:"filename for the court seal image"});
        descriptions.push({name:"sealSource", description:"where the seal image file was retrieved from"});

        descriptions.push({name:"url", description:"Web site for the court"});
        descriptions.push({name:"wikiUrl", description:"Wikimedia site for the court"});




        descriptions.push({name:"abbrev", description:"Abbreviation for the court"});


        descriptions.sort(function(a,b) {if (a.name < b.name) {return -1} else {return 1;}}   );

        return descriptions;

    };

    that.getStructureForExport = function() {

        var arr = theViz.getAllCourtsInArray();

        arr.forEach(function(arrEntry) { if (arrEntry.children) {
                                                arrEntry.children = 
                                                    arrEntry.children.map(function(child) {return child.citation;});
                                    }});

        arr.forEach(function(arrEntry) { 
                                        //arrEntry.parent = (arrEntry.parent ? arrEntry.parent.citation : null);
                                        arrEntry.parent = (arrEntry.parent ? arrEntry.parent.citation : null);
                                    });

        arr.forEach(function(arrEntry) { 
                        if (arrEntry.multipleParents) {
                                arrEntry.multipleParents = arrEntry.multipleParents.map(
                                                                    function(child) {
                                                                            return child.citation;
                                                                                    });
                            }
                        });


        // arr.forEach(function(arrEntry) { 
        //                 if (arrEntry.courtListenerCourt && arrEntry.courtListenerCourt.extraThings) {
        //                             arrEntry.courtListenerCourt.extraThings.judgesPic = null;}
        //                         });

        arr.forEach(function(arrEntry) { 
                                        if (arrEntry.courtListenerCourt) {arrEntry.courtListenerCourt.courtListenerCourt = null};                                        
                                    });


        arr.forEach(function(arrEntry) { if (arrEntry.courtListenerCourt) {
                                                arrEntry.courtListenerCourt.populationInfo = null;}
                                            });

        //arr.forEach(function(arrEntry) { if (arrEntry.courtListenerCourt) {
        //                                        arrEntry.courtListenerCourt.courtListenerCourt = null;
        //                                }});

        // arr.forEach(function(arrEntry) { if (arrEntry.courtListenerCourt) {arrEntry.courtListenerCourt.extraThings = null;}
        //                             });

        var citationsSeen = arr.map(function(c) { return c.citation;});


        return arr;

    };



    that.showPages = function() {

        var theCourts = that.getAllCourtsInArray();

        var bankruptcyCourts = theCourts.filter(function (c) {
            return (c.citation.indexOf("Bankr.") > -1)
        });

        bankruptcyCourts.sort(function (a, b) {
            return a.name.localeCompare(b.name);
        });


        bankruptcyCourts.forEach(function (c) {
            window.open(c.url, '_blank');
        });

//        var theStartElement = d3.select("#showPages");
//
//        theStartElement.selectAll(".bankruptcyCourtFrame")
//            .data(bankruptcyCourts)
//            .enter()
//            .append("div")
//            .classed("courtPageDiv",true)
//            .html(function(d) {
//                console.log(d);
//                var s = "<div class='courtPageTitle'>";
//                s += d.name;
//                s += " <a href='" + d.url + "' target='_blank'>" + d.url + "</a>";
//                s += "</div>";
//
//                //s += "iframe style='height:600px;width:100%;' src='" + d.url + "' /iframe";
//                //s += "<iframe src='" + d.url + "'></iframe>";
//
//                return s;
//            });

    };

    $('#btnShowPages').fadeOut();

    //};



//    that.stopCheckingCourtListener = function() {
//        clearTimeout(that.theCourtListenerTimerID);
//    };

//Calling with button only now July 12, 2014 that.setTimerForNextCallToGetCourtListenerData = function(howLongToWait_ms) {
//        that.theCourtListenerTimerID = setTimeout(function() {
//            that.doNextCheckOfCourtListener();
//        }, howLongToWait_ms);
//    };
//    that.setTimerForNextCallToGetCourtListenerData(1); //just fire it off for now for initial testing...

};





function isCyclic (obj) {
  var seenObjects = [];

  function detect (obj) {
    if (obj && typeof obj === 'object') {
      if (seenObjects.indexOf(obj) !== -1) {
        return true;
      }
      seenObjects.push(obj);
      //onsole.log(seenObjects.length - 1);
      //onsole.log(obj)
      for (var key in obj) {
        if (obj.hasOwnProperty(key) && detect(obj[key])) {

          console.log(seenObjects.indexOf(obj[key]) );  
          console.log(obj[key]);  

          console.log(obj, 'cycle at ' + key);
          return true;
        }
      }
    }
    return false;
  }

  return detect(obj);
}

;

var opts = {
    lines: 13, // The number of lines to draw
    length: 10, // The length of each line
    width: 5, // The line thickness
    radius: 10, // The radius of the inner circle
    corners: 1, // Corner roundness (0..1)
    rotate: 0, // The rotation offset
    direction: 1, // 1: clockwise, -1: counterclockwise
    color: '#1C94C4', // #rgb or #rrggbb
    speed: 1, // Rounds per second
    trail: 60, // Afterglow percentage
    shadow: false, // Whether to render a shadow
    hwaccel: false, // Whether to use hardware acceleration
    className: 'spinner', // The CSS class to assign to the spinner
    zIndex: 2e9, // The z-index (defaults to 2000000000)
    top: '30', // Top position relative to parent in px
    left: 'auto' // Left position relative to parent in px
};
var spinner = new Spinner(opts);


var theViz;

// David Walsh's thing
// http://davidwalsh.name/javascript-debounce-function
function debounce(func, wait, immediate) {
    var timeout;
    return function() {
        var context = this, args = arguments;
        clearTimeout(timeout);
        timeout = setTimeout(function() {
            timeout = null;
            if (!immediate) func.apply(context, args);
        }, wait);
        if (immediate && !timeout) func.apply(context, args);
    };
};

var debouncedResize = debounce(function () {
        theViz.reRenderAfterResize();
    },
    250);

function showProgressBar() {
    $('#loadingDiv').animate({"opacity":1}, function() {
        $(this).css("z-index","100000");
    });
}
function hideProgressBar() {
    $('#loadingDiv').animate({"opacity":0}, function() {
        $(this).css("z-index","-100000");
    });
}


$(document).ready(function() {

//    SHB.build({
//       elementID:'shb_custom',
//        buttons: {
//            fbShare: true,
//            plusShare:true,
//            pinterest:true,
//            tweet: true
//        },
//        pref: {
//            title: "Exploring the US Court System",
//            desc: "Exploring the US Court System",
//            via:"@bflyon"
//        }
//    });

    window.addEventListener('load', function() {
        new FastClick(document.body);
    }, false);

    window.addEventListener('resize', debouncedResize);

    $('#doPlayback').button().click(function(event) {
        theViz.analyzePeriod({begin_mm_dd_yy:'01/01/2002'}); //it only goes up to about the first half of 2013 at the moment
    });

    $('#doPlaybackCurrentCourt').button().click(function(event) {
        theViz.analyzePeriod({begin_mm_dd_yy:'08/07/2010'});
    });

    $('#stopPlayback').button().click(function(event) {
        theViz.cancelPlayback(); //it only goes up to about the first half of 2013 at the moment
    });

    $('#chkInteractWithCourtListener').button().click(function () {
        theViz.doNextCheckOfCourtListener();
        //setInteractWithCourtListener($(this).is(":checked"));
        //console.log("worldTweetMap.showPossiblySensitive: " + worldTweetMap.showPossiblySensitive);
    });

    $('#btnMissingScraperInfo').button().click(function(event) {
        theViz.highlightMissingScrapers();
    });

    $('#btnShowPages').button().click(function(event) {
        theViz.showPages();
    });

    var datepicker = $('#datepicker').datepicker();
    datepicker.datepicker("setDate", new Date());


    var headerBottom = $('#copyright').position().top + $('#copyright').height();
    $('#mainContent').css('top', (headerBottom + 5) + "px");

    var config={datepicker:datepicker,
                showProgressBar: showProgressBar,
                hideProgressBar: hideProgressBar};

    //config.tableSelector = "#theDataTable";

    theViz = new CourtVisualization(config);

    hideProgressBar();
    //$('#loadingDiv').animate({"opacity":0});
    //theViz.showWebPages();


});

